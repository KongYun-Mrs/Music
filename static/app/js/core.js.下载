(function(){window.NEJ=window.NEJ||{};NEJ.O={};NEJ.R=[];NEJ.F=function(){return!1};NEJ.P=function(ru){if(!ru||!ru.length)return null;var CQ=window;for(var a=ru.split("."),l=a.length,i=a[0]=="window"?1:0;i<l;CQ=CQ[a[i]]=CQ[a[i]]||{},i++);return CQ};NEJ.Q=function(fR,ru){fR=fR||NEJ.O;var bX=ru.split(".");for(var i=0,l=bX.length;i<l;i++){fR=fR[bX[i]];if(!fR)break}return fR};NEJ.C=function(){var Pp=function(){return NEJ.O.toString.call(arguments[0])!="[object Function]"};var Ps=function(bA,cm){for(var x in cm)if(bA==cm[x])return x;return null};var DI={cZ:0,cO:1,du:2,eB:3,tC:4,rh:5,sh:6,sH:7},hY={dh:0,cP:1,dG:2,eO:3,zR:4,zQ:5,zP:6,Ap:7};return function(){var en=function(){this.Sj();return this.cZ.apply(this,arguments)};en.prototype.Sj=NEJ.F;en.prototype.cZ=NEJ.F;en.cg=function(re,SK){if(Pp(re))return;if(SK==null||!!SK)NEJ.X(this,re,Pp);this.bhU=re;this.gO=re.prototype;var cK=function(){};cK.prototype=re.prototype;this.prototype=new cK;var tB=this.prototype;tB.constructor=this;var cE;for(var x in DI){cE=Ps(DI[x],hY);if(!cE||!this.gO[x])continue;tB[x]=function(bP){return function(){this[bP].apply(this,arguments)}}(cE)}var CG={};for(var x in hY){cE=Ps(hY[x],DI);if(!cE||!this.gO[cE])continue;CG[cE]=re;tB[x]=function(bP){return function(){var bo,cK=this.DX[bP],iU=cK.prototype[bP];this.DX[bP]=cK.bhU||re;if(!!iU)bo=iU.apply(this,arguments);this.DX[bP]=re;return bo}}(cE)}tB.Sj=function(){this.DX=NEJ.X({},CG)};tB.bnO=tB.dh;return tB};return en}}();NEJ.X=function(fj,cN,fJ){if(!fj||!cN)return fj;fJ=fJ||NEJ.F;for(var x in cN){if(cN.hasOwnProperty(x)&&!fJ(cN[x],x))fj[x]=cN[x]}return fj};NEJ.EX=function(fj,cN){if(!fj||!cN)return fj;for(var x in fj){if(fj.hasOwnProperty(x)&&cN[x]!=null)fj[x]=cN[x]}return fj};var tH=Function.prototype;tH.dT=function(Ej,EP){var f=NEJ.F,EP=EP||f,Ej=Ej||f,cS=this;return function(){var bg={args:NEJ.R.slice.call(arguments,0)};Ej(bg);if(!bg.stopped){bg.value=cS.apply(this,bg.args);EP(bg)}return bg.value}};tH.bl=function(){var bO=arguments,fj=arguments[0],ER=this;return function(){var ox=NEJ.R.slice.call(bO,1);NEJ.R.push.apply(ox,arguments);return ER.apply(fj||window,ox)}};tH.fH=function(){var bO=arguments,fj=NEJ.R.shift.call(bO),ER=this;return function(){NEJ.R.push.apply(arguments,bO);return ER.apply(fj||window,arguments)}};var tH=String.prototype;if(!tH.trim){tH.trim=function(){var dq=/(?:^\s+)|(?:\s+$)/g;return function(){return this.replace(dq,"")}}()}if(!window.MWF)window.MWF=NEJ;if(!window.mwf)window.mwf=NEJ.P("nej");if(!window.console){NEJ.P("console").log=NEJ.F;NEJ.P("console").error=NEJ.F}var lt,gt,amp,nbsp,quot,apos,copy,reg})();
(function(){var bf=NEJ.P,cz=NEJ.O,bt=bf("nej.p"),BZ=window.navigator.platform,nE=window.navigator.userAgent;var hS={mac:BZ,win:BZ,linux:BZ,ipad:nE,ipod:nE,iphone:BZ,android:nE};bt.AC=hS;for(var x in hS)hS[x]=(new RegExp(x,"i")).test(hS[x]);hS.ios=hS.ipad||hS.iphone||hS.ipod;hS.tablet=hS.ipad;hS.desktop=hS.mac||hS.win||hS.linux&&!hS.android;var fO={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};bt.gQ=fO;if(/msie\s+(.*?);/i.test(nE)||/trident\/.+rv:([\d\.]+)/i.test(nE)){fO.engine="trident";fO.browser="ie";fO.version=RegExp.$1;fO.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var jJ={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};fO.release=jJ[document.documentMode]||jJ[parseInt(fO.version)]}else if(/webkit\/?([\d.]+?)(?=\s|$)/i.test(nE)){fO.engine="webkit";fO.release=RegExp.$1||"";fO.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}}else if(/rv\:(.*?)\)\s+gecko\//i.test(nE)){fO.engine="gecko";fO.release=RegExp.$1||"";fO.browser="firefox";fO.prefix={css:"Moz",pro:"moz",clz:"Moz"};if(/firefox\/(.*?)(?=\s|$)/i.test(nE))fO.version=RegExp.$1||""}else if(/presto\/(.*?)\s/i.test(nE)){fO.engine="presto";fO.release=RegExp.$1||"";fO.browser="opera";fO.prefix={css:"O",pro:"o",clz:"O"};if(/version\/(.*?)(?=\s|$)/i.test(nE))fO.version=RegExp.$1||""}if(fO.browser=="unknow"){var jJ=["chrome","maxthon","safari"];for(var i=0,l=jJ.length,bP;i<l;i++){bP=jJ[i]=="safari"?"version":jJ[i];if((new RegExp(bP+"/(.*?)(?=\\s|$)","i")).test(nE)){fO.browser=jJ[i];fO.version=RegExp.$1.trim();break}}}bt.Tk={};var Ck=fO.engine!="trident";bt.iT={gecko:fO.engine!="gecko",webkit:fO.engine!="webkit",presto:fO.engine!="presto",trident0:Ck||fO.release>"2.0",trident1:Ck||fO.release<"6.0",trident2:Ck||fO.release>"3.0",trident:Ck||fO.release>="6.0"}})();
(function(){var gx=NEJ.P("nej.c"),bI={};var Fg=function(){var dq=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(bD){bD=bD||"";if(dq.test(bD))return RegExp.$1;return location.protocol+"//"+location.host}}();var zK=function(){var LW=function(bm,cm){if(!bm||!bm.length)return;for(var i=0,l=bm.length,tI;i<l;i++){tI=bm[i];if(tI.indexOf("://")>0)cm[Fg(tI)]=tI}};var bZ={portrait:{name:"portrait",dft:"portrait/"},"ajax.swf":{name:"ajax",dft:"nej_proxy_flash.swf"},"chart.swf":{name:"chart",dft:"nej_flex_chart.swf"},"audio.swf":{name:"audio",dft:"nej_player_audio.swf"},"video.swf":{name:"video",dft:"nej_player_video.swf"},"clipboard.swf":{name:"clipboard",dft:"nej_clipboard.swf"}};return function(cN){gx.tK("root",cN.root||"/res/");var Fh,fV=gx.bG("root");for(var x in bZ){Fh=bZ[x];gx.tK(x,cN[Fh.name]||fV+Fh.dft)}var rc=cN.p_csrf;if(rc==!0){rc={cookie:"AntiCSRF",param:"AntiCSRF"}}gx.tK("csrf",NEJ.EX({cookie:"",param:""},rc));bI.frames={};LW(cN.p_frame,bI.frames);bI.flashs={};LW(cN.p_flash,bI.flashs)}}();gx.tK=function(bz,bA){bI[bz]=bA};gx.bG=function(bz){return bI[bz]};gx.bco=function(bD){var Ml=Fg(bD);return bI.frames[Ml]||Ml+"/res/nej_proxy_frame.html"};gx.bdo=function(bD){return bI.flashs[Fg(bD)]};zK(window.NEJ_CONF||NEJ.O)})();
(function(){var bf=NEJ.P,bt=bf("nej.p"),gx=bf("nej.c"),cN=window.NEJ_CONF||NEJ.O;if(bt.iT.trident)return;gx.tK("storage.swf",cN.storage||gx.bG("root")+"nej_storage.swf");if(bt.gQ.release<"4.0"){gx.tK("blank.png",cN.blank||gx.bG("root")+"nej_blank.gif")}var bm=cN.xdr,eS=/^(https?:\/\/.*?)(?=\/|$)/i,hV=/[\/?=&]/i;var Mm=function(bD){return(eS.test(bD)?RegExp.$1:"").toLowerCase()};if(!!bm&&!!bm.length)for(var i=bm.length-1,bD,bz;i>=0;i--){bD=bm[i];bz=Mm(bD);if(!!bz)gx.tK(bz,bD)}gx.bnj=function(bD){var bz=Mm(bD);if(!bz){if(hV.test(bD)){bz=location.protocol+"//"+location.host}else if(bD.indexOf("://")<0){bz=location.protocol+"//"+bD}else{bz=bD}}return gx.bG(bz)||bz+"/res/nej_xdomain.html"}})();
(function(){var bf=NEJ.P,gx=bf("nej.c"),bt=bf("nej.g"),ey=+(new Date);bt.bnh=1e4-ey;bt.Fv=10001-ey;bt.bnf=10002-ey;bt.Nq=10003-ey;bt.bim=10004-ey;bt.bna=10005-ey;bt.Fy=10006-ey;bt.bip=10007-ey;bt.oM="Content-Type";bt.bmX="text/plain";bt.sN="multipart/form-data";bt.biq="application/x-www-form-urlencoded";bt.Nw=gx.bG("blank.png")||"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})();
(function(){var bf=NEJ.P,cz=NEJ.O,eX=NEJ.R,cj=NEJ.F,bc=bf("nej.e"),bH=bf("nej.h"),bj=bf("nej.u");var rw=function(bh,bB){try{bB=bB.toLowerCase();if(bh===null)return bB=="null";if(bh===undefined)return bB=="undefined";return cz.toString.call(bh).toLowerCase()=="[object "+bB+"]"}catch(e){return!1}};bj.eH=function(bh){return rw(bh,"function")};bj.eT=function(bh){return rw(bh,"string")};bj.zp=function(bh){return rw(bh,"number")};bj.bmR=function(bh){return rw(bh,"boolean")};bj.FD=function(bh){return rw(bh,"date")};bj.eD=function(bh){return rw(bh,"array")};bj.ip=function(bh){return rw(bh,"object")};bj.hh=function(){var dq=/[^\x00-\xfff]/g;return function(cq){return(""+(cq||"")).replace(dq,"**").length}}();bj.hj=function(bm,bw){var fJ=bj.eH(bw)?bw:function(bA){return bA===bw},bs=bj.cY(bm,fJ);return bs!=null?bs:-1};bj.bmO=function(){var Om;var zo=function(bm,FK,FN){if(FK>FN)return-1;var zm=Math.ceil((FK+FN)/2),bo=Om(bm[zm],zm,bm);if(bo==0)return zm;if(bo<0)return zo(bm,FK,zm-1);return zo(bm,zm+1,FN)};return function(bm,Cp){Om=Cp||cj;return zo(bm,0,bm.length-1)}}();bj.jT=function(bm,dJ,gF){if(!bm||!bm.length||!bj.eH(dJ))return null;for(var i=bm.length-1;i>=0;i--)if(!!dJ.call(gF,bm[i],i,bm))return i;return null};bj.ch=function(bm,dJ,gF){if(!bm||!bm.length||!bj.eH(dJ))return this;if(!!bm.forEach){bm.forEach(dJ,gF);return this}for(var i=0,l=bm.length;i<l;i++)dJ.call(gF,bm[i],i,bm);return this};bj.cY=function(bm,dJ,gF){if(!bm||!bj.eH(dJ))return null;if(bm.length!=null){if(bm.length>0)for(var i=0,l=bm.length;i<l;i++)if(!!dJ.call(gF,bm[i],i,bm))return i}if(bj.ip(bm)){for(var x in bm)if(bm.hasOwnProperty(x)&&!!dJ.call(gF,bm[x],x,bm))return x}return null};bj.XQ=function(tO,Ym,bd){tO=tO||[];bd=bd||cz;var SM=!!bd.union,nT=!!bd.begin,Ag=bd.compare,baM=SM&&nT?bj.jT:bj.ch;baM(Ym,function(bw){if(!!Ag)Ag=Ag.fH(bw);var bs=bj.hj(tO,Ag||bw);if(bs>=0)tO.splice(bs,1);if(SM)tO[nT?"unshift":"push"](bw)});return tO};bj.zh=function(cm,cq){if(!cm||!cq||!cq.replace)return cq||"";return cq.replace(cm.r,function($1){var bo=cm[!cm.i?$1.toLowerCase():$1];return bo!=null?bo:$1})};bj.hd=function(){var cm={r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""};return function(cq){return bj.zh(cm,cq)}}();bj.qS=function(){var cm={r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"};return function(cq){return bj.zh(cm,cq)}}();bj.fX=function(){var cm={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g},baO=["上午","下午"],baZ=["A.M.","P.M."],bbW=["日","一","二","三","四","五","六"],bbY=["一","二","三","四","五","六","七","八","九","十","十一","十二"],bde=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];var ze=function(dW){dW=parseInt(dW)||0;return(dW<10?"0":"")+dW};var bdr=function(bel){return bel<12?0:1};return function(cu,Vf,beF){if(!cu||!Vf)return"";cu=bj.beT(cu);cm.yyyy=cu.getFullYear();cm.yy=(""+cm.yyyy).substr(2);cm.M=cu.getMonth()+1;cm.MM=ze(cm.M);cm.eM=bde[cm.M-1];cm.cM=bbY[cm.M-1];cm.d=cu.getDate();cm.dd=ze(cm.d);cm.H=cu.getHours();cm.HH=ze(cm.H);cm.m=cu.getMinutes();cm.mm=ze(cm.m);cm.s=cu.getSeconds();cm.ss=ze(cm.s);cm.ms=cu.getMilliseconds();cm.w=bbW[cu.getDay()];var LN=bdr(cm.H);cm.ct=baO[LN];cm.et=baZ[LN];if(!!beF){cm.H=cm.H%12}return bj.zh(cm,Vf)}}();bj.beT=function(cu){var sL=cu;if(bj.eT(cu))sL=new Date(Date.parse(cu));if(!bj.FD(cu))sL=new Date(cu);return sL};bj.zc=function(bfd,bfg){return(new Number(bfd)).toFixed(bfg)};bj.HK=function(){var eS=/([^\/:])\/.*$/,hV=/\/[^\/]+$/,yX=/[#\?]/,Id=location.href.split(/[?#]/)[0],Ie=document.createElement("a");var If=function(hX){return(hX||"").indexOf("://")>0};var Oq=function(hX){return(hX||"").split(yX)[0].replace(hV,"/")};var Xf=function(hX,fV){if(hX.indexOf("/")==0)return fV.replace(eS,"$1")+hX;return Oq(fV)+hX};Id=Oq(Id);return function(hX,fV){hX=(hX||"").trim();if(!If(fV))fV=Id;if(!hX)return fV;if(If(hX))return hX;hX=Xf(hX,fV);Ie.href=hX;hX=Ie.href;return If(hX)?hX:Ie.getAttribute("href",4)}}();bj.Xh=function(){var dq=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(bD){if(dq.test(bD||""))return RegExp.$1.toLowerCase();return""}}();bj.Or=function(rq,co){if(!rq)return co;var bP=rq.tagName.toLowerCase(),bm=bc.fs(rq);if(!bm||!bm.length){co[bP]=rq.textContent||rq.text||"";return co}var cE={};co[bP]=cE;bj.ch(bm,function(bi){bj.Or(bi,cE)});return co};bj.bma=function(qJ){try{return bj.Or(bc.Ot(qJ),{})}catch(ex){return null}};bj.OP=function(fI,yO){var co={};bj.ch((fI||"").split(yO),function(bP){var AN=bP.split("=");if(!AN||!AN.length)return;var bz=AN.shift();if(!bz)return;co[decodeURIComponent(bz)]=decodeURIComponent(AN.join("="))});return co};bj.IV=function(fj,yO,YE){if(!fj)return"";var bX=[];for(var x in fj){bX.push(encodeURIComponent(x)+"="+(!!YE?encodeURIComponent(fj[x]):fj[x]))}return bX.join(yO||",")};bj.iF=function(dn){return bj.OP(dn,"&")};bj.dv=function(fj){return bj.IV(fj,"&",!0)};bj.blS=function(fj){return bH.tR(fj)};bj.blR=function(bm,fJ){var bo={};bj.ch(bm,function(bw){var bz=bw;if(!!fJ){bz=fJ(bw)}bo[bz]=bw});return bo};bj.blP=function(dW,cV){var YM=(""+dW).length,Zj=Math.max(1,parseInt(cV)||0),di=Zj-YM;if(di>0){dW=(new Array(di+1)).join("0")+dW}return""+dW};bj.Jm=function(fj,bP){if(!bj.eD(bP)){try{delete fj[bP]}catch(e){fj[bP]=undefined}return this}bj.ch(bP,bj.Jm.bl(bj,fj));return this};bj.Py=function(){var PH="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(dc){dc=dc||10;var bo=[];for(var i=0,PK;i<dc;++i){PK=Math.floor(Math.random()*PH.length);bo.push(PH.charAt(PK))}return bo.join("")}}();bj.ZK=function(cR,cs){return Math.floor(Math.random()*(cs-cR)+cR)};bj.pt=function(dc){dc=Math.max(0,Math.min(dc||8,30));var cR=Math.pow(10,dc-1),cs=cR*10;return bj.ZK(cR,cs).toString()};bj.PL=function(){var ey=+(new Date);return function(){return""+ey++}}()})();
(function(){var bf=NEJ.P,eX=NEJ.R,bt=bf("nej.p"),bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bH=bf("nej.h");var hB=bt.gQ.prefix,PM=bt.Tk,ZT={scale:"scale({x|1},{y|1})",rotate:"rotate({a})",translate:"translate({x},{y})"},ZU={scale:"scale3d({x|1},{y|1},{z|1})",rotate:"rotate3d({x},{y},{z},{a})",translate:"translate3d({x},{y},{z})"},yz={transition:!0,transform:!0,animation:!0,keyframes:!0,box:!0,"box-pack":!0,"box-flex":!0,marquee:!0,"border-radius":!0,"user-select":!0};var zK=function(){var lW=bH.PR();PM.css3d=!!lW&&lW.m41!=null;var dq=/-([a-z])/g;for(var x in yz){yz[PS(x)]=yz[x]}};var PS=function(){var dq=/-([a-z])/g;return function(bP){bP=bP||"";return bP.replace(dq,function($1,$2){return $2.toUpperCase()})}}();var Qo=function(bP){return(!PM.css3d?ZT:ZU)[bP]};var Qq=function(){var dq=/\s+/;return function(en){en=(en||"").trim();return!!en?en.split(dq):null}}();var AX=function(bu,bB,en){bu=bc.bG(bu);if(!bu)return;bj.ch(Qq(en),function(df){bu.classList[bB](df)})};bH.tR=function(bm){return eX.slice.call(bm,0)};bH.JH=function(bu){return bH.tR(bu.children)};bH.JM=function(bu,en){return bH.tR(bu.getElementsByClassName(en))};bH.JN=function(bu,tT){AX(bu,"add",tT)};bH.JW=function(bu,tU){AX(bu,"remove",tU)};bH.yi=function(bu,tU,tT){AX(bu,"remove",tU);AX(bu,"add",tT)};bH.Kd=function(bu,en){bu=bc.bG(bu);if(!bu)return!1;var bm=bu.classList;if(!bm||!bm.length)return!1;return bj.hj(Qq(en),function(df){return bm.contains(df)})>=0};bH.Ke=function(bu,df){};bH.Kg=function(bu){};bH.Km=function(ew,ge){ew.selectionEnd=ge.end||0;ew.selectionStart=ge.start||0;ew.focus()};bH.KC=function(ew){return{end:ew.selectionEnd,start:ew.selectionStart}};bH.KD=function(){var rk=function(df,bg){var bu=bn.cL(bg);if(!bu.value)bc.bQ(bu,df)};var tV=function(df,bg){bc.bS(bn.cL(bg),df)};return function(bu,fi,df){if(fi==1){bn.bT(bu,"blur",rk.bl(null,df))}if(fi==1||fi==-1){bn.bT(bu,"focus",tV.bl(null,df))}}}();bH.KF=function(rq){return(new XMLSerializer).serializeToString(rq)||""};bH.KG=function(qJ){var fV=(new DOMParser).parseFromString(qJ,"text/xml").documentElement;return fV.nodeName=="parsererror"?null:fV};bH.KJ=function(bu){};bH.nL=function(bu){return null};bH.KK=function(bu){return null};bH.KM=function(fU){};bH.KN=function(){var bO=bH.tR(arguments);bO[0]=bc.bG(bO[0]);if(!bO[0])return null;bO[1]=(bO[1]||"").toLowerCase();if(!bO[1])return null;return bO};bH.qu=function(){var qt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},ik={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration"};var bfr=function(bB){return(hB.evt||hB.pro)+bB};return function(){var bO=bH.KN.apply(bH,arguments);if(!bO)return;var Bt=ik[bO[1]],Bx=qt[bO[1]];if(!!Bt){bO[4]=bO[1];bO[1]=bfr(Bt)}else if(!!Bx){var bP="on"+bO[1];if(!(bP in bO[0])){bO[4]=bO[1];bO[1]=Bx}}return bO}}();bH.KP=function(){var bO=arguments;bO[0].addEventListener(bO[1],bO[2],!!bO[3])};bH.BW=function(){var bO=arguments;bO[0].removeEventListener(bO[1],bO[2],!!bO[3])};bH.KQ=function(bu,bB,bd){var bg=document.createEvent("Event");bg.initEvent(bB,!0,!0);NEJ.X(bg,bd);bu.dispatchEvent(bg)};bH.PR=function(){var eS=/\((.*?)\)/,hV=/\s*,\s*/,bm=["m11","m12","m21","m22","m41","m42"];var sz=function(lW){var co={};if(eS.test(lW||"")){bj.ch(RegExp.$1.split(hV),function(bA,bs){co[bm[bs]]=bA||""})}return co};return function(lW){if(!!window.CSSMatrix)return new CSSMatrix(lW);var bP=hB.clz+"CSSMatrix";if(!!window[bP])return new window[bP](lW||"");return sz(lW)}}();bH.SV=function(){var dq=/\{(.*?)\}/g;return function(bP,cm){cm=cm||o;var hE=Qo(bP);return!hE?"":hE.replace(dq,function($1,$2){var bX=$2.split("|");return cm[bX[0]]||bX[1]||"0"})}}();bH.KU=function(bu,bP,bA){bu.style[bH.Tn(bP)]=bA};bH.Tn=function(){var dq=/^[a-z]/,KX=hB.css;var bgx=function(bP){return bP.replace(dq,function($1){return KX+$1.toUpperCase()})};return function(bP){bP=PS(bP);var bgC=bH.bgE(bP,yz);return bgC?bgx(bP):bP}}();bH.bgE=function(){var dq=/^([a-z]+?)[A-Z]/;return function(bP,cm){if(!cm[bP]){if(dq.test(bP))bP=RegExp.$1}return!!cm[bP]}}();bH.bgG=function(){var dq=/\$<(.*?)>/gi,KX="-"+hB.css.toLowerCase()+"-";return function(lx){return lx.replace(dq,function($1,$2){var kT=$2,bX=kT.split("|"),hE=Qo(bX[0]);if(!!hE){return bH.SV(bX[0],bj.iF(bX[1]))}return!bH.bgM(kT,yz)?kT:KX+kT})}}();bH.bgM=function(bP,cm){return!!cm[bP]};bH.Le=function(fM,lx){fM.textContent=lx};bH.Lf=function(fM,lx){var pH=fM.sheet,dc=pH.cssRules.length;pH.insertRule(lx,dc);return pH.cssRules[dc]};bH.bkC=function(bu,bd){};bH.Dc=function(Dj){return(Dj||"").toLowerCase()!="transparent"};bH.TC=function(bu){};bH.Li=function(bu,bP){if(!!bu.getAttribute)return bu.getAttribute(bP);return""};bH.Az=function(fz){bc.it(fz)};zK()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),bt=bf("nej.p"),bH=bf("nej.h");if(bt.iT.trident0)return;var ey=+(new Date);bI={};bH.Ke=bH.Ke.dT(function(bg){bg.stopped=!0;var bO=bg.args,bE=bc.hH(bO[0]),bz="hover-"+bE;if(!bE||!!bI[bz])return;bI[bz]=!0;bn.bT(bE,"mouseenter",bc.bS.bl(bc,bE,bO[1]));bn.bT(bE,"mouseleave",bc.bQ.bl(bc,bE,bO[1]))});bH.Kg=function(){var bkz=function(){};return bH.Kg.dT(function(bg){bg.stopped=!0;var bu=bg.args[0],bE="fixed-"+bc.hH(bu);if(!!bI[bE])return;var bZ={};bI[bE]=bZ})}();bH.KJ=bH.KJ.dT(function(bg){bg.stopped=!0;var bu=bg.args[0],fM=bu.style,TO=bc.my();fM.width=TO.scrollWidth+"px";fM.height=TO.scrollHeight+"px"});bH.nL=bH.nL.dT(function(bg){bg.stopped=!0;var bu=bg.args[0],hu=bI[bu.msk];if(!hu){bu.msk=ey++;hu=bc.jw("iframe");hu.style.position="absolute";bI[bu.msk]=hu}bg.value=hu;var fM=hu.style;fM.top=(parseInt(bc.fo(bu,"top"))||0)+"px";fM.left=(parseInt(bc.fo(bu,"left"))||0)+"px";fM.width=bu.offsetWidth+"px";fM.height=bu.offsetHeight+"px";bu.insertAdjacentElement("beforeBegin",hu)});bH.KK=bH.KK.dT(function(bg){bg.stopped=!0;var hu=bI[bg.args[0].msk];if(!!hu)bc.jW(hu)})})();
(function(){var bf=NEJ.P,bt=bf("nej.p"),bc=bf("nej.e"),bH=bf("nej.h");if(bt.iT.trident1)return;bH.qu=function(){var qt={touchcancel:"MSPointerCancel",touchstart:"MSPointerDown",touchmove:"MSPointerMove",touchend:"MSPointerUp"};return bH.qu.dT(function(bg){var bO=bH.KN.apply(bH,bg.args);if(!bO){bg.stopped=!0;return}var bB=qt[bO[1]];if(!!bB&&("on"+bB).toLowerCase()in bO[0]){bO[4]=bO[1];bO[1]=bB;bg.stopped=!0;bg.value=bO}})}();bH.Dc=function(Dj){return!0};bH.Az=bH.Az.dT(function(bg){bg.stopped=!0;var fz=bg.args[0];bc.cD(fz,"display","none");try{fz.contentWindow.document.body.innerHTML="&nbsp;"}catch(ex){}})})();
(function(){var bf=NEJ.P,cz=NEJ.O,bt=bf("nej.p"),bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bH=bf("nej.h"),Lu={};if(bt.iT.trident)return;bH.tR=bH.tR.dT(function(bg){bg.stopped=!0;var bm=bg.args[0];if(!bm){bg.value=null;return}var bs=0,bo=[];while(!!bm[bs]){bo.push(bm[bs++])}bg.value=bo});bH.JH=bH.JH.dT(function(bg){bg.stopped=!0;var bX=[];bj.ch(bg.args[0].childNodes,function(bi){if(bi.nodeType==1)bX.push(bi)});bg.value=bX});bH.JM=bH.JM.dT(function(bg){var bu=bg.args[0];if(!!bu.getElementsByClassName)return;bg.stopped=!0;var bo=[],biM=new RegExp("(\\s|^)(?:"+bg.args[1].replace(/\s+/g,"|")+")(?=\\s|$)");bj.ch(bu.getElementsByTagName("*"),function(bi){if(biM.test(bi.className))bo.push(bi)});bg.value=bo});bH.Km=bH.Km.dT(function(bg){var ew=bg.args[0],ge=bg.args[1];if(ew.selectionStart==null){bg.stopped=!0;var sg=ew.createTextRange();sg.collapse(!0);sg.moveStart("character",ge.start);sg.moveEnd("character",ge.end-ge.start);sg.select();ew.focus()}});bH.KC=bH.KC.dT(function(bg){var ew=bg.args[0];ew.focus();if(ew.selectionStart==null){bg.stopped=!0;var UW=document.selection.createRange();var Vp=ew.createTextRange();Vp.moveToBookmark(UW.getBookmark());var LK=ew.createTextRange();LK.collapse(!0);LK.setEndPoint("EndToStart",Vp);var kO=LK.text.length;bg.value={start:kO,end:kO+UW.text.length}}});bH.KF=bH.KF.dT(function(bg){if(!!window.XMLSerializer)return;bg.stopped=!0;var bu=bg.args[0];bg.value=bu.xml!=null?bu.xml:bu.outHTML});bH.KG=function(){var xS=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var bko=function(){try{for(var i=0,l=xS.length;i<l;i++)return new ActiveXObject(xS[i])}catch(ex){return null}};return bH.KG.dT(function(bg){if(!!window.DOMParser)return;bg.stopped=!0;var AK=bko();if(!!AK&&AK.loadXML(bg.args[0])&&!AK.parseError.errorCode)bg.value=AK.documentElement})}();bH.qu=function(){var ik={input:"propertychange",load:"readystatechange"};for(var x in ik)Lu[ik[x]]=!0;var bkn=function(bu,bB){if("on"+bB in bu)return null;return ik[bB]||""};var bkm=function(bB,cS){var dJ=cS;switch(bB){case"readystatechange":dJ=function(bg){var bu=bn.cL(bg)||this;if(bu.readyState=="loaded"||bu.readyState=="complete"){bg.target=bu;cS.call(bu,bg)}};break;case"propertychange":dJ=function(bg){var bu=bn.cL(bg)||this;if("value"in bu&&bg.propertyName=="value"){bg.target=bu;cS.call(bu,bg)}};break}return dJ};return bH.qu.dT(function(bg){var bO=bH.KN.apply(bH,bg.args);if(!bO){bg.stopped=!0;return}var bB=bkn(bO[0],bO[1]);if(!!bB){bg.stopped=!0;bO[4]=bO[1];bO[1]=bB;if(!!bO[2]){bO[5]=bO[2];bO[2]=bkm(bO[1],bO[2])}bg.value=bO}},function(bg){var bO=bg.value;if(!bO[0]||!bj.eH(bO[2]))return;if(!bj.eH(bO[5]))bO[5]=bO[2];bO[2]=bO[2].bl(bO[0])})}();bH.KP=bH.KP.dT(function(bg){var bO=bg.args;if(!!Lu[bO[1]]||!document.addEventListener){bg.stopped=!0;bO[0].attachEvent("on"+bO[1],bO[2])}});bH.BW=bH.BW.dT(function(bg){var bO=bg.args;if(!!Lu[bO[1]]||!document.removeEventListener){bg.stopped=!0;bO[0].detachEvent("on"+bO[1],bO[2])}});bH.KQ=bH.KQ.dT(function(bg){if(!document.createEvent){bg.stopped=!0;var bO=bg.args,Vl=document.createEventObject();NEJ.X(Vl,bO[2]);try{bO[0].fireEvent("on"+bO[1],Vl)}catch(ex){console.error(ex.message);console.error(ex.stack)}}});bH.KU=bH.KU.dT(function(bg){var bO=bg.args,bP=bO[1].toLowerCase();if(bP=="opacity"&&!(bP in document.body.style)){bO[1]="filter";bO[2]="alpha(opacity="+bO[2]*100+")"}});bH.Le=function(){var cs=30;return bH.Le.dT(function(bg){var bu=bg.args[0];if(!bu.styleSheet)return;bg.stopped=!0;var lx=bg.args[1];var bm=document.styleSheets;if(bm.length>cs){bu=bm[cs];lx=bu.cssText+lx}else{bu=bu.styleSheet}bu.cssText=lx})}();bH.Lf=bH.Lf.dT(function(bg){var bO=bg.args,pH=bO[0].sheet;if(!!pH)return;bg.stopped=!0;var pH=bO[0].styleSheet,dc=pH.rules.length,bX=bO[1].split(/[\{\}]/);pH.addRule(bX[0],bX[1],dc);bg.value=pH.rules[dc]});bH.KD=function(){var rk=function(df,bg){bc.bQ(bn.cL(bg),df)};return bH.KD.dT(function(bg){if(bt.gQ.release>="4.0")return;var bO=bg.args;if(bO[1]!=1){bn.bT(bO[0],"blur",rk.bl(null,bO[2]));bO[1]=-1}})}();bH.Dc=function(Dj){return!0};bH.Li=bH.Li.dT(function(bg){var bO=bg.args,bi=(bO[0].attributes||cz)[bO[1]];if(!!bi){bg.stopped=!0;bg.value=bi.value}},function(bg){var bO=bg.args;if(bO[1]=="maxlength"&&bg.value==2147483647)bg.value=""});if(bt.gQ.release<5){bH.KM=function(){var gJ,fz,sF=[],LI="cb-"+ +(new Date),cq='<script>parent.nej.h["'+LI+'"] = !0;parent.location.hash = decodeURIComponent("#<HASH>");</scr'+"ipt>";var Vj=function(){gJ=window.clearTimeout(gJ);if(!sF.length)return;var fU=sF.shift();try{var nX=fz.contentWindow.document;nX.open();nX.write("<head><title>");nX.write(document.title);nX.write("</title>");nX.write(cq.replace("#<HASH>",encodeURIComponent(fU)));nX.write("</head><body></body>");if(location.hostname!=document.domain)nX.domain=document.domain;nX.close();bH[LI]=!1}catch(ex){console.log(ex.message||ex);sF.unshift(fU)}gJ=window.setTimeout(Vj,50)};return bH.KM.dT(function(bg){bg.stopped=!0;var fU=bg.args[0];if(!!bH[LI]||!fz&&!fU)return;sF.push(fU);if(!fz)fz=bc.LH();Vj()})}()}try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}})();
(function(){var bf=NEJ.P,bn=bf("nej.v"),bH=bf("nej.h"),bt=bf("nej.p"),Vh=bt.Tk;if(bt.iT.gecko)return;var zK=function(){Vh.css3d=Vh.css3d||"MozPerspective"in document.body.style;if(!document.body.insertAdjacentElement)HTMLElement.prototype.insertAdjacentElement=function(xQ,bu){if(!xQ||!bu)return;switch(xQ){case"beforeEnd":this.appendChild(bu);return;case"beforeBegin":this.parentNode.insertBefore(bu,this);return;case"afterBegin":!this.firstChild?this.appendChild(bu):this.insertBefore(bu,this.firstChild);return;case"afterEnd":!this.nextSibling?this.parentNode.appendChild(bu):this.parentNode.insertBefore(bu,this.nextSibling);return}};if(!("innerText"in document.body)){HTMLElement.prototype["__defineGetter__"]("innerText",function(){return this.textContent});HTMLElement.prototype["__defineSetter__"]("innerText",function(cq){this.textContent=cq})}};bH.qu=function(){var eS=/^(?:transitionend|animationend|animationstart|animationiteration)$/i;return bH.qu.dT(function(bg){var bO=bg.args;if(eS.test(bO[1]||"")){bg.stopped=!0;bg.value=bO}})}();bH.TC=function(){var bkg=function(bg){bn.eC(bg);bn.cL(bg).control.click()};return function(bu){bn.bT(bu,"click",bkg)}}();zK()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bH=bf("nej.h");var Ds=function(){var jJ=!!document.body.classList;return function(){return jJ}}();var Vg=function(){var dq=/\s+/g;return function(en){en=(en||"").trim();return!en?null:new RegExp("(\\s|^)(?:"+en.replace(dq,"|")+")(?=\\s|$)","g")}}();bH.yi=bH.yi.dT(function(bg){if(Ds())return;bg.stopped=!0;var bO=bg.args,bu=bc.bG(bO[0]);if(!bu||!bO[1]&&!bO[2])return;var en=bu.className||"";var tT=" "+(bO[2]||""),tU=Vg((bO[1]||"")+tT);!!tU&&(en=en.replace(tU,"$1"));bu.className=(en+tT).replace(/\s+/g," ").trim()});bH.JN=bH.JN.dT(function(bg){if(Ds())return;bg.stopped=!0;var bO=bg.args;bH.yi(bO[0],"",bO[1])});bH.JW=bH.JW.dT(function(bg){if(Ds())return;bg.stopped=!0;var bO=bg.args;bH.yi(bO[0],bO[1],"")});bH.Kd=bH.Kd.dT(function(bg){if(Ds())return;bg.stopped=!0;var bO=bg.args,bu=bc.bG(bO[0]);if(!bu){bg.value=!1;return}var dq=Vg(bO[1]);bg.value=!dq?!1:dq.test(bu.className||"")})})();
(function(){var bf=NEJ.P,bt=bf("nej.p"),bH=bf("nej.h");if(bt.iT.webkit)return;bH.Dc=function(Dj){return!0}})();
(function(){var o=!0,w=null;(function(B){function v(a){if("bug-string-char-index"==a)return"a"!="a"[0];var f,c="json"==a;if(c||"json-stringify"==a||"json-parse"==a){if("json-stringify"==a||c){var d=k.stringify,b="function"==typeof d&&l;if(b){(f=function(){return 1}).toJSON=f;try{b="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(m)===r&&d(r)===r&&d()===r&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([r])&&"null"==d(w)&&"[null,null,null]"==d([r,m,w])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[f,o,!1,w,"\0\b\n\f\r\t"]})&&"1"===d(w,f)&&"[\n 1,\n 2\n]"==d([1,2],w,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(n){b=!1}}if(!c)return b}if("json-parse"==a||c){a=k.parse;if("function"==typeof a)try{if(0===a("0")&&!a(!1)){f=a('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var e=5==f.a.length&&1===f.a[0];if(e){try{e=!a('"\t"')}catch(g){}if(e)try{e=1!==a("01")}catch(i){}}}}catch(O){e=!1}if(!c)return e}return b&&e}}var m={}.toString,p,C,r,D=typeof define==="function"&&define.amd,k="object"==typeof exports&&exports;k||D?"object"==typeof JSON&&JSON?k?(k.stringify=JSON.stringify,k.parse=JSON.parse):k=JSON:D&&(k=B.JSON={}):k=B.JSON||(B.JSON={});var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(P){}if(!v("json")){var s=v("bug-string-char-index");if(!l)var t=Math.floor,J=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,f){return J[f]+365*(a-1970)+t((a-1969+(f=+(f>1)))/4)-t((a-1901+f)/100)+t((a-1601+f)/400)};if(!(p={}.hasOwnProperty))p=function(a){var f={},c;if((f.__proto__=w,f.__proto__={toString:1},f).toString!=m)p=function(a){var f=this.__proto__,a=a in(this.__proto__=w,this);this.__proto__=f;return a};else{c=f.constructor;p=function(a){var f=(this.constructor||c).prototype;return a in this&&!(a in f&&this[a]===f[a])}}f=w;return p.call(this,a)};var K={"boolean":1,number:1,string:1,"undefined":1};C=function(a,f){var c=0,b,h,n;(b=function(){this.valueOf=0}).prototype.valueOf=0;h=new b;for(n in h)p.call(h,n)&&c++;b=h=w;if(c)c=c==2?function(a,f){var c={},b=m.call(a)=="[object Function]",d;for(d in a)!(b&&d=="prototype")&&!p.call(c,d)&&(c[d]=1)&&p.call(a,d)&&f(d)}:function(a,f){var c=m.call(a)=="[object Function]",b,d;for(b in a)!(c&&b=="prototype")&&p.call(a,b)&&!(d=b==="constructor")&&f(b);(d||p.call(a,b="constructor"))&&f(b)};else{h=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];c=function(a,f){var c=m.call(a)=="[object Function]",b,d;if(d=!c)if(d=typeof a.constructor!="function"){d=typeof a.hasOwnProperty;d=d=="object"?!!a.hasOwnProperty:!K[d]}d=d?a.hasOwnProperty:p;for(b in a)!(c&&b=="prototype")&&d.call(a,b)&&f(b);for(c=h.length;b=h[--c];d.call(a,b)&&f(b));}}c(a,f)};if(!v("json-stringify")){var L={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},u=function(a,f){return("000000"+(f||0)).slice(-a)},G=function(a){var f='"',b=0,d=a.length,h=d>10&&s,n;for(h&&(n=a.split(""));b<d;b++){var e=a.charCodeAt(b);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:f=f+L[e];break;default:if(e<32){f=f+("\\u00"+u(2,e.toString(16)));break}f=f+(h?n[b]:s?a.charAt(b):a[b])}}return f+'"'},E=function(a,b,c,d,h,n,e){var g=b[a],i,j,k,l,q,s,v,x,y;try{g=b[a]}catch(A){}if(typeof g=="object"&&g){i=m.call(g);if(i=="[object Date]"&&!p.call(g,"toJSON"))if(g>-1/0&&g<1/0){if(z){k=t(g/864e5);for(i=t(k/365.2425)+1970-1;z(i+1,0)<=k;i++);for(j=t((k-z(i,0))/30.42);z(i,j+1)<=k;j++);k=1+k-z(i,j);l=(g%864e5+864e5)%864e5;q=t(l/36e5)%24;s=t(l/6e4)%60;v=t(l/1e3)%60;l=l%1e3}else{i=g.getUTCFullYear();j=g.getUTCMonth();k=g.getUTCDate();q=g.getUTCHours();s=g.getUTCMinutes();v=g.getUTCSeconds();l=g.getUTCMilliseconds()}g=(i<=0||i>=1e4?(i<0?"-":"+")+u(6,i<0?-i:i):u(4,i))+"-"+u(2,j+1)+"-"+u(2,k)+"T"+u(2,q)+":"+u(2,s)+":"+u(2,v)+"."+u(3,l)+"Z"}else g=w;else if(typeof g.toJSON=="function"&&(i!="[object Number]"&&i!="[object String]"&&i!="[object Array]"||p.call(g,"toJSON")))g=g.toJSON(a)}c&&(g=c.call(b,a,g));if(g===w)return"null";i=m.call(g);if(i=="[object Boolean]")return""+g;if(i=="[object Number]")return g>-1/0&&g<1/0?""+g:"null";if(i=="[object String]")return G(""+g);if(typeof g=="object"){for(a=e.length;a--;)if(e[a]===g)throw TypeError();e.push(g);x=[];b=n;n=n+h;if(i=="[object Array]"){j=0;for(a=g.length;j<a;y||(y=o),j++){i=E(j,g,c,d,h,n,e);x.push(i===r?"null":i)}a=y?h?"[\n"+n+x.join(",\n"+n)+"\n"+b+"]":"["+x.join(",")+"]":"[]"}else{C(d||g,function(a){var b=E(a,g,c,d,h,n,e);b!==r&&x.push(G(a)+":"+(h?" ":"")+b);y||(y=o)});a=y?h?"{\n"+n+x.join(",\n"+n)+"\n"+b+"}":"{"+x.join(",")+"}":"{}"}e.pop();return a}};k.stringify=function(a,b,c){var d,h,j;if(typeof b=="function"||typeof b=="object"&&b)if(m.call(b)=="[object Function]")h=b;else if(m.call(b)=="[object Array]"){j={};for(var e=0,g=b.length,i;e<g;i=b[e++],(m.call(i)=="[object String]"||m.call(i)=="[object Number]")&&(j[i]=1));}if(c)if(m.call(c)=="[object Number]"){if((c=c-c%1)>0){d="";for(c>10&&(c=10);d.length<c;d=d+" ");}}else m.call(c)=="[object String]"&&(d=c.length<=10?c:c.slice(0,10));return E("",(i={},i[""]=a,i),h,j,d,"",[])}}if(!v("json-parse")){var M=String.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},b,A,j=function(){b=A=w;throw SyntaxError()},q=function(){for(var a=A,f=a.length,c,d,h,k,e;b<f;){e=a.charCodeAt(b);switch(e){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:c=s?a.charAt(b):a[b];b++;return c;case 34:c="@";for(b++;b<f;){e=a.charCodeAt(b);if(e<32)j();else if(e==92){e=a.charCodeAt(++b);switch(e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c=c+N[e];b++;break;case 117:d=++b;for(h=b+4;b<h;b++){e=a.charCodeAt(b);e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||j()}c=c+M("0x"+a.slice(d,b));break;default:j()}}else{if(e==34)break;e=a.charCodeAt(b);for(d=b;e>=32&&e!=92&&e!=34;)e=a.charCodeAt(++b);c=c+a.slice(d,b)}}if(a.charCodeAt(b)==34){b++;return c}j();default:d=b;if(e==45){k=o;e=a.charCodeAt(++b)}if(e>=48&&e<=57){for(e==48&&(e=a.charCodeAt(b+1),e>=48&&e<=57)&&j();b<f&&(e=a.charCodeAt(b),e>=48&&e<=57);b++);if(a.charCodeAt(b)==46){for(h=++b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}e=a.charCodeAt(b);if(e==101||e==69){e=a.charCodeAt(++b);(e==43||e==45)&&b++;for(h=b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}return+a.slice(d,b)}k&&j();if(a.slice(b,b+4)=="true"){b=b+4;return o}if(a.slice(b,b+5)=="false"){b=b+5;return false}if(a.slice(b,b+4)=="null"){b=b+4;return w}j()}}return"$"},F=function(a){var b,c;a=="$"&&j();if(typeof a=="string"){if((s?a.charAt(0):a[0])=="@")return a.slice(1);if(a=="["){for(b=[];;c||(c=o)){a=q();if(a=="]")break;if(c)if(a==","){a=q();a=="]"&&j()}else j();a==","&&j();b.push(F(a))}return b}if(a=="{"){for(b={};;c||(c=o)){a=q();if(a=="}")break;if(c)if(a==","){a=q();a=="}"&&j()}else j();(a==","||typeof a!="string"||(s?a.charAt(0):a[0])!="@"||q()!=":")&&j();b[a.slice(1)]=F(q())}return b}j()}return a},I=function(a,b,c){c=H(a,b,c);c===r?delete a[b]:a[b]=c},H=function(a,b,c){var d=a[b],h;if(typeof d=="object"&&d)if(m.call(d)=="[object Array]")for(h=d.length;h--;)I(d,h,c);else C(d,function(a){I(d,a,c)});return c.call(a,b,d)};k.parse=function(a,f){var c,d;b=0;A=""+a;c=F(q());q()!="$"&&j();b=A=w;return f&&m.call(f)=="[object Function]"?H((d={},d[""]=c,d),"",f):c}}}D&&define(function(){return k})})(this)})();
(function(){var bf=NEJ.P,bt=bf("nej.p");if(bt.iT.trident0)return;JSON.parse=JSON.parse.dT(function(bg){var dE=bg.args[0]||"";if(dE.length>=5e5){bg.stopped=!0;bg.value=eval("("+dE+")")}})})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,eo=bf("nej.g"),bc=bf("nej.e"),bj=bf("nej.u"),bn=bf("nej.v"),bH=bf("nej.h"),dm=bf("nej.x"),tY,LG={},bI=document.createDocumentFragment();bc.hH=dm.hH=function(bu){bu=bc.bG(bu);if(!bu)return;var bE=!!bu.id?bu.id:"auto-id-"+bj.Py(16);bu.id=bE;if(bc.bG(bE)!=bu)LG[bE]=bu;return bE};bc.bG=dm.bG=function(bu){var bi=LG[""+bu];if(!!bi)return bi;if(!bj.eT(bu)&&!bj.zp(bu))return bu;return document.getElementById(bu)};bc.fs=dm.fs=function(bu,df){bu=bc.bG(bu);if(!bu)return null;var bm=bH.JH(bu);if(!!df)bj.jT(bm,function(bi,bs){if(!bc.dg(bi,df))bm.splice(bs,1)});return bm};bc.bN=dm.bN=function(bu,en){bu=bc.bG(bu);return!bu?null:bH.JM(bu,en.trim())};bc.Vd=dm.Vd=function(bu){bu=bc.bG(bu);if(!!bu){bu=bu.parentNode;while(!!bu){if(bu.scrollHeight>bu.clientHeight)break;bu=bu.parentNode}if(!!bu)return bu}var iB=document.body.scrollHeight,oo=document.documentElement.scrollHeight;return oo>=iB?document.documentElement:document.body};bc.my=function(){var Vc=function(bm){var bo=0;bj.ch(bm,function(gu){if(!gu)return;if(!bo){bo=gu}else{bo=Math.min(bo,gu)}});return bo};return function(nX){var tZ=nX||document,qf=tZ.body,qe=tZ.documentElement,bo={scrollTop:Math.max(qf.scrollTop,qe.scrollTop),scrollLeft:Math.max(qf.scrollLeft,qe.scrollLeft),clientWidth:Vc([qf.clientWidth,qf.offsetWidth,qe.clientWidth,qe.offsetWidth]),clientHeight:Vc([qf.clientHeight,qf.offsetHeight,qe.clientHeight,qe.offsetHeight])};bo.scrollWidth=Math.max(bo.clientWidth,qf.scrollWidth,qe.scrollWidth);bo.scrollHeight=Math.max(bo.clientHeight,qf.scrollHeight,qe.scrollHeight);return bo}}();bc.bku=function(cs,jX){var bo=NEJ.X({},jX),UX=cs.width/cs.height,CV=jX.width/jX.height;if(UX>CV&&jX.height>cs.height){bo.height=cs.height;bo.width=bo.height*CV}if(UX<CV&&jX.width>cs.width){bo.width=cs.width;bo.height=bo.width/CV}return bo};bc.bmJ=function(){var dq=/\s+/;var pN={left:function(){return 0},center:function(nY,jX){return(nY.width-jX.width)/2},right:function(nY,jX){return nY.width-jX.width},top:function(){return 0},middle:function(nY,jX){return(nY.height-jX.height)/2},bottom:function(nY,jX){return nY.height-jX.height}};return function(nY,jX,js){var bo={},bX=(js||"").split(dq),pQ=pN[bX[1]]||pN.middle,jF=pN[bX[0]]||pN.center;bo.top=pQ(nY,jX);bo.left=jF(nY,jX);return bo}}();bc.UQ=dm.UQ=function(bu,df){bH.Ke(bu,df||bc.bJ(bu,"hover")||"js-hover");return this};bc.zc=dm.zc=function(bu){bu=bc.bG(bu);if(!bu)return;bH.Kg(bu)};bc.bjH=dm.bjH=function(){var bI={},UN=2;var bjF=function(bE,df,bg){bI[bE]=[bn.ue(bg),bn.uf(bg)];bc.bS(bE,df)};var bjE=function(bE,df,bg){var gD=bI[bE];if(!bj.eD(gD))return;var bjz=Math.abs(bn.ue(bg)-gD[0]),bjv=Math.abs(bn.uf(bg)-gD[1]);if(bjz>UN||bjv>UN)LA(bE,df)};var LA=function(bE,df){if(bj.eD(bI[bE])){bI[bE]=-1;bc.bQ(bE,df)}};return function(bu,df){var bE=bc.hH(bu);if(!bE||bI[bE]!=null)return;bI[bE]=-1;df=df||bc.bJ(bE,"highlight")||"js-highlight";bn.bT(bE,"touchstart",bjF.bl(null,bE,df));bn.bT(document,"touchmove",bjE.bl(null,bE,df));bn.bT(document,"touchend",LA.bl(null,bE,df));bn.bT(document,"touchcancel",LA.bl(null,bE,df))}}();bc.Lz=dm.Lz=function(){var bjr=function(bE,df,bjg){var bu=bc.bG(bE),bg={clazz:df,target:bu};if(bc.dg(bu,df)){bg.toggled=!1;bc.bQ(bu,df)}else{bg.toggled=!0;bc.bS(bu,df)}bjg.call(null,bg)};return function(bu,bd){bu=bc.bG(bu);if(!!bu){var co={ontoggle:cj,clazz:"js-toggle",element:bu.parentNode};if(bj.eT(bd)){var bi=bc.bG(bd);!!bi?co.element=bi:co.clazz=bd}else{NEJ.EX(co,bd);co.element=bc.bG(co.element)}var bE=bc.hH(co.element);bn.bT(bu,"click",bjr.bl(null,bE,co.clazz,co.ontoggle||cj))}return this}}();bc.Lv=dm.Lv=function(bu,bd){bu=bc.bG(bu);if(!bu)return;var fi=0,df="js-focus";if(bj.zp(bd)){fi=bd}else if(bj.eT(bd)){df=bd}else if(bj.ip(bd)){fi=bd.mode||fi;df=bd.clazz||df}var bA=parseInt(bc.bJ(bu,"mode"));if(!isNaN(bA))fi=bA;bA=bc.bJ(bu,"focus");if(!!bA)df=bA;bH.KD(bu,fi,df);return this};bc.jw=function(){var cm={a:{href:"#",hideFocus:!0},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0},script:{defer:!0,type:"text/javascript"}};return function(jr,en,cK){var bu=document.createElement(jr);NEJ.X(bu,cm[jr.toLowerCase()]);if(!!en)bu.className=en;cK=bc.bG(cK);if(!!cK)cK.appendChild(bu);return bu}}();bc.LH=function(){var biR=function(){if(location.hostname==document.domain)return"about:blank";return'javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})();'};var biQ=function(bP){bP=bP.trim();if(!bP)return bc.jw("iframe");var fz;try{fz=document.createElement('<iframe name="'+bP+'"></iframe>');fz.frameBorder=0}catch(e){fz=bc.jw("iframe");fz.name=bP}return fz};return function(bd){bd=bd||cz;var fz=biQ(bd.name||"");if(!bd.visible)fz.style.display="none";if(bj.eH(bd.onload))bn.bT(fz,"load",function(bg){if(!fz.src)return;bn.lB(fz,"load");bd.onload(bg)});var cK=bd.parent;if(bj.eH(cK)){try{cK(fz)}catch(e){}}else{(bc.bG(cK)||document.body).appendChild(fz)}var ef=bd.src||biR();window.setTimeout(function(){fz.src=ef},0);return fz}}();bc.it=dm.it=function(){var Ux=function(biH){biH.src=eo.Nw};var Up=function(sM){sM.src="about:blank"};return function(bu,biy){bu=bc.bG(bu);if(!bu)return this;if(!biy)bn.lB(bu);delete LG[bu.id];var jr=bu.tagName;if(jr=="IFRAME"){Up(bu)}else if(jr=="IMG"){Ux(bu)}else if(!!bu.getElementsByTagName){bj.ch(bu.getElementsByTagName("img"),Ux);bj.ch(bu.getElementsByTagName("iframe"),Up)}if(!!bu.parentNode){bu.parentNode.removeChild(bu)}return this}}();bc.jW=dm.jW=function(bu){bu=bc.bG(bu);if(!!bu)bI.appendChild(bu);return this};bc.Uk=dm.Uk=function(bu){bu=bc.bG(bu);if(!bu)return;bj.jT(bu.childNodes,function(bi){bc.it(bi)})};bc.uh=dm.uh=function(){var df,eS=/\s+/;var bis=function(){if(!!df)return;df=bc.oH(".#<uispace>{position:relative;zoom:1;}.#<uispace>-show{position:absolute;top:0;left:100%;cursor:text;white-space:nowrap;overflow:hidden;}");bc.Lo()};return function(bu,bd){bu=bc.bG(bu);if(!bu)return;bis();bd=bd||cz;var cK=bu.parentNode;if(!bc.dg(cK,df)){cK=bc.jw("span",df);bu.insertAdjacentElement("beforeBegin",cK);cK.appendChild(bu)}var TV=bd.nid||"",bi=bc.bN(cK,TV||df+"-show")[0];if(!bi){var dZ=((bd.clazz||"")+" "+TV).trim();dZ=df+"-show"+(!dZ?"":" ")+dZ;bi=bc.jw(bd.tag||"span",dZ);cK.appendChild(bi)}var dZ=bd.clazz;if(!!dZ){dZ=(dZ||"").trim().split(eS)[0]+"-parent";bc.bS(cK,dZ)}return bi}}();bc.bJ=dm.bJ=function(){var Ll={},jr="data-",dq=/\-(.{1})/gi;var tk=function(bu){var bE=bc.hH(bu);if(!!Ll[bE])return;var cm={};bj.ch(bu.attributes,function(bi){var bz=bi.nodeName;if(bz.indexOf(jr)!=0)return;bz=bz.replace(jr,"").replace(dq,function($1,$2){return $2.toUpperCase()});cm[bz]=bi.nodeValue||""});Ll[bE]=cm};return function(bu,bz,bA){bu=bc.bG(bu);if(!bu)return null;var AP=bu.dataset;if(!AP){tk(bu);AP=Ll[bu.id]}if(bA!==undefined)AP[bz]=bA;return AP[bz]}}();bc.gV=dm.gV=function(bu,bP,bA){bu=bc.bG(bu);if(!bu)return"";if(bA!==undefined&&!!bu.setAttribute)bu.setAttribute(bP,bA);return bH.Li(bu,bP)};bc.pV=function(jq){var ou=document.createElement("div");ou.innerHTML=jq;var bm=bc.fs(ou);return bm.length>1?ou:bm[0]};bc.bhJ=dm.bhJ=function(bu){bu=bc.bG(bu);return!bu?"":bH.KF(bu)};bc.Ot=function(qJ){qJ=(qJ||"").trim();return!qJ?null:bH.KG(qJ)};bc.TR=function(dN,bB){dN=dN||"";switch(bB){case"xml":dN=bc.Ot(dN);break;case"json":try{dN=JSON.parse(dN)}catch(ex){dN=null}break}return dN};bc.jZ=dm.jZ=function(){var bhF=function(bu){return bu==document.body||bu==document.documentElement};return function(eh,jS){eh=bc.bG(eh);if(!eh)return null;jS=bc.bG(jS)||null;var bo={x:0,y:0},Lk,di,CL;while(!!eh&&eh!=jS){Lk=bhF(eh);di=Lk?0:eh.scrollLeft;CL=parseInt(bc.fo(eh,"borderLeftWidth"))||0;bo.x+=eh.offsetLeft+CL-di;di=Lk?0:eh.scrollTop;CL=parseInt(bc.fo(eh,"borderTopWidth"))||0;bo.y+=eh.offsetTop+CL-di;eh=eh.offsetParent}return bo}}();bc.TP=dm.TP=function(bu){var cB=bc.jZ(bu);window.scrollTo(cB.x,cB.y);return this};bc.bkx=function(lW){lW=(lW||"").trim();return bH.PR(lW)};bc.bhx=dm.bhx=function(bu,bP,cm){bu=bc.bG(bu);if(!bu)return this;var bA=bH.SV(bP,cm);if(!bA)return this;bc.cD(bu,"transform",bA);return this};bc.iL=dm.iL=function(bu,cm){bu=bc.bG(bu);if(!!bu)bj.cY(cm,function(bA,bP){bc.cD(bu,bP,bA)});return this};bc.bht=dm.bht=function(ew,bd){ew=bc.bG(ew);if(!ew)return{start:0,end:0};if(bj.zp(bd))bd={start:bd,end:bd};if(bd!=null){if(bd.end==null)bd.end=bd.start||0;bH.Km(ew,bd)}else{bd=bH.KC(ew)}return bd};bc.cD=dm.cD=function(bu,bP,bA){bu=bc.bG(bu);if(!!bu)bH.KU(bu,bP,bA);return this};bc.fo=dm.fo=function(bu,bP){bu=bc.bG(bu);if(!bu)return"";var zX=!window.getComputedStyle?bu.currentStyle||cz:window.getComputedStyle(bu,null);return zX[bH.Tn(bP)]||""};bc.TL=function(){var dq=/[\s\r\n]+/gi;return function(fM){fM=(fM||"").trim().replace(dq," ");if(!fM)return;var bi=bc.jw("style");document.head.appendChild(bi);bH.Le(bi,bH.bgG(fM));return bi}}();bc.TK=function(Am){try{Am=Am.trim();if(!!Am)return(new Function(Am))()}catch(ex){console.error(ex.message);console.error(ex.stack)}};bc.oH=function(){var dq=/#<.*?>/g,ey=+(new Date);return function(lx){if(!tY)tY=[];var en="auto-"+ey++;tY.push(lx.replace(dq,en));return en}}();bc.Lo=function(){if(!!tY){bc.TL(tY.join(""));tY=null}return this};bc.bky=function(fM,lx){fM=bc.bG(fM);return!fM?null:bH.Lf(fM,lx)};bc.bS=dm.bS=function(){bH.JN.apply(bH,arguments);return this};bc.bQ=dm.bQ=function(){bH.JW.apply(bH,arguments);return this};bc.kB=dm.kB=function(){bH.yi.apply(bH,arguments);return this};bc.dg=dm.dg=function(){return bH.Kd.apply(bH,arguments)};if(!document.head)document.head=document.getElementsByTagName("head")[0]||document.body;dm.isChange=!0})();
(function(){var bf=NEJ.P,bH=bf("nej.h"),bc=bf("nej.e"),bj=bf("nej.u"),bn=bf("nej.v"),dm=bf("nej.x"),bI={};var TF=function(bu){bu=bc.bG(bu);if(!bu||!bI[bu.id])return;var TE=!0,bE=bu.id;bj.cY(bI[bE],function(){TE=!1;return!0});if(TE)delete bI[bE]};bn.bT=dm.bT=function(){var bgU=function(){var bO=bH.qu.apply(bH,arguments);if(!bO||!bO[2])return;var mQ=bc.hH(bO[0]),iB=bI[mQ]||{};bI[mQ]=iB;mQ=bO[4]||bO[1];var oo=iB[mQ]||[];iB[mQ]=oo;oo.push({type:bO[1],func:bO[2],capt:!!bO[3],sfun:bO[5]||bO[2]});return bO.slice(0,4)};return function(){var bO=bgU.apply(null,arguments);if(!!bO)bH.KP.apply(bH,bO);return this}}();bn.kA=dm.kA=function(){var bgH=function(){var ox=arguments,mQ=bc.hH(ox[0]),iB=bI[mQ],bB=(ox[1]||"").toLowerCase(),bg=ox[2];if(!iB||!bB||!bg)return;iB=iB[bB];if(!iB)return;var bgz=!!ox[3],bs=bj.hj(iB,function(ik){return bg==ik.sfun&&bgz==ik.capt});if(bs<0)return;var ik=iB.splice(bs,1)[0];return!ik?null:[bc.bG(mQ),ik.type,ik.func,ik.capt]};return function(){var bO=bgH.apply(null,arguments);if(!!bO){bH.BW.apply(bH,bO);TF(bO[0])}return this}}();bn.lB=dm.lB=function(){var Ts=function(){var ox=arguments,mQ=bc.hH(ox[0]),iB=bI[mQ],oo=(ox[1]||"").toLowerCase();if(!iB||!oo)return;var bu=bc.bG(mQ);bj.jT(iB[oo],function(ik,bs,bm){bH.BW(bu,ik.type,ik.func,ik.capt);bm.splice(bs,1)});delete iB[oo]};var bgu=function(bu){bu=bc.bG(bu);if(!bu)return;var bE=bu.id;bj.cY(bI[bE],function(bm,bB){Ts(bE,bB)});delete bI[bE]};return function(bu,bB){!bB?bgu(bu):Ts(bu,bB);TF(bu);return this}}();bn.cL=function(){var KY;var uv=function(bP,bu){var bX=bP.split(":");if(bX.length>1){if(!KY)KY={c:bc.dg,d:bc.bJ,a:bc.gV};var Cp=KY[bX[0]];if(!!Cp)return!!Cp(bu,bX[1]);bP=bX[1]}return!!bc.gV(bu,bP)||!!bc.bJ(bu,bP)||bc.dg(bu,bP)};return function(bg){if(!bg)return null;var bu=bg.target||bg.srcElement,fJ=arguments[1];if(!fJ)return bu;if(bj.eT(fJ))fJ=uv.bl(null,fJ);if(bj.eH(fJ)){while(bu){if(!!fJ(bu))return bu;bu=bu.parentNode}return null}return bu}}();bn.eC=function(bg){bn.AY(bg);bn.jP(bg);return this};bn.AY=function(bg){if(!!bg){!!bg.stopPropagation?bg.stopPropagation():bg.cancelBubble=!0}return this};bn.jP=function(bg){if(!!bg){!!bg.preventDefault?bg.preventDefault():bg.returnValue=!1}return this};bn.bkN=function(){var Tm=!1;var bgb=function(){if(Tm)return;Tm=!0;bn.bT(document,"click",bga,!0)};var bga=function(bg){var bu=bn.cL(bg),bfW=bc.bJ(bu,"stopped");if(bfW=="true"){bn.eC(bg);bc.bJ(bu,"stopped","false")}};return function(bg){if(!bg)return;if(bg.type=="click"){bn.eC(bg);return}bgb();bc.bJ(bn.cL(bg),"stopped","true")}}();bn.ue=function(bg){return bg.pageX!=null?bg.pageX:bg.clientX+bc.my().scrollLeft};bn.uf=function(bg){return bg.pageY!=null?bg.pageY:bg.clientY+bc.my().scrollTop};bn.bR=dm.bR=function(bu,bB,bd){var bO=bH.qu(bu,bB);if(!!bO)bH.KQ(bO[0],bO[1],bd);return this};bf("dbg").dumpEV=function(){return bI};dm.isChange=!0})();
(function(){var bf=NEJ.P,cz=NEJ.O,eX=NEJ.R,cj=NEJ.F,bn=bf("nej.v"),bj=bf("nej.u"),bt=bf("nej.ut"),jx;if(!!bt.fP)return;bt.fP=NEJ.C();jx=bt.fP.prototype;bt.fP.bL=function(bd){bd=bd||{};var dA=!!this.xd&&this.xd.shift();if(!dA){dA=new this(bd);this.bfV=(this.bfV||0)+1}dA.cO(bd);return dA};bt.fP.cG=function(){var xc=function(bw,bs,bm){bw.cG();bm.splice(bs,1)};return function(dA){if(!dA)return null;if(!bj.eD(dA)){if(!(dA instanceof this)){var en=dA.constructor;if(!!en.cG)en.cG(dA);return null}if(dA==this.eV)delete this.eV;if(dA==this.qi)delete this.qi;dA.du();if(!this.xd)this.xd=[];if(bj.hj(this.xd,dA)<0){this.xd.push(dA)}return null}bj.jT(dA,xc,this)}}();bt.fP.ux=function(bd){bd=bd||{};if(!this.eV)this.eV=this.bL(bd);return this.eV};bt.fP.Tj=function(bd,KS){bd=bd||{};if(!!KS&&!!this.qi){this.qi.cG();delete this.qi}if(!this.qi){this.qi=this.bL(bd)}else{this.qi.cO(bd)}return this.qi};jx.cZ=function(){var ey=+(new Date);return function(){this.id=ey++;this.nm={};this.Tf={}}}();jx.cO=function(bd){this.KR(bd)};jx.du=function(){this.lB();this.Aw()};jx.gg=function(){var ey=+(new Date);var bfD=function(bO){if(!bO||bO.length<3)return;this.Tf["de-"+ey++]=bO;bn.bT.apply(bn,bO)};return function(bm){bj.ch(bm,bfD,this)}}();jx.Aw=function(){var bft=function(bO,bz,cm){delete cm[bz];bn.kA.apply(bn,bO)};return function(){bj.cY(this.Tf,bft)}}();jx.bkT=function(fJ){fJ=fJ||cj;bj.cY(this,function(tf,bz,cm){if(!!tf&&!!tf.cG&&!fJ(tf)){delete cm[bz];tf.cG()}})};jx.cG=function(){this.constructor.cG(this)};jx.bkU=function(bB){var bg=this.nm[bB.toLowerCase()];return!!bg&&bg!==cj};jx.bT=function(bB,bg){this.uG.apply(this,arguments);return this};jx.kA=function(bB,bg){var bB=(bB||"").toLowerCase(),ih=this.nm[bB];if(!bj.eD(ih)){if(ih==bg)delete this.nm[bB];return}bj.jT(ih,function(mt,bs,bm){if(mt==bg)bm.splice(bs,1)})};jx.uG=function(bB,bg){if(!!bB&&bj.eH(bg))this.nm[bB.toLowerCase()]=bg;return this};jx.KR=function(){var bfo=function(bg,bB){this.uG(bB,bg)};return function(ih){bj.cY(ih,bfo,this);return this}}();jx.lB=function(){var KH=function(bg,bB){this.lB(bB)};return function(bB){var bB=(bB||"").toLowerCase();if(!!bB){delete this.nm[bB]}else{bj.cY(this.nm,KH,this)}return this}}();jx.beX=function(bB,bg){if(!bB||!bj.eH(bg))return this;bB=bB.toLowerCase();var ih=this.nm[bB];if(!ih){this.nm[bB]=bg;return this}if(!bj.eD(ih)){this.nm[bB]=[ih]}this.nm[bB].push(bg);return this};jx.bR=function(bB){var bg=this.nm[(bB||"").toLowerCase()];if(!bg)return this;var bO=eX.slice.call(arguments,1);if(!bj.eD(bg))return bg.apply(this,bO);bj.ch(bg,function(cS){try{cS.apply(this,bO)}catch(ex){console.error(ex.message);console.error(ex.stack)}},this);return this};bt.Sz=function(){var bI={};return function(bE,en,bd){var eK=en.beI;if(!eK){eK=bj.Py(10);en.beI=eK}var bz=bE+"-"+eK,dA=bI[bz];if(!!bd&&!dA){dA=en.bL(bd);dA.cG=dA.cG.dT(function(bg){delete bI[bz];delete dA.cG});bI[bz]=dA}return dA}}()})();
(function(){if(typeof TrimPath==="undefined"){TrimPath={};if(typeof exports!=="undefined")TrimPath=exports}var zU={},Bv=[],Sv=/\s+/g,ey=+(new Date),uL,cN,pI;var ro=function(){var eS=/^\s*[\[\{'"].*?[\]\}'"]\s*$/,hV=/[\&\|\<\>\+\-\*\/\%\,\(\)\[\]\?\:\!\=\;]/,yX=/^(?:defined|null|undefined|true|false|instanceof|new|this|typeof|\$v|[\d]+)$/i,beE=/^new\s+/,beB=/['"]/;var bez=function(bA){if(eS.test(bA))return;bA=bA.split(".")[0].trim();if(!bA||beB.test(bA))return;bA=bA.replace(beE,"");try{if(yX.test(bA))return;pI[bA]=1}catch(e){}};return function(cq){cq=cq||"";if(!cq||eS.test(cq))return;var bX=cq.split(hV);for(var i=0,l=bX.length;i<l;i++)bez(bX[i])}}();var beu=function(dk){if(dk[2]!="in")throw"bad for loop statement: "+dk.join(" ");Bv.push(dk[1]);ro(dk[3]);return"var __HASH__"+dk[1]+" = "+dk[3]+","+dk[1]+","+dk[1]+"_count=0;"+"if (!!__HASH__"+dk[1]+")"+"for(var "+dk[1]+"_key in __HASH__"+dk[1]+"){"+dk[1]+" = __HASH__"+dk[1]+"["+dk[1]+"_key];"+"if (typeof("+dk[1]+')=="function") continue;'+dk[1]+"_count++;"};var ber=function(){var dk=Bv[Bv.length-1];return"}; if(!__HASH__"+dk+"||!"+dk+"_count){"};var beq=function(){Bv.pop();return"};"};var beo=function(dk){if(dk[2]!="as")throw"bad for list loop statement: "+dk.join(" ");var wD=dk[1].split("..");if(wD.length>1){ro(wD[0]);ro(wD[1]);return"for(var "+dk[3]+","+dk[3]+"_index=0,"+dk[3]+"_beg="+wD[0]+","+dk[3]+"_end="+wD[1]+","+dk[3]+"_length=parseInt("+dk[3]+"_end-"+dk[3]+"_beg+1);"+dk[3]+"_index<"+dk[3]+"_length;"+dk[3]+"_index++){"+dk[3]+" = "+dk[3]+"_beg+"+dk[3]+"_index;"}else{ro(dk[1]);return"for(var __LIST__"+dk[3]+" = "+dk[1]+","+dk[3]+","+dk[3]+"_index=0,"+dk[3]+"_length=__LIST__"+dk[3]+".length;"+dk[3]+"_index<"+dk[3]+"_length;"+dk[3]+"_index++){"+dk[3]+" = __LIST__"+dk[3]+"["+dk[3]+"_index];"}};var ben=function(dk){if(!dk||!dk.length)return;dk.shift();var bP=dk[0].split("(")[0];return"var "+bP+" = function"+dk.join("").replace(bP,"")+"{var __OUT=[];"};var bem=function(dk){if(!dk[1])throw"bad include statement: "+dk.join(" ");return'if (typeof inline == "function"){__OUT.push(inline('};var Kt=function(hB,dk){ro(dk.slice(1).join(" "));return hB};var bek=function(dk){return Kt("if(",dk)};var beh=function(dk){return Kt("}else if(",dk)};var bdZ=function(dk){return Kt("var ",dk)};cN={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break|notrim|trim|include",def:{"if":{pfix:bek,sfix:"){",pmin:1},"else":{pfix:"}else{"},elseif:{pfix:beh,sfix:"){",pdft:"true"},"/if":{pfix:"}"},"for":{pfix:beu,pmin:3},forelse:{pfix:ber},"/for":{pfix:beq},list:{pfix:beo,pmin:3},"/list":{pfix:"};"},"break":{pfix:"break;"},"var":{pfix:bdZ,sfix:";"},macro:{pfix:ben},"/macro":{pfix:'return __OUT.join("");};'},trim:{pfix:function(){uL=!0}},"/trim":{pfix:function(){uL=null}},inline:{pfix:bem,pmin:1,sfix:"));}"}},ext:{seed:function(hB){return(hB||"")+""+ey},"default":function(bA,iP){return bA||iP}}};var bdW=function(){var bdV=/\\([\{\}])/g;return function(cq,hg){cq=cq.replace(bdV,"$1");var dk=cq.slice(1,-1).split(Sv),bZ=cN.def[dk[0]];if(!bZ){Aj(cq,hg);return}if(!!bZ.pmin&&bZ.pmin>=dk.length)throw"Statement needs more parameters:"+cq;hg.push(!!bZ.pfix&&typeof bZ.pfix!="string"?bZ.pfix(dk):bZ.pfix||"");if(!!bZ.sfix){if(dk.length<=1){if(!!bZ.pdft)hg.push(bZ.pdft)}else{for(var i=1,l=dk.length;i<l;i++){if(i>1)hg.push(" ");hg.push(dk[i])}}hg.push(bZ.sfix)}}}();var Sg=function(uS,hg){if(!uS||!uS.length)return;if(uS.length==1){var Kq=uS.pop();ro(Kq);hg.push(Kq==""?'""':Kq);return}var Kp=uS.pop().split(":");hg.push("__MDF['"+Kp.shift()+"'](");Sg(uS,hg);if(Kp.length>0){var bO=Kp.join(":");ro(bO);hg.push(","+bO)}hg.push(")")};var Aj=function(cq,hg){if(!cq)return;var AA=cq.split("\n");if(!AA||!AA.length)return;for(var i=0,l=AA.length,sc;i<l;i++){sc=AA[i];if(!!uL){sc=sc.trim();if(!sc)continue}bdP(sc,hg);if(!!uL&&i<l-1)hg.push("__OUT.push('\\n');")}};var bdP=function(){var bdO=/\|\|/g,bdN=/#@@#/g;return function(cq,hg){var wv="}",wu=-1,dc=cq.length,nT,hw,uW,AQ,ws;while(wu+wv.length<dc){nT="${";hw="}";uW=cq.indexOf(nT,wu+wv.length);if(uW<0)break;if(cq.charAt(uW+2)=="%"){nT="${%";hw="%}"}AQ=cq.indexOf(hw,uW+nT.length);if(AQ<0)break;AS(cq.substring(wu+wv.length,uW),hg);ws=cq.substring(uW+nT.length,AQ).replace(bdO,"#@@#").split("|");for(var i=0,l=ws.length;i<l;ws[i]=ws[i].replace(bdN,"||"),i++);hg.push("__OUT.push(");Sg(ws,hg);hg.push(");");wv=hw;wu=AQ}AS(cq.substring(wu+wv.length),hg)}}();var AS=function(){var cm={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"};var bdL=function(cq){return(cq||"").replace(cm.r,function($1){return cm[$1]||$1})};return function(cq,hg){if(!cq)return;hg.push("__OUT.push('"+bdL(cq)+"');")}}();var bdJ=function(){var bdD=/\t/g,bdz=/\n/g,bdv=/\r\n?/g;var RP=function(cq,nT){var bs=cq.indexOf("}",nT+1);while(cq.charAt(bs-1)=="\\"){bs=cq.indexOf("}",bs+1)}return bs};var bdl=function(){var bX=[],wo=arguments[0];for(var x in wo){x=(x||"").trim();if(!x)continue;bX.push(x+"=$v('"+x+"')")}return bX.length>0?"var "+bX.join(",")+";":""};return function(cq){pI={};cq=cq.replace(bdv,"\n").replace(bdD,"    ");var lp=["if(!__CTX) return '';",""];lp.push("function $v(__NAME){var v = __CTX[__NAME];return v==null?window[__NAME]:v;};");lp.push("var defined=function(__NAME){return __CTX[__NAME]!=null;},");lp.push("__OUT=[];");var sE=-1,dc=cq.length;var iQ,uX,wl,wk,qw,wj,Ki,wi;while(sE+1<dc){iQ=sE;iQ=cq.indexOf("{",iQ+1);while(iQ>=0){uX=RP(cq,iQ);wl=cq.substring(iQ,uX);wk=wl.match(cN.blk);if(!!wk){qw=wk[1].length+1;wj=cq.indexOf("}",iQ+qw);if(wj>=0){Ki=wj-iQ-qw<=0?"{/"+wk[1]+"}":wl.substr(qw+1);qw=cq.indexOf(Ki,wj+1);if(qw>=0){Aj(cq.substring(sE+1,iQ),lp);wi=cq.substring(wj+1,qw);switch(wk[1]){case"cdata":AS(wi,lp);break;case"minify":AS(wi.replace(bdz," ").replace(Sv," "),lp);break;case"eval":if(!!wi)lp.push("__OUT.push((function(){"+wi+"})());");break}iQ=sE=qw+Ki.length-1}}}else if(cq.charAt(iQ-1)!="$"&&cq.charAt(iQ-1)!="\\"&&wl.substr(wl.charAt(1)=="/"?2:1).search(cN.tag)==0){break}iQ=cq.indexOf("{",iQ+1)}if(iQ<0)break;uX=RP(cq,iQ);if(uX<0)break;Aj(cq.substring(sE+1,iQ),lp);bdW(cq.substring(iQ,uX+1),lp);sE=uX}Aj(cq.substring(sE+1),lp);lp.push(';return __OUT.join("");');lp[1]=bdl(pI);pI=null;return new Function("__CTX","__MDF",lp.join(""))}}();TrimPath.seed=function(){return ey};TrimPath.merge=function(){var wh={};TrimPath.dump=function(){return{func:wh,text:zU}};return function(eK,bh,io){try{bh=bh||{};if(!wh[eK]&&!zU[eK])return"";if(!wh[eK]){wh[eK]=bdJ(zU[eK]);delete zU[eK]}if(!!io){for(var x in cN.ext)if(!io[x])io[x]=cN.ext[x]}return wh[eK](bh,io||cN.ext)}catch(ex){return ex.message||""}}}();TrimPath.parse=function(){var bdf=+(new Date);return function(cq,eK){if(!cq)return"";eK=eK||"ck_"+bdf++;zU[eK]=cq;return eK}}()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),gR={};bc.Kh=TrimPath.seed;bc.fe=function(){var RH=function(bE){return!bc.gA?"":bc.gA(bE)};return function(eK,bh,io){bh=bh||{};bh.inline=RH;io=NEJ.X(NEJ.X({},gR),io);io.rand=bj.pt;io.format=bj.fX;io.escape=bj.hd;io.inline=RH;return TrimPath.merge(eK,bh,io)}}();bc.mi=function(cq,bcZ){if(!cq)return"";var eK,bu=bc.bG(cq);if(!!bu){eK=bu.id;cq=bu.value||bu.innerText;if(!bcZ)bc.it(bu)}return TrimPath.parse(cq,eK)};bc.de=function(cK,eK,bh,io){cK=bc.bG(cK);if(!!cK)cK.innerHTML=bc.fe(eK,bh,io);return this};bc.blf=function(cm){NEJ.X(gR,cm)};bf("dbg").dumpJST=function(){return TrimPath.dump()}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bt=bf("nej.ut"),be;if(!!bt.jg)return;bt.jg=NEJ.C();be=bt.jg.cg(bt.fP);be.cZ=function(){this.cW={};this.dh()};be.cO=function(bd){this.cP(bd);this.wg=bc.bG(bd.element)||window;this.RF(bd.event);this.bcW();this.bR("oninit")};be.du=function(){var tr=function(bA,bz,cm){if(!bj.eD(bA)){bj.Jm(this.wg,bz)}delete cm[bz]};return function(){this.dG();bj.cY(this.cW,tr,this);delete this.wg}}();be.Ak=function(bu,bB){bu=bc.bG(bu);return bu==this.wg&&(!bB||!!this.cW["on"+bB])};be.RF=function(bg){if(bj.eT(bg)){var bP="on"+bg;if(!this.cW[bP]){this.cW[bP]=this.bcU.bl(this,bg)}this.RB(bg);return}if(bj.eD(bg)){bj.ch(bg,this.RF,this)}};be.RB=function(bB){var bg="on"+bB,cS=this.wg[bg],RA=this.cW[bg];if(cS!=RA){this.Ax(bB);if(!!cS&&cS!=cj)this.Rx(bB,cS);this.wg[bg]=RA}};be.Rx=function(bB,cS,bcF){var bm=this.cW[bB];if(!bm){bm=[];this.cW[bB]=bm}if(bj.eH(cS)){!bcF?bm.push(cS):bm.unshift(cS)}};be.Ax=function(bB,cS){var bm=this.cW[bB];if(!bm||!bm.length)return;if(!cS){delete this.cW[bB];return}bj.jT(bm,function(bA,bs,vc){if(cS===bA){vc.splice(bs,1);return!0}})};be.bcU=function(bB,bg){bg=bg||{noargs:!0};bg.type=bB;this.bR("ondispatch",bg);if(!!bg.stopped)return;bj.ch(this.cW[bB],function(cS){try{cS(bg)}catch(ex){console.error(ex.message);console.error(ex.stack)}})};be.bcW=function(){var bcE=function(bg){var bO=bg.args,bB=bO[1].toLowerCase();if(this.Ak(bO[0],bB)){bg.stopped=!0;this.RB(bB);this.Rx(bB,bO[2],bO[3]);this.bR("oneventadd",{type:bB,listener:bO[2]})}};var bcB=function(bg){var bO=bg.args,bB=bO[1].toLowerCase();if(this.Ak(bO[0],bB)){bg.stopped=!0;this.Ax(bB,bO[2])}};var KH=function(bg){var bO=bg.args,bB=(bO[1]||"").toLowerCase();if(this.Ak(bO[0])){if(!!bB){this.Ax(bB);return}bj.cY(this.cW,function(bA,bz){if(bj.eD(bA)){this.Ax(bz)}},this)}};var bcb=function(bg){var bO=bg.args,bB=bO[1].toLowerCase();if(this.Ak(bO[0],bB)){bg.stopped=!0;bO[0]["on"+bB].apply(bO[0],bO.slice(2))}};return function(){if(!!this.bbZ)return;this.bbZ=true;bn.bT=bn.bT.dT(bcE.bl(this));bn.kA=bn.kA.dT(bcB.bl(this));bn.lB=bn.lB.dT(KH.bl(this));bn.bR=bn.bR.dT(bcb.bl(this))}}()})();
(function(){var bf=NEJ.P,cj=NEJ.F,eo=bf("nej.g"),bn=bf("nej.v"),bj=bf("nej.u"),bW=bf("nej.ut"),bt=bf("nej.ut.j"),ij,oF=6e4;if(!!bt.vZ)return;bt.vZ=NEJ.C();ij=bt.vZ.cg(bW.fP);ij.cZ=function(){this.dh();this.vY={onerror:this.bbX.bl(this),onloaded:this.bbV.bl(this)};if(!this.constructor.cW)this.constructor.cW={loaded:{}}};ij.cO=function(bd){this.cP(bd);this.vh=bd.version;this.JV=bd.timeout;this.vY.version=this.vh;this.vY.timeout=this.JV};ij.Rf=function(bz){delete this.constructor.cW[bz]};ij.qz=function(bz){return this.constructor.cW[bz]};ij.Re=function(bz,bh){this.constructor.cW[bz]=bh};ij.Bm=cj;ij.Rd=function(eP){bn.lB(eP)};ij.JU=function(eP){eP.src=this.jU;document.head.appendChild(eP)};ij.bbF=function(){var bI=this.qz(this.jU);if(!bI)return;window.clearTimeout(bI.timer);this.Rd(bI.request);delete bI.bind;delete bI.timer;delete bI.request;this.Rf(this.jU);this.qz("loaded")[this.jU]=!0};ij.Bz=function(bP){var bI=this.qz(this.jU);if(!bI)return;var bm=bI.bind;this.bbF();if(!!bm&&bm.length>0){var dA;while(bm.length){dA=bm.shift();try{dA.bR(bP,arguments[1])}catch(ex){console.error(ex.message);console.error(ex.stack)}dA.cG()}}};ij.JS=function(dY){this.Bz("onerror",dY)};ij.QS=function(){this.Bz("onloaded")};ij.bbz=function(bD){this.constructor.bL(this.vY).BT(bD)};ij.QQ=function(dY){var bI=this.qz(this.od);if(!bI)return;if(!!dY)bI.error++;bI.loaded++;if(bI.loaded<bI.total)return;this.Rf(this.od);this.bR(bI.error>0?"onerror":"onloaded")};ij.bbX=function(dY){this.QQ(!0)};ij.bbV=function(){this.QQ()};ij.BT=function(bD){bD=bj.HK(bD);if(!bD){this.bR("onerror",{code:eo.Fv,message:"请指定要载入的资源地址！"});return this}this.jU=bD;if(!!this.vh)this.jU+=(this.jU.indexOf("?")<0?"?":"&")+this.vh;if(this.qz("loaded")[this.jU]){try{this.bR("onloaded")}catch(ex){console.error(ex.message);console.error(ex.stack)}this.cG();return this}var bI=this.qz(this.jU),eP;if(!!bI){bI.bind.unshift(this);bI.timer=window.clearTimeout(bI.timer)}else{eP=this.Bm();bI={request:eP,bind:[this]};this.Re(this.jU,bI);bn.bT(eP,"load",this.QS.bl(this));bn.bT(eP,"error",this.JS.bl(this,{code:eo.Fy,message:"无法加载指定资源文件["+this.jU+"]！"}))}if(this.JV!=0)bI.timer=window.setTimeout(this.JS.bl(this,{code:eo.Nq,message:"指定资源文件["+this.jU+"]载入超时！"}),this.JV||oF);if(!!eP)this.JU(eP);this.bR("onloading");return this};ij.QO=function(bm){if(!bm||!bm.length){this.bR("onerror",{code:eo.Fv,message:"请指定要载入的资源队列！"});return this}this.od=bj.pt();var bI={error:0,loaded:0,total:bm.length};this.Re(this.od,bI);for(var i=0,l=bm.length;i<l;i++){if(!bm[i]){bI.total--;continue}this.bbz(bm[i])}this.bR("onloading");return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bH=bf("nej.h"),bt=bf("nej.ut.j"),vT;if(!!bt.JR)return;bt.JR=NEJ.C();vT=bt.JR.cg(bt.vZ);vT.Bm=function(){var fz=bc.jw("iframe");fz.width=0;fz.height=0;fz.style.display="none";return fz};vT.JU=function(eP){eP.src=this.jU;document.body.appendChild(eP)};vT.JS=function(dY){var fz=(this.qz(this.jU)||cz).request;this.Bz("onerror",dY);bH.Az(fz)};vT.QS=function(){var oj=null,fz=(this.qz(this.jU)||cz).request;try{oj=fz.contentWindow.document.body}catch(ex){}this.Bz("onloaded",oj);bH.Az(fz)}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bt=bf("nej.ut.j"),JQ;if(!!bt.Cq)return;bt.Cq=NEJ.C();JQ=bt.Cq.cg(bt.vZ);JQ.Bm=function(){return bc.jw("link")};JQ.JU=function(eP){eP.href=this.jU;document.head.appendChild(eP)}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bt=bf("nej.ut.j"),Cx;if(!!bt.Cy)return;bt.Cy=NEJ.C();Cx=bt.Cy.cg(bt.vZ);Cx.cO=function(bd){this.cP(bd);this.QK=bd.async;this.JO=bd.charset;this.vY.async=!1;this.vY.charset=this.JO};Cx.Bm=function(){var eP=bc.jw("script");if(this.QK!=null)eP.async=!!this.QK;if(this.JO!=null)eP.charset=this.JO;return eP};Cx.Rd=function(eP){bc.it(eP)}})();
(function(){var bf=NEJ.P,bv=bf("nej.j"),bt=bf("nej.ut.j");bv.blj=function(bD,bd){bt.Cy.bL(bd).BT(bD);return this};bv.bbl=function(bm,bd){bt.Cy.bL(bd).QO(bm);return this};bv.bll=function(bD,bd){bt.Cq.bL(bd).BT(bD);return this};bv.bbj=function(bm,bd){bt.Cq.bL(bd).QO(bm);return this};bv.QF=function(bD,bd){bt.JR.bL(bd).BT(bD);return this}})();
(function(){var o=NEJ.O,u=NEJ.P("nej.u"),j=NEJ.P("nej.j");j.CZ=function(){var sL=new Date,bbh=+sL,iV=864e5;var bbg=function(bP){var lG=document.cookie,QC="\\b"+bP+"=",Dr=lG.search(QC);if(Dr<0)return"";Dr+=QC.length-2;var vm=lG.indexOf(";",Dr);if(vm<0)vm=lG.length;return lG.substring(Dr,vm)||""};return function(bP,bh){if(bh===undefined)return bbg(bP);if(u.eT(bh)){if(!!bh){document.cookie=bP+"="+bh+";";return bh}bh={expires:-100}}bh=bh||o;var lG=bP+"="+(bh.value||"")+";";delete bh.value;if(bh.expires!==undefined){sL.setTime(bbh+bh.expires*iV);bh.expires=sL.toGMTString()}lG+=u.IV(bh,";");document.cookie=lG}}()})();
(function(){var bf=NEJ.P,cj=NEJ.F,gx=bf("nej.c"),eo=bf("nej.g"),bc=bf("nej.e"),bv=bf("nej.j"),bW=bf("nej.ut"),bt=bf("nej.ut.j"),bk=bf("nm.x"),be;if(!!bt.vo)return;bt.vo=NEJ.C();be=bt.vo.cg(bW.fP);be.cO=function(bd){this.cP(bd);this.mZ={url:"",sync:!1,cookie:!1,type:"text",method:"GET",timeout:6e4};NEJ.EX(this.mZ,bd);var rc=gx.bG("csrf");if(!!rc.cookie&&!!rc.param){var dn=encodeURIComponent(rc.param)+"="+encodeURIComponent(bv.CZ(rc.cookie)||""),yO=this.mZ.url.indexOf("?")<0?"?":"&";this.mZ.url+=yO+dn}this.Ad=bd.headers||{};var cq=this.Ad[eo.oM];if(cq==null)this.Ad[eo.oM]=eo.biq};be.du=function(){this.dG();delete this.qG;delete this.mZ;delete this.Ad};be.mI=function(bg){var gl=bg.status;if(gl==-1){this.bR("onerror",{code:eo.Nq,message:"请求["+this.mZ.url+"]超时！"});return}if((""+gl).indexOf("2")!=0){this.bR("onerror",{data:gl,code:eo.Fy,message:"服务器返回异常状态["+gl+"]!"});return}this.bR("onload",bc.TR(bg.result,this.mZ.type))};be.QB=function(bg){this.bR("onload",bc.TR(bg.result,this.mZ.type))};be.blm=function(bg){var bo=bg.result;if(bo){if(typeof bo==="string"){try{bo=JSON.parse(bo)}catch(e){this.QB(bg);return}}if(bo.code>=500){var mobilePattern=/mobile|mobi|wap|simulator|iphone|android/gi;var userAgent=navigator.userAgent||"";var msg="服务暂不可用，请稍后重试";if(userAgent&&userAgent.match(mobilePattern)!==null){bk.ci(msg)}else{bk.ci({message:msg})}return}}this.QB(bg)};be.ek=cj;be.JI=function(bh){var bD=this.mZ.url;if(!bD){this.bR("onerror",{code:eo.Fv,message:"没有输入请求地址！"});return this}try{this.mZ.data=bh==null?null:bh;var bg={request:this.mZ,headers:this.Ad};try{this.bR("onbeforerequest",bg)}catch(ex){console.error(ex.message);console.error(ex.stack)}this.ek(bg)}catch(e){this.bR("onerror",{code:eo.Fy,message:"请求["+bD+"]失败:"+e.message+"！"})}return this};be.sI=cj})();
(function(){var bf=NEJ.P,cj=NEJ.F,bH=bf("nej.h"),eo=bf("nej.g"),bj=bf("nej.u"),bt=bf("nej.ut.j"),bI={},vL;if(!!bt.Ay)return;bt.Ay=NEJ.C();vL=bt.Ay.cg(bt.vo);vL.du=function(){this.dG();window.clearTimeout(this.fu);delete this.fu;try{this.lR.onreadystatechange=cj;this.lR.abort()}catch(e){}delete this.lR};vL.ek=function(){var baS=function(bA,bz){this.lR.setRequestHeader(bz,bA)};return function(bd){var eP=bd.request,oh=bd.headers;this.lR=bH.JG();if(oh[eo.oM]===eo.sN){delete oh[eo.oM];this.lR.upload.onprogress=this.JF.bl(this,1);if(eP.data.tagName==="FORM")eP.data=new FormData(eP.data)}this.lR.onreadystatechange=this.JF.bl(this,2);if(eP.timeout!=0){this.fu=window.setTimeout(this.JF.bl(this,3),eP.timeout)}this.lR.open(eP.method,eP.url,!eP.sync);bj.cY(oh,baS,this);if(!!this.mZ.cookie&&"withCredentials"in this.lR)this.lR.withCredentials=!0;this.lR.send(eP.data)}}();vL.JF=function(bB){switch(bB){case 1:this.bR("onuploading",arguments[1]);break;case 2:if(this.lR.readyState==4)this.mI({status:this.lR.status,result:this.lR.responseText||""});break;case 3:this.mI({status:-1});break}};vL.sI=function(){this.mI({status:0});return this}})();
(function(){var eU=NEJ.P("nej.p"),bt=window,hS=eU.AC,Qt=hS.ipad||hS.iphone;if(!Qt&&!!bt.requestAnimationFrame&&!!bt.cancelRequestAnimationFrame)return;var hB=eU.gQ.prefix.pro;if(!Qt&&!!bt[hB+"RequestAnimationFrame"]&&!!bt[hB+"CancelRequestAnimationFrame"]){bt.requestAnimationFrame=bt[hB+"RequestAnimationFrame"];bt.cancelRequestAnimationFrame=bt[hB+"CancelRequestAnimationFrame"];return}var baI=hS.desktop?80:hS.ios?50:30;bt.requestAnimationFrame=function(dJ){return window.setTimeout(function(){try{dJ(+(new Date))}catch(ex){}},1e3/baI)};bt.cancelRequestAnimationFrame=function(bE){window.clearTimeout(bE);return this}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bj=bf("nej.u"),bc=bf("nej.e"),bn=bf("nej.v"),bH=bf("nej.h"),dm=bf("nej.x"),AO=bf("nej.ut.j.cb"),oq;if(!!bc.JD)return;bc.JD=dm.JD=function(){var bI={},eS=/^(?:mouse.*|(?:dbl)?click)$/i;window.onflashevent=function(bg){var bE=decodeURIComponent(bg.target),bB=bg.type.toLowerCase();var cS=bI[bE+"-on"+bB];if(!!cS){try{cS(bg)}catch(e){}return}var cC=bI[bE+"-tgt"];if(!!cC&&eS.test(bB)){Qi(cC,bg)}};var JC=function(bd){var cK=bc.bG(bd.parent)||document.body,jq=bc.fe(oq,bd);cK.insertAdjacentHTML(!bd.hidden?"beforeEnd":"afterBegin",jq)};var Qi=function(bE,bg){var bB=bg.type.toLowerCase();requestAnimationFrame(function(){bn.bR(bE,bB)})};var bap=function(jh){return!!jh&&!!jh.inited&&!!jh.inited()};var vJ=function(bE){var bX=[document.embeds[bE],bc.bG(bE),document[bE],window[bE]],bs=bj.cY(bX,bap),jh=bX[bs],JA=bE+"-count";bI[JA]++;if(!!jh||bI[JA]>100){bI[bE](jh);delete bI[bE];delete bI[JA];return}window.setTimeout(vJ.bl(null,bE),300)};var bal=function(bd){var bE=bd.id,gd=bd.params;if(!gd){gd={};bd.params=gd}var pI=gd.flashvars||"";pI+=(!pI?"":"&")+("id="+bE);if(!bd.hidden&&(!!bd.target||bH.Dc(gd.wmode))){var PZ=bc.hH(bd.target)||bc.hH(bd.parent),PY=bj.PL();AO["cb"+PY]=Qi.bl(null,PZ);pI+="&onevent=nej.ut.j.cb.cb"+PY;bI[bE+"-tgt"]=PZ}gd.flashvars=pI;bj.cY(bd,function(bA,bz){if(bj.eH(bA)&&bz!="onready"){bI[bE+"-"+bz]=bA}})};return function(bd){bd=NEJ.X({},bd);if(!bd.src)return;var bE="flash_"+bj.PL();bd.id=bE;bal(bd);JC(bd);if(!bd.onready)return;bI[bE]=bd.onready;bI[bE+"-count"]=0;vJ(bE)}}();oq=bc.mi('{var hide  = defined("hidden")&&!!hidden}{var param = defined("params")&&params||NEJ.O}{var width = !hide?width:"1px",height = !hide?height:"1px"}{if hide}<div style="position:absolute;top:0;left:0;width:1px;height:1px;z-index:10000;overflow:hidden;">{/if}<object classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"codebase = "http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"width = "${width|default:"100px"}"height = "${height|default:"100px"}" id="${id}"><param value="${src}" name="movie">{for x in param}<param value="${x}" name="${x_key}"/>{/for}<embed src="${src}" name="${id}"width="${width|default:"100px"}"height="${height|default:"100px"}"pluginspage="http://www.adobe.com/go/getflashplayer"type="application/x-shockwave-flash"{for x in param}${x_key}="${x}" {/for}></embed></object>{if hide}</div>{/if}');dm.isChange=!0})();
(function(){var bf=NEJ.P,gx=bf("nej.c"),bc=bf("nej.e"),bj=bf("nej.u"),bt=bf("nej.ut.j"),AO=bf("nej.ut.j.cb"),bI={},ey=+(new Date),Jy;if(!!bt.Jr)return;AO["ld"+ey]=function(bz,dN){var iK=bI[bz];if(!iK)return;delete bI[bz];iK.mI({status:200,result:dN})};AO["er"+ey]=function(bz,gl){var iK=bI[bz];if(!iK)return;delete bI[bz];iK.mI({status:gl||0})};bt.Jr=NEJ.C();Jy=bt.Jr.cg(bt.vo);Jy.ek=function(bd){var jh=bI.flash;if(bj.eD(jh)){jh.push(this.ek.bl(this,bd));return}if(!jh){bI.flash=[this.ek.bl(this,bd)];bc.JD({hidden:!0,src:gx.bG("ajax.swf"),onready:function(jh){if(!jh)return;var bm=bI.flash;bI.flash=jh;bj.jT(bm,function(cS){try{cS()}catch(e){}})}});return}this.qG="swf-"+bj.pt();bI[this.qG]=this;var bh=NEJ.EX({url:"",data:null,method:"GET"},bd.request);bh.key=this.qG;bh.headers=bd.headers;bh.onerror="nej.ut.j.cb.er"+ey;bh.onloaded="nej.ut.j.cb.ld"+ey;var PI=gx.bdo(bh.url);if(!!PI)bh.policyURL=PI;jh.request(bh)};Jy.sI=function(){delete bI[this.qG];this.mI({status:0});return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bH=bf("nej.h");bH.PF=function(){var dq=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(hM){hM=hM||"";if(dq.test(hM))return RegExp.$1;return"*"}}();bH.Jo=function(bh){return bh};bH.Jn=function(PA,bd){if(!PA.postMessage)return;bd=bd||cz;PA.postMessage(bH.Jo(bd.data),bH.PF(bd.origin))}})();
(function(){var bf=NEJ.P,bt=bf("nej.p"),bH=bf("nej.h"),bj=bf("nej.u"),bn=bf("nej.v"),bW=bf("nej.ut");if(bt.iT.trident)return;if(!!window.postMessage){bH.Jo=bH.Jo.dT(function(bg){bg.stopped=!0;bg.value=JSON.stringify(bg.args[0])});return}var bz="MSG|",sF=[];var Zx=function(){var bP=unescape(window.name||"").trim();if(!bP||bP.indexOf(bz)!=0)return;window.name="";var bo=bj.OP(bP.replace(bz,""),"|"),hM=(bo.origin||"").toLowerCase();if(!!hM&&hM!="*"&&location.href.toLowerCase().indexOf(hM)!=0)return;bn.bR(window,"message",{data:JSON.parse(bo.data||"null"),source:window.frames[bo.self]||bo.self,origin:bH.PF(bo.ref||document.referrer)})};var Zw=function(){var BP;var Zu=function(cm,bs,bm){if(bj.hj(BP,cm.w)<0){BP.push(cm.w);bm.splice(bs,1);cm.w.name=cm.d}};return function(){BP=[];bj.jT(sF,Zu);BP=null}}();bH.Jn=function(){var Zt=function(bh){var bo={};bh=bh||cz;bo.origin=bh.origin||"";bo.ref=location.href;bo.self=bh.source;bo.data=JSON.stringify(bh.data);return bz+bj.IV(bo,"|",!0)};return bH.Jn.dT(function(bg){bg.stopped=!0;var bO=bg.args;sF.unshift({w:bO[0],d:escape(Zt(bO[1]))})})}();bW.jg.bL({element:window,event:"message"});window.setInterval(Zw,100);window.setInterval(Zx,20)})();
(function(){var bf=NEJ.P,bH=bf("nej.h"),bc=bf("nej.e"),bv=bf("nej.j");bv.Zr=function(){var dO=window.name||"_parent",Zp={pQ:window.top,dO:window,cK:window.parent};return function(cC,bd){if(typeof cC=="string"){cC=Zp[cC]||window.frames[cC];if(!cC)return this}var bh=NEJ.X({origin:"*",source:dO},bd);bH.Jn(cC,bh);return this}}()})();
(function(){var bf=NEJ.P,gx=bf("nej.c"),bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bv=bf("nej.j"),bt=bf("nej.ut.j"),bI={},Cf;if(!!bt.Jk)return;bt.Jk=NEJ.C();Cf=bt.Jk.cg(bt.vo);Cf.cZ=function(){var ho="NEJ-AJAX-DATA:",tk=!1;var Jj=function(bg){var bh=bg.data;if(bh.indexOf(ho)!=0)return;bh=JSON.parse(bh.replace(ho,""));var iK=bI[bh.key];if(!iK)return;delete bI[bh.key];bh.result=decodeURIComponent(bh.result||"");iK.mI(bh)};var Jh=function(){if(!tk){tk=!0;bn.bT(window,"message",Jj)}};return function(){this.dh();Jh()}}();Cf.ek=function(bd){var eP=bd.request,iK=gx.bco(eP.url),sM=bI[iK];if(bj.eD(sM)){sM.push(this.ek.bl(this,bd));return}if(!sM){bI[iK]=[this.ek.bl(this,bd)];bc.LH({src:iK,visible:!1,onload:function(bg){var bm=bI[iK];bI[iK]=bn.cL(bg).contentWindow;bj.jT(bm,function(cS){try{cS()}catch(e){}})}});return}this.qG="frm-"+bj.pt();bI[this.qG]=this;var bh=NEJ.EX({url:"",data:null,timeout:0,method:"GET"},eP);bh.key=this.qG;bh.headers=bd.headers;bv.Zr(bI[iK],{data:bh})};Cf.sI=function(){delete bI[this.qG];this.mI({status:0});return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,eo=bf("nej.g"),bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bv=bf("nej.j"),bt=bf("nej.ut.j"),bI={},vw;if(!!bt.Jf)return;bt.Jf=NEJ.C();vw=bt.Jf.cg(bt.vo);vw.cZ=function(){var ho="NEJ-UPLOAD-RESULT:",tk=!1;var Jj=function(bg){var bh=bg.data;if(bh.indexOf(ho)!=0)return;bh=JSON.parse(bh.replace(ho,""));var iK=bI[bh.key];if(!iK)return;delete bI[bh.key];iK.mI(decodeURIComponent(bh.result))};var Jh=function(){if(!tk){tk=!0;bn.bT(window,"message",Jj)}};return function(){this.dh();Jh()}}();vw.du=function(){this.dG();bc.it(this.IZ);delete this.IZ;window.clearTimeout(this.fu);delete this.fu};vw.mI=function(dN){var cf;try{cf=JSON.parse(dN);this.bR("onload",cf)}catch(e){this.bR("onerror",{code:eo.bim,message:dN})}};vw.ek=function(){var Yw=function(){var oj,dN;try{var oj=this.IZ.contentWindow.document.body,dN=oj.innerText||oj.textContent}catch(e){return}this.mI(dN)};var IR=function(bD,fi,lG){bv.bV(bD,{type:"json",method:"POST",cookie:lG,mode:parseInt(fi)||0,onload:function(bh){if(!this.fu)return;this.bR("onuploading",bh);this.fu=window.setTimeout(IR.bl(this,bD,fi,lG),1e3)}.bl(this),onerror:function(dY){if(!this.fu)return;this.fu=window.setTimeout(IR.bl(this,bD,fi,lG),1e3)}.bl(this)})};return function(bd){var eP=bd.request,oh=bd.headers,iO=eP.data,bP="fom-"+bj.pt();bI[bP]=this;iO.target=bP;iO.method="POST";iO.enctype=eo.sN;iO.encoding=eo.sN;var bD=iO.action||"",lA=bD.indexOf("?")<=0?"?":"&";iO.action=bD+lA+"_proxy_=form";this.IZ=bc.LH({name:bP,onload:function(bg){var sM=bn.cL(bg);bn.bT(sM,"load",Yw.bl(this));iO.submit();var OO=(iO.nej_query||cz).value;if(!OO)return;var fi=(iO.nej_mode||cz).value,lG=(iO.nej_cookie||cz).value=="true";this.fu=window.setTimeout(IR.bl(this,OO,fi,lG),100)}.bl(this)})}}();vw.sI=function(){this.bR("onerror",{code:eo.bip,message:"客户端终止文件上传"});return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bH=bf("nej.h"),bt=bf("nej.ut.j");bH.JG=function(){return new XMLHttpRequest};bH.IP=function(fi,CT,bd){var cm=!!CT?{2:bt.Jf}:{2:bt.Jk,3:bt.Jr};return(cm[fi]||bt.Ay).bL(bd)}})();
(function(){var bf=NEJ.P,bt=bf("nej.p"),bH=bf("nej.h");if(bt.iT.trident)return;bH.JG=function(){var xS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.5.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];var Yl=function(){for(var i=0,l=xS.length;i<l;i++){try{return new ActiveXObject(xS[i])}catch(e){}}return null};return bH.JG.dT(function(bg){if(!!window.XMLHttpRequest)return;bg.stopped=!0;bg.value=Yl()})}();bH.IP=function(){var CG={0:2,1:3};return bH.IP.dT(function(bg){var bO=bg.args,fi=bO[0]||0;bO[0]=!!bO[1]?2:CG[fi]||fi})}()})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bH=bf("nej.h"),eo=bf("nej.g"),bj=bf("nej.u"),bv=bf("nej.j"),bt=bf("nej.ut.j"),ks={},uv=cj;bv.sI=function(eK){var bI=ks[eK];if(!bI)return this;bI.req.sI();return this};bv.OM=function(fJ){uv=fJ||cj;return this};bv.bV=function(){var gU=(location.protocol+"//"+location.host).toLowerCase();var Yj=function(bD){var hM=bj.Xh(bD);return!!hM&&hM!=gU};var Yi=function(oh){return(oh||cz)[eo.oM]==eo.sN};var Yh=function(bd){var CT=Yi(bd.headers);if(!Yj(bd.url)&&!CT)return bt.Ay.bL(bd);return bH.IP(bd.mode,CT,bd)};var tr=function(eK){var bI=ks[eK];if(!bI)return;if(!!bI.req)bI.req.cG();delete ks[eK]};var OL=function(eK,bB){var bI=ks[eK];if(!bI)return;tr(eK);var bg={type:bB,result:arguments[2]};uv(bg);if(!bg.stopped)(bI[bB]||cj)(bg.result)};var lN=function(eK,bh){OL(eK,"onload",bh)};var mj=function(eK,dY){OL(eK,"onerror",dY)};return function(bD,bd){bd=bd||{};var eK=bj.pt(),bI={onload:bd.onload||cj,onerror:bd.onerror||cj};ks[eK]=bI;bd.onload=lN.bl(null,eK);bd.onerror=mj.bl(null,eK);if(!!bd.query){var lA=bD.indexOf("?")<0?"?":"&",dn=bd.query;if(bj.ip(dn))dn=bj.dv(dn);if(!!dn)bD+=lA+dn}bd.url=bD;bI.req=Yh(bd);bI.req.JI(bd.data);return eK}}();bv.xH=function(iO,bd){var lS={mode:0,type:"json",query:null,cookie:!1,headers:{},onload:null,onerror:null,onuploading:null,onbeforerequest:null};NEJ.EX(lS,bd);lS.data=iO;lS.method="POST";lS.timeout=0;lS.headers[eo.oM]=eo.sN;return bv.bV(iO.action,lS)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bv=bf("nej.j"),bW=bf("nej.ut"),bI={},OK=+(new Date)+"-";bc.el=function(){var dI=0;var vB=function(){if(dI>0)return;dI=0;bn.bR(document,"templateready");bn.lB(document,"templateready")};var Ah=function(ew,bd){var ef=bc.bJ(ew,"src");if(!ef)return;bd=bd||cz;var fV=bd.root;if(!fV){fV=ew.ownerDocument.location.href}else{fV=bj.HK(fV)}ef=ef.split(",");bj.ch(ef,function(bA,bs,bm){bm[bs]=bj.HK(bA,fV)});return ef};var Ye=function(ew,bd){if(!ew)return;var ef=Ah(ew,bd);if(!!ef)bv.bbj(ef,{version:bc.bJ(ew,"version")});bc.TL(ew.value)};var Yd=function(bA){dI--;bc.TK(bA);vB()};var Yc=function(ew,bd){if(!ew)return;var ef=Ah(ew,bd),kT=ew.value;if(!!ef){dI++;var bd={version:bc.bJ(ew,"version"),onloaded:Yd.bl(null,kT)};window.setTimeout(bv.bbl.bl(bv,ef,bd),0);return}bc.TK(kT)};var Yb=function(oj){dI--;bc.el(oj);vB()};var Ya=function(ew,bd){if(!ew)return;var ef=Ah(ew,bd)[0];if(!!ef){dI++;var bd={version:bc.bJ(ew,"version"),onloaded:Yb};window.setTimeout(bv.QF.bl(bv,ef,bd),0)}};var XZ=function(bE,dN){dI--;bc.As(bE,dN||"");vB()};var bhV=function(ew,bd){if(!ew||!ew.id)return;var bE=ew.id,ef=Ah(ew,bd)[0];if(!!ef){dI++;var bD=ef+(ef.indexOf("?")<0?"?":"&")+(bc.bJ(ew,"version")||""),bd={type:"text",method:"GET",onload:XZ.bl(null,bE)};window.setTimeout(bv.bV.bl(bv,bD,bd),0)}};var XX=function(bi,bd){var bB=bi.name.toLowerCase();switch(bB){case"jst":bc.mi(bi,!0);return;case"txt":bc.As(bi.id,bi.value||"");return;case"ntp":bc.sw(bi.value||"",bi.id);return;case"js":Yc(bi,bd);return;case"css":Ye(bi,bd);return;case"html":Ya(bi,bd);return;case"res":bhV(bi,bd);return}};bW.jg.bL({element:document,event:"templateready",oneventadd:vB});return function(bu,bd){bu=bc.bG(bu);if(!!bu){var bm=bu.tagName=="TEXTAREA"?[bu]:bu.getElementsByTagName("textarea");bj.ch(bm,function(bi){XX(bi,bd)});bc.it(bu,!0)}vB();return this}}();bc.As=function(bz,bA){bI[bz]=bA||"";return this};bc.gA=function(bz){return bI[bz]||""};bc.sw=function(bu,bz){bz=bz||bj.pt();bu=bc.bG(bu)||bu;bc.As(OK+bz,bu);bc.jW(bu);return bz};bc.oZ=function(bz){if(!bz)return null;bz=OK+bz;var bA=bc.gA(bz);if(!bA)return null;if(bj.eT(bA)){bA=bc.pV(bA);bc.As(bz,bA)}return bA.cloneNode(!0)};bc.OI=function(){var uv=function(bA,bz){return bz=="offset"||bz=="limit"};return function(bm,bw,bd){var bX=[];if(!bm||!bm.length||!bw)return bX;bd=bd||cz;var hn=bm.length,oY=parseInt(bd.offset)||0,hw=Math.min(hn,oY+(parseInt(bd.limit)||hn)),gm={total:bm.length,range:[oY,hw]};NEJ.X(gm,bd,uv);for(var i=oY,dA;i<hw;i++){gm.index=i;gm.data=bm[i];dA=bw.bL(gm);var bE=dA.IN();bI[bE]=dA;dA.cG=dA.cG.dT(function(bE,dA){delete bI[bE];delete dA.cG}.bl(null,bE,dA));bX.push(dA)}return bX}}();bc.OG=function(bE){return bI[bE]};bc.blX=function(dZ,bd){bd=bd||cz;bc.el(bd.tid||"template-box");bn.bT(document,"templateready",function(){dZ.bL().bR("onshow",bd)})};bf("dbg").dumpTC=function(){return bI}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bj=bf("nej.u"),bW=bf("nej.ut"),bt=bf("nej.ui"),be;if(!!bt.jt)return;bt.jt=NEJ.C();be=bt.jt.cg(bW.fP);be.cZ=function(){this.dh();bc.Lo();this.fw();this.eB()};be.cO=function(bd){this.cP(bd);this.XS(bd.clazz);this.XR(bd.parent)};be.du=function(){this.dG();this.OE();delete this.kV;bc.jW(this.bC);bc.bQ(this.bC,this.IL);delete this.IL};be.fw=cj;be.eB=function(){if(!this.gv)this.XO();this.bC=bc.oZ(this.gv);if(!this.bC)this.bC=bc.jw("div",this.kY);bc.bS(this.bC,this.kY)};be.XO=cj;be.XS=function(df){this.IL=df||"";bc.bS(this.bC,this.IL)};be.XN=function(){if(!this.kY)return;bc.bS(this.kV,this.kY+"-parent")};be.OE=function(){if(!this.kY)return;bc.bQ(this.kV,this.kY+"-parent")};be.IJ=function(){return this.bC};be.XR=function(cK){if(!this.bC)return this;this.OE();if(bj.eH(cK)){this.kV=cK(this.bC)}else{this.kV=bc.bG(cK);if(!!this.kV)this.kV.appendChild(this.bC)}this.XN();return this};be.cw=function(){if(!this.kV||!this.bC||this.bC.parentNode==this.kV)return this;this.kV.appendChild(this.bC);return this};be.cQ=function(){bc.jW(this.bC);return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bj=bf("nej.u"),bH=bf("nej.h"),bt=bf("nej.ui"),nQ,Ow;if(!!bt.vU)return;bt.vU=NEJ.C();nQ=bt.vU.cg(bt.jt);Ow=bt.vU.gO;nQ.cO=function(bd){this.cP(bd);this.uG("oncontentready",bd.oncontentready||this.Xt.bl(this));this.Xs=!!bd.nohack;this.Xr=!!bd.destroyable;this.Ov(bd.content)};nQ.du=function(){this.bR("onbeforerecycle");this.dG();this.BC();this.Ov("");bc.iL(this.bC,{top:"",left:""})};nQ.Xt=cj;nQ.oT=cj;nQ.BC=function(){bc.jW(this.bC);if(!!this.nL){this.nL=bH.KK(this.bC);delete this.nL}};nQ.Ov=function(cq){if(!this.bC||!this.vW||cq==null)return this;cq=cq||"";bj.eT(cq)?this.vW.innerHTML=cq:this.vW.appendChild(cq);this.bR("oncontentready",this.vW);return this};nQ.nZ=function(cB){var bA=cB.top;if(bA!=null){bA+="px";bc.cD(this.bC,"top",bA);bc.cD(this.nL,"top",bA)}var bA=cB.left;if(bA!=null){bA+="px";bc.cD(this.bC,"left",bA);bc.cD(this.nL,"left",bA)}return this};nQ.cw=function(){bc.cD(this.bC,"visibility","hidden");Ow.cw.apply(this,arguments);this.oT();bc.cD(this.bC,"visibility","");if(!this.Xs){this.nL=bH.nL(this.bC)}return this};nQ.cQ=function(){this.Xr?this.cG():this.BC();return this}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bj=bf("nej.u"),bc=bf("nej.e"),bt=bf("nej.ui"),qR;if(!!bt.BI)return;bt.BI=NEJ.C();qR=bt.BI.cg(bt.jt);qR.cO=function(bd){this.vX();this.cP(this.Xn(bd));this.ht.onbeforerecycle=this.cG.bl(this);this.og=this.IG()};qR.du=function(){this.bR("onbeforerecycle");this.dG();delete this.ht;bc.jW(this.bC);var wd=this.og;if(!!wd){delete this.og;wd.cG()}};qR.IG=cj;qR.Xn=function(bd){var bo={};bj.cY(bd,function(bw,bz){this.ht.hasOwnProperty(bz)?this.ht[bz]=bw:bo[bz]=bw},this);return bo};qR.vX=function(){this.ht={clazz:"",parent:null,content:this.bC,destroyable:!1,oncontentready:null,nohack:!1}};qR.cw=function(){if(!!this.og)this.og.cw();this.bR("onaftershow");return this};qR.cQ=function(){if(!!this.og)this.og.cQ();return this}})();
(function(){var bf=NEJ.P,eo=bf("nej.g"),bH=bf("nej.h"),bc=bf("nej.e"),bj=bf("nej.u"),bn=bf("nej.v"),bt=bf("nej.ui"),we,Ok;if(!!bt.wm)return;var jC=bc.oH(".#<uispace>{position:fixed;_position:absolute;z-index:100;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background-image:url("+eo.Nw+");}");bt.wm=NEJ.C();we=bt.wm.cg(bt.jt);Ok=bt.wm.gO;we.cO=function(bd){this.cP(bd);var cq=bd.content||"&nbsp;";bj.eT(cq)?this.bC.innerHTML=cq:this.bC.appendChild(cq)};we.du=function(){this.dG();this.bC.innerHTML="&nbsp;"};we.fw=function(){this.kY=jC};we.cw=function(){bH.KJ(this.bC);Ok.cw.apply(this,arguments);return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bn=bf("nej.v"),bt=bf("nej.ut"),be;if(!!bt.ID)return;bt.ID=NEJ.C();be=bt.ID.cg(bt.fP);be.cO=function(bd){this.cP(bd);this.WN=!!bd.overflow;this.bC=bc.bG(bd.body);this.wt=bc.bG(bd.view)||bc.Vd(this.bC);this.Oc=bc.bG(bd.mbar)||this.bC;this.Cl=parseInt(bd.direction)||0;this.gg([[document,"mouseup",this.WE.bl(this)],[document,"mousemove",this.Iy.bl(this)],[this.Oc,"mousedown",this.Ix.bl(this)]])};be.du=function(){this.dG();delete this.bC;delete this.Oc;delete this.wt};be.NS=function(){return{x:Math.max(this.wt.clientWidth,this.wt.scrollWidth)-this.bC.offsetWidth,y:Math.max(this.wt.clientHeight,this.wt.scrollHeight)-this.bC.offsetHeight}};be.Ix=function(bg){bn.eC(bg);if(!!this.ic)return;this.ic={x:bn.ue(bg),y:bn.uf(bg)};this.NP=this.NS()};be.Iy=function(bg){if(!this.ic)return;var cB={x:bn.ue(bg),y:bn.uf(bg)};var Wu=cB.x-this.ic.x,Wc=cB.y-this.ic.y,bA={top:(parseInt(bc.fo(this.bC,"top"))||0)+Wc,left:(parseInt(bc.fo(this.bC,"left"))||0)+Wu};this.ic=cB;this.nZ(bA)};be.WE=function(bg){if(!this.ic)return;delete this.NP;delete this.ic;this.bR("ondragend",this.VS())};be.nZ=function(bg){if(!this.WN){var NA=this.NP||this.NS();bg.top=Math.min(NA.y,Math.max(0,bg.top));bg.left=Math.min(NA.x,Math.max(0,bg.left))}var fM=this.bC.style;if(this.Cl==0||this.Cl==2)fM.top=bg.top+"px";if(this.Cl==0||this.Cl==1)fM.left=bg.left+"px";this.bR("onchange",bg);return this};be.VS=function(){return{left:parseInt(bc.fo(this.bC,"left"))||0,top:parseInt(bc.fo(this.bC,"top"))||0}}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=NEJ.P("nej.e"),bn=NEJ.P("nej.v"),bj=NEJ.P("nej.u"),bW=NEJ.P("nej.ut"),bt=NEJ.P("nej.ui"),jC,oq,be,cl;if(!!bt.hl)return;bt.hl=NEJ.C();be=bt.hl.cg(bt.vU);cl=bt.hl.gO;be.cZ=function(){this.In={};this.wy={onchange:this.Iy.bl(this)};this.dh()};be.cO=function(bd){this.cP(bd);this.VI(bd.mask);this.VD(bd.align);this.VB(bd.title);if(!bd.draggable)return;this.Il=bW.ID.bL(this.wy)};be.du=function(){this.dG();delete this.lf;delete this.wH;if(!!this.rd){this.rd.cG();delete this.rd}if(!!this.Il){this.Il.cG();delete this.Il}};be.fw=function(){this.kY=jC;this.gv=oq};be.eB=function(){this.eO();var bm=bc.fs(this.bC);this.vW=bm[1];this.wy.mbar=bm[0];this.wy.body=this.bC;bn.bT(bm[2],"mousedown",this.wJ.bl(this));bn.bT(this.wy.mbar,"mousedown",this.Ix.bl(this));this.Nr=bc.fs(this.wy.mbar)[0]};be.wJ=function(bg){bn.eC(bg);this.bR("onclose");this.cQ()};be.Ix=function(bg){bn.bR(document,"click")};be.Iy=function(bg){if(!this.nL)return;bc.iL(this.nL,{top:bg.top+"px",left:bg.left+"px"})};be.oT=function(){var mt=[function(){return 0},function(jl,di,bz){return Math.max(0,jl[bz]+di[bz]/2)},function(jl,di,bz){return jl[bz]+di[bz]}],Vx=["left","top"];return function(){var bA={},fM=this.bC.style,hf=bc.my(),jl={left:hf.scrollLeft,top:hf.scrollTop},di={left:hf.clientWidth-this.bC.offsetWidth,top:hf.clientHeight-this.bC.offsetHeight};bj.ch(Vx,function(bz,bs){var cS=mt[this.lf[bs]];if(!cS)return;bA[bz]=cS(jl,di,bz)},this);this.nZ(bA)}}();be.Vw=function(){if(!this.rd){if(!this.wH)return;this.In.parent=this.kV;this.rd=this.wH.bL(this.In)}this.rd.cw()};be.BC=function(){if(!!this.rd)this.rd.cQ();cl.BC.apply(this,arguments)};be.VI=function(hu){if(!!hu){if(hu instanceof bt.wm){this.rd=hu;return}if(bj.eH(hu)){this.wH=hu;return}this.wH=bt.wm;if(bj.eT(hu))this.In.clazz=hu;return}this.wH=null};be.VB=function(gE,jq){if(!!this.Nr){var iU=!jq?"innerText":"innerHTML";this.Nr[iU]=gE||"标题"}return this};be.VD=function(){var dq=/\s+/,Vu={left:0,center:1,right:2,auto:3},Vt={top:0,middle:1,bottom:2,auto:3};return function(js){this.lf=(js||"").split(dq);var cE=Vu[this.lf[0]];if(cE==null)cE=1;this.lf[0]=cE;var cE=Vt[this.lf[1]];if(cE==null)cE=1;this.lf[1]=cE;return this}}();be.cw=function(){cl.cw.apply(this,arguments);this.Vw();return this};jC=bc.oH(".#<uispace>{position:absolute;z-index:1000;border:1px solid #aaa;background:#fff;}.#<uispace> .zbar{line-height:30px;background:#8098E7;border-bottom:1px solid #aaa;}.#<uispace> .zcnt{padding:10px 5px;}.#<uispace> .zttl{margin-right:20px;text-align:left;}.#<uispace> .zcls{position:absolute;top:5px;right:0;width:20px;height:20px;line-height:20px;cursor:pointer;}");oq=bc.sw('<div class="'+jC+'"><div class="zbar"><div class="zttl">标题</div></div><div class="zcnt"></div><span class="zcls" title="关闭窗体">×</span></div>')})();
(function(){var bf=NEJ.P,bj=bf("nej.u"),bt=bf("nej.ui"),Ii;if(!!bt.uK)return;bt.uK=NEJ.C();Ii=bt.uK.cg(bt.BI);Ii.IG=function(){return bt.hl.bL(this.ht)};Ii.vX=function(){bt.uK.gO.vX.apply(this,arguments);this.ht.mask=null;this.ht.title="标题";this.ht.align="";this.ht.draggable=!1;this.ht.onclose=null}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bM=bf("nej.ui"),bF=bf("nm.l"),be,cl;bF.hl=NEJ.C();be=bF.hl.cg(bM.uK);be.cO=function(bd){bd.clazz="m-layer "+(bd.clazz||"");bd.destroyable=true;bd.draggable=true;bd.mask=bd.mask||true;bd.parent=document.body||bd.parent;this.cP(bd)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bM=bf("nej.ui"),bW=bf("nej.ut"),bj=bf("nej.u"),bk=bf("nm.x"),bU=bf("nm.d"),br=bf("nm.w"),be;br.jO=NEJ.C();be=br.jO.cg(bM.jt);be.eB=function(){this.eO();var bm=bc.fs(this.bC);console.log(bm);this.of=bm[0];this.ns=bm[1];this.eI=bm[2]};be.fw=function(){this.gv="g-select"};be.cO=function(bd){this.cP(bd);this.gg([[this.of,"click",this.uJ.bl(this)],[this.ns,"click",this.uJ.bl(this)],[this.eI,"click",this.Au.bl(this)],[document,"click",this.iZ.bl(this)]]);this.sn=bd.filter||this.Ih;this.hN(bd.list)};be.du=function(){this.dG();delete this.fE;delete this.pT;delete this.sn};be.hN=function(bm,iP,bkl){if(!bm){this.of.innerText="－请选择－";return}this.fE=bm;bc.de(this.eI,"g-select-item",{options:bm},{filter:this.sn});if(!bkl)this.nC(iP||bm[0])};be.wK=function(){return this.fE};be.gP=function(){return this.pT};be.nC=function(bA){if(this.pT!=bA){this.pT=bA;this.of.innerText=this.sn(bA);this.bR("onchange",bA)}};be.uJ=function(bg){setTimeout(function(){if(bc.dg(this.eI,"f-hide")){if(!this.fE||!this.fE.length)return;bc.bQ(this.eI,"f-hide")}else{bc.bS(this.eI,"f-hide")}}.bl(this),0)};be.iZ=function(){bc.bS(this.eI,"f-hide")};be.Au=function(bg){var bi=bn.cL(bg,"d:index"),bs=bc.bJ(bi,"index");if(bi){this.nC(this.fE[bs])}};be.Ih=function(lS){return lS.name}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u");bc.bkj=function(){var eS=/[\r\n]/gi,bI={};var bjN=function(dE){return(dE||"").replace(eS,"aa").length};var MY=function(bE){var bZ=bI[bE],MW=bc.bG(bE),oI=bc.bG(bE+"-counter");if(!MW||!bZ)return;var bg={input:MW.value};bg.length=bZ.onlength(bg.input);bg.delta=bZ.max-bg.length;bZ.onchange(bg);oI.innerHTML=bg.value||"剩余"+bg.delta+"个字"};return function(bu,bd){var bE=bc.hH(bu);if(!bE||!!bI[bE])return;var bZ=NEJ.X({},bd);bZ.onchange=bZ.onchange||cj;bZ.onlength=bjN;if(!bZ.max){var MU=parseInt(bc.gV(bE,"maxlength")),MQ=parseInt(bc.bJ(bE,"maxLength"));bZ.max=MU||MQ||100;if(!MU&&!!MQ)bZ.onlength=bj.hh}bI[bE]=bZ;bn.bT(bE,"input",MY.bl(null,bE));var bi=bc.uh(bE,{nid:bZ.nid||"js-counter",clazz:bZ.clazz});bZ.xid=bE+"-counter";bi.id=bZ.xid;MY(bE)}}()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bH=bf("nej.h");bH.HX=function(bu,df){}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bt=bf("nej.p"),bc=bf("nej.e"),bn=bf("nej.v"),bH=bf("nej.h");if(bt.iT.trident)return;bH.HX=function(){var bI={};var tV=function(bg){var gH=bn.cL(bg);if(!!gH.value)return;bc.cD(bc.uh(gH),"display","none")};var rk=function(bg){var gH=bn.cL(bg);if(!!gH.value)return;bc.cD(bc.uh(gH),"display","")};var biN=function(gH,df){var bE=bc.hH(gH),HS=bc.uh(gH,{tag:"label",clazz:df});HS.htmlFor=bE;var dN=bc.gV(gH,"placeholder")||"";HS.innerText=dN=="null"?"":dN;var hk=gH.offsetHeight+"px";bc.iL(HS,{left:0,display:!gH.value?"":"none"})};return bH.HX.dT(function(bg){bg.stopped=!0;var bO=bg.args,gH=bc.bG(bO[0]);if(!!bI[gH.id])return;biN(gH,bO[1]);bI[gH.id]=!0;bn.bT(gH,"blur",rk.bl(null));bn.bT(gH,"focus",tV.bl(null))})}()})();
(function(){var bf=NEJ.P,bH=bf("nej.h"),bc=bf("nej.e"),dm=bf("nej.x");bc.wT=dm.wT=function(bu,df){bH.HX(bu,bc.bJ(bu,"holder")||df||"js-placeholder");return this};dm.isChange=!0})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bt=bf("nej.ut"),fx;if(!!bt.rg)return;bt.rg=NEJ.C();fx=bt.rg.cg(bt.fP);fx.cZ=function(){this.dh();this.sQ={tp:{nid:"js-nej-tp"},ok:{nid:"js-nej-ok"},er:{nid:"js-nej-er"}}};fx.cO=function(bd){this.cP(bd);this.eN=document.forms[bd.form]||bc.bG(bd.form);this.gg([[this.eN,"keypress",this.biC.bl(this)]]);this.lX=bd.message||{};this.lX.pass=this.lX.pass||"&nbsp;";var fi=this.kl(this.eN,"focusMode",1);if(!isNaN(fi)){this.MF={mode:fi,clazz:bd.focus}}this.qW=bd.holder;this.sQ.tp.clazz="js-mhd "+(bd.tip||"js-tip");this.sQ.ok.clazz="js-mhd "+(bd.pass||"js-pass");this.sQ.er.clazz="js-mhd "+(bd.error||"js-error");this.MD=bd.invalid||"js-invalid";this.bir(bd);this.iS();if(!!this.HM)this.HM.focus()};fx.du=function(){this.dG();delete this.lX;delete this.HM;delete this.sZ;delete this.eN;delete this.LL;delete this.wU};fx.kl=function(bi,dD,bB){var bA=bc.bJ(bi,dD);switch(bB){case 1:return parseInt(bA);case 2:return(bA||"").toLowerCase()=="true";case 3:return this.HJ(bA)}return bA};fx.qQ=function(bA,bB){if(bB=="date")return this.HJ(bA);return parseInt(bA)};fx.BJ=function(){var hV=/^button|submit|reset|image|hidden|file$/i;return function(bi){bi=this.bG(bi)||bi;var bB=bi.type;return!!bi.name&&!hV.test(bi.type||"")}}();fx.bhG=function(){var hV=/^hidden$/i;return function(bi){if(this.BJ(bi))return!0;bi=this.bG(bi)||bi;var bB=bi.type||"";return hV.test(bB)}}();fx.HJ=function(){var dq=/[-\/]/;var bhA=function(bA){if(!bA)return"";bA=bA.split(dq);bA.push(bA.shift());return bA.join("/")};return function(bA){if((bA||"").toLowerCase()=="now")return+(new Date);return Date.parse(bhA(bA))}}();fx.biC=function(bg){if(bg.keyCode!=13)return;this.bR("onenter",bg)};fx.bhq=function(bE,bP){var ly=this.wU[bP],bA=this.kl(bE,bP);if(!bA||!ly)return;this.BO(bE,ly);this.HC(bE,bP,bA)};fx.bho=function(bE,bP){try{var Mj=this.kl(bE,bP);if(!Mj)return;var bA=new RegExp(Mj);this.HC(bE,bP,bA);this.BO(bE,this.wU[bP])}catch(e){}};fx.bha=function(bE,bP){var ly=this.wU[bP];if(!!ly&&this.kl(bE,bP,2))this.BO(bE,ly)};fx.HA=function(bE,bP,bA){bA=parseInt(bA);if(isNaN(bA))return;this.HC(bE,bP,bA);this.BO(bE,this.wU[bP])};fx.Mg=function(bE,bP){this.HA(bE,bP,this.kl(bE,bP))};fx.Mf=function(bE,bP){this.HA(bE,bP,bc.gV(bE,bP))};fx.Me=function(bE,bP,bB){var bA=this.qQ(this.kl(bE,bP),this.kl(bE,"type"));this.HA(bE,bP,bA)};fx.bgw=function(){var eS=/^input|textarea$/i;var tV=function(bg){this.Hw(bn.cL(bg))};var rk=function(bg){var bi=bn.cL(bg);if(!this.kl(bi,"ignore",2)){this.LX(bi)}};return function(bi){if(this.kl(bi,"autoFocus",2))this.HM=bi;var kI=bc.gV(bi,"placeholder");if(!!kI&&kI!="null")bc.wT(bi,this.qW);if(!!this.MF&&eS.test(bi.tagName))bc.Lv(bi,this.MF);var bE=bc.hH(bi);this.bha(bE,"required");this.bhq(bE,"type");this.bho(bE,"pattern");this.Mf(bE,"maxlength");this.Mf(bE,"minlength");this.Mg(bE,"maxLength");this.Mg(bE,"minLength");this.Me(bE,"min");this.Me(bE,"max");var bP=bi.name;this.lX[bP+"-tip"]=this.kl(bi,"tip");this.lX[bP+"-error"]=this.kl(bi,"message");this.Hw(bi);var cU=this.sZ[bE],bh=(cU||cz).data||cz,pn=this.kl(bi,"counter",2);if(pn&&(bh.maxlength||bh.maxLength)){bc.bkj(bE,{nid:this.sQ.tp.nid,clazz:"js-counter"})}if(!!cU&&eS.test(bi.tagName)){this.gg([[bi,"focus",tV.bl(this)],[bi,"blur",rk.bl(this)]])}else if(this.kl(bi,"focus",2)){this.gg([[bi,"focus",tV.bl(this)]])}}}();fx.bir=function(){var rl={number:/^[\d]+$/i,url:/^[a-z]+:\/\/(?:[\w-]+\.)+[a-z]{2,6}.*$/i,email:/^[\w-\.]+@(?:[\w-]+\.)+[a-z]{2,6}$/i,date:function(v){return!v||!isNaN(this.HJ(v))}};var bgm={required:function(bi){var bB=bi.type,bgg=!bi.value,bgf=(bB=="checkbox"||bB=="radio")&&!bi.checked;if(bgf||bgg)return-1},type:function(bi,bd){var dq=this.LL[bd.type],kT=bi.value.trim(),bfQ=!!dq.test&&!dq.test(kT),bfP=bj.eH(dq)&&!dq.call(this,kT);if(bfQ||bfP)return-2},pattern:function(bi,bd){if(!bd.pattern.test(bi.value))return-3},maxlength:function(bi,bd){if(bi.value.length>bd.maxlength)return-4},minlength:function(bi,bd){if(bi.value.length<bd.minlength)return-5},maxLength:function(bi,bd){if(bj.hh(bi.value)>bd.maxLength)return-4},minLength:function(bi,bd){if(bj.hh(bi.value)<bd.minLength)return-5},min:function(bi,bd){var dW=this.qQ(bi.value,bd.type);if(isNaN(dW)||dW<bd.min)return-6},max:function(bi,bd){var dW=this.qQ(bi.value,bd.type);if(isNaN(dW)||dW>bd.max)return-7}};return function(bd){this.LL=NEJ.X(NEJ.X({},rl),bd.type);this.wU=NEJ.X(NEJ.X({},bgm),bd.attr)}}();fx.BO=function(bE,ps){if(!bj.eH(ps))return;var cU=this.sZ[bE];if(!cU||!cU.func){cU=cU||{};cU.func=[];this.sZ[bE]=cU}cU.func.push(ps)};fx.HC=function(bE,bP,bA){if(!bP)return;var cU=this.sZ[bE];if(!cU||!cU.data){cU=cU||{};cU.data={};this.sZ[bE]=cU}cU.data[bP]=bA};fx.LX=function(bi){bi=this.bG(bi)||bi;var cU=this.sZ[bc.hH(bi)];if(!bi||!cU||!this.BJ(bi))return!0;var bo;bj.cY(cU.func,function(mt){bo=mt.call(this,bi,cU.data);return bo!=null},this);if(bo==null){var bg={target:bi,form:this.eN};this.bR("oncheck",bg);bo=bg.value}var bg={target:bi,form:this.eN};if(bo!=null){bg.code=bo;this.bR("oninvalid",bg);if(!bg.stopped){this.bfN(bi,bg.value||this.lX[bi.name+bo])}}else{this.bR("onvalid",bg);if(!bg.stopped)this.bfL(bi,bg.value)}return bo==null};fx.pu=function(){var bfJ=function(Bt,Bx){return Bt==Bx?"block":"none"};var bfH=function(bi,bB,dC){var kI=LV.call(this,bi,bB);if(!kI&&!!dC)kI=bc.uh(bi,this.sQ[bB]);return kI};var LV=function(bi,bB){var kI;if(bB=="tp")kI=bc.bG(bi.name+"-tip");if(!kI)kI=bc.bN(bi.parentNode,this.sQ[bB].nid)[0];return kI};return function(bi,dC,bB){bi=this.bG(bi)||bi;if(!bi)return;bB=="er"?bc.bS(bi,this.MD):bc.bQ(bi,this.MD);var kI=bfH.call(this,bi,bB,dC);if(!!kI&&!!dC)kI.innerHTML=dC;bj.cY(this.sQ,function(bA,bz){bc.cD(LV.call(this,bi,bz),"display",bfJ(bB,bz))},this)}}();fx.Hw=function(bi,dC){this.pu(bi,dC||this.lX[bi.name+"-tip"],"tp");return this};fx.bfL=function(bi,dC){this.pu(bi,dC||this.lX[bi.name+"-pass"]||this.lX.pass,"ok");return this};fx.bfN=function(bi,dC){this.pu(bi,dC||this.lX[bi.name+"-error"],"er");return this};fx.nC=function(){var eS=/^(?:radio|checkbox)$/i;var bfn=function(bA){return bA==null?"":bA};var LS=function(bA,bi){if(eS.test(bi.type||"")){bi.checked=bA==bi.value}else{bi.value=bfn(bA)}};return function(bP,bA){var bi=this.bG(bP);if(!bi)return this;if(bi.tagName=="SELECT"||!bi.length){LS(bA,bi)}else{bj.ch(bi,LS.bl(null,bA))}return this}}();fx.bG=function(bP){return this.eN.elements[bP]};fx.bmp=function(){return this.eN};fx.uo=function(){var eS=/^radio|checkbox$/i,hV=/^number|date$/;var bfb=function(cm,bi){var bP=bi.name,bA=bi.value,cU=cm[bP],bB=this.kl(bi,"type");if(hV.test(bB))bA=this.qQ(bA,bB);if(eS.test(bi.type)&&!bi.checked){bA=this.kl(bi,"value");if(!bA)return}if(!!cU){if(!bj.eD(cU)){cU=[cU];cm[bP]=cU}cU.push(bA)}else{cm[bP]=bA}};return function(){var bo={};bj.ch(this.eN.elements,function(bi){if(this.bhG(bi))bfb.call(this,bo,bi)},this);return bo}}();fx.Vo=function(){var beG=function(bi){if(this.BJ(bi))this.Hw(bi)};return function(){this.eN.reset();bj.ch(this.eN.elements,beG,this);return this}}();fx.bms=function(){this.eN.submit();return this};fx.iS=function(){var beD=function(bi){if(this.BJ(bi))this.bgw(bi)};return function(){this.sZ={};bj.ch(this.eN.elements,beD,this);return this}}();fx.beA=function(bi){bi=this.bG(bi)||bi;if(!!bi)return this.LX(bi);var bo=!0;bj.ch(this.eN.elements,function(bi){var bdR=this.beA(bi);bo=bo&&bdR},this);return bo}})();
(function(definition){"use strict";if(typeof bootstrap==="function"){bootstrap("promise",definition)}else if(typeof exports==="object"&&typeof module==="object"){module.exports=definition()}else if(typeof define==="function"&&define.amd){define(definition)}else if(typeof ses!=="undefined"){if(!ses.ok()){return}else{ses.makeQ=definition}}else if(typeof self!=="undefined"){self.Q=definition()}else{throw new Error("This environment was not anticipated by Q. Please file a bug.")}})(function(){"use strict";var hasStacks=false;try{throw new Error}catch(e){hasStacks=!!e.stack}var qStartingLine=captureLine();var qFileName;var noop=function(){};var nextTick=function(){var head={task:void 0,next:null};var tail=head;var flushing=false;var requestTick=void 0;var isNodeJS=false;function flush(){while(head.next){head=head.next;var task=head.task;head.task=void 0;var domain=head.domain;if(domain){head.domain=void 0;domain.enter()}try{task()}catch(e){if(isNodeJS){if(domain){domain.exit()}setTimeout(flush,0);if(domain){domain.enter()}throw e}else{setTimeout(function(){throw e},0)}}if(domain){domain.exit()}}flushing=false}nextTick=function(task){tail=tail.next={task:task,domain:isNodeJS&&process.domain,next:null};if(!flushing){flushing=true;requestTick()}};if(typeof process!=="undefined"&&process.nextTick){isNodeJS=true;requestTick=function(){process.nextTick(flush)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"){requestTick=setImmediate.bind(window,flush)}else{requestTick=function(){setImmediate(flush)}}}else if(typeof MessageChannel!=="undefined"){var channel=new MessageChannel;channel.port1.onmessage=function(){requestTick=requestPortTick;channel.port1.onmessage=flush;flush()};var requestPortTick=function(){channel.port2.postMessage(0)};requestTick=function(){setTimeout(flush,0);requestPortTick()}}else{requestTick=function(){setTimeout(flush,0)}}return nextTick}();var call=Function.call;function uncurryThis(f){return function(){return call.apply(f,arguments)}}var array_slice=uncurryThis(Array.prototype.slice);var array_reduce=uncurryThis(Array.prototype.reduce||function(callback,basis){var index=0,length=this.length;if(arguments.length===1){do{if(index in this){basis=this[index++];break}if(++index>=length){throw new TypeError}}while(1)}for(;index<length;index++){if(index in this){basis=callback(basis,this[index],index)}}return basis});var array_indexOf=uncurryThis(Array.prototype.indexOf||function(value){for(var i=0;i<this.length;i++){if(this[i]===value){return i}}return-1});var array_map=uncurryThis(Array.prototype.map||function(callback,thisp){var self=this;var collect=[];array_reduce(self,function(undefined,value,index){collect.push(callback.call(thisp,value,index,self))},void 0);return collect});var object_create=Object.create||function(prototype){function Type(){}Type.prototype=prototype;return new Type};var object_hasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty);var object_keys=Object.keys||function(object){var keys=[];for(var key in object){if(object_hasOwnProperty(object,key)){keys.push(key)}}return keys};var object_toString=uncurryThis(Object.prototype.toString);function isObject(value){return value===Object(value)}function isStopIteration(exception){return object_toString(exception)==="[object StopIteration]"||exception instanceof QReturnValue}var QReturnValue;if(typeof ReturnValue!=="undefined"){QReturnValue=ReturnValue}else{QReturnValue=function(value){this.value=value}}var STACK_JUMP_SEPARATOR="From previous event:";function makeStackTraceLong(error,promise){if(hasStacks&&promise.stack&&typeof error==="object"&&error!==null&&error.stack&&error.stack.indexOf(STACK_JUMP_SEPARATOR)===-1){var stacks=[];for(var p=promise;!!p;p=p.source){if(p.stack){stacks.unshift(p.stack)}}stacks.unshift(error.stack);var concatedStacks=stacks.join("\n"+STACK_JUMP_SEPARATOR+"\n");error.stack=filterStackString(concatedStacks)}}function filterStackString(stackString){var lines=stackString.split("\n");var desiredLines=[];for(var i=0;i<lines.length;++i){var line=lines[i];if(!isInternalFrame(line)&&!isNodeFrame(line)&&line){desiredLines.push(line)}}return desiredLines.join("\n")}function isNodeFrame(stackLine){return stackLine.indexOf("(module.js:")!==-1||stackLine.indexOf("(node.js:")!==-1}function getFileNameAndLineNumber(stackLine){var attempt1=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);if(attempt1){return[attempt1[1],Number(attempt1[2])]}var attempt2=/at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);if(attempt2){return[attempt2[1],Number(attempt2[2])]}var attempt3=/.*@(.+):(\d+)$/.exec(stackLine);if(attempt3){return[attempt3[1],Number(attempt3[2])]}}function isInternalFrame(stackLine){var fileNameAndLineNumber=getFileNameAndLineNumber(stackLine);if(!fileNameAndLineNumber){return false}var fileName=fileNameAndLineNumber[0];var lineNumber=fileNameAndLineNumber[1];return fileName===qFileName&&lineNumber>=qStartingLine&&lineNumber<=qEndingLine}function captureLine(){if(!hasStacks){return}try{throw new Error}catch(e){var lines=e.stack.split("\n");var firstLine=lines[0].indexOf("@")>0?lines[1]:lines[2];var fileNameAndLineNumber=getFileNameAndLineNumber(firstLine);if(!fileNameAndLineNumber){return}qFileName=fileNameAndLineNumber[0];return fileNameAndLineNumber[1]}}function deprecate(callback,name,alternative){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(name+" is deprecated, use "+alternative+" instead.",(new Error("")).stack)}return callback.apply(callback,arguments)}}function Q(value){if(value instanceof Promise){return value}if(isPromiseAlike(value)){return coerce(value)}else{return fulfill(value)}}Q.resolve=Q;Q.nextTick=nextTick;Q.longStackSupport=false;if(typeof process==="object"&&process&&process.env&&process.env.Q_DEBUG){Q.longStackSupport=true}Q.defer=defer;function defer(){var messages=[],progressListeners=[],resolvedPromise;var deferred=object_create(defer.prototype);var promise=object_create(Promise.prototype);promise.promiseDispatch=function(resolve,op,operands){var args=array_slice(arguments);if(messages){messages.push(args);if(op==="when"&&operands[1]){progressListeners.push(operands[1])}}else{Q.nextTick(function(){resolvedPromise.promiseDispatch.apply(resolvedPromise,args)})}};promise.valueOf=function(){if(messages){return promise}var nearerValue=nearer(resolvedPromise);if(isPromise(nearerValue)){resolvedPromise=nearerValue}return nearerValue};promise.inspect=function(){if(!resolvedPromise){return{state:"pending"}}return resolvedPromise.inspect()};if(Q.longStackSupport&&hasStacks){try{throw new Error}catch(e){promise.stack=e.stack.substring(e.stack.indexOf("\n")+1)}}function become(newPromise){resolvedPromise=newPromise;promise.source=newPromise;array_reduce(messages,function(undefined,message){Q.nextTick(function(){newPromise.promiseDispatch.apply(newPromise,message)})},void 0);messages=void 0;progressListeners=void 0}deferred.promise=promise;deferred.resolve=function(value){if(resolvedPromise){return}become(Q(value))};deferred.fulfill=function(value){if(resolvedPromise){return}become(fulfill(value))};deferred.reject=function(reason){if(resolvedPromise){return}become(reject(reason))};deferred.notify=function(progress){if(resolvedPromise){return}array_reduce(progressListeners,function(undefined,progressListener){Q.nextTick(function(){progressListener(progress)})},void 0)};return deferred}defer.prototype.makeNodeResolver=function(){var self=this;return function(error,value){if(error){self.reject(error)}else if(arguments.length>2){self.resolve(array_slice(arguments,1))}else{self.resolve(value)}}};Q.Promise=promise;Q.promise=promise;function promise(resolver){if(typeof resolver!=="function"){throw new TypeError("resolver must be a function.")}var deferred=defer();try{resolver(deferred.resolve,deferred.reject,deferred.notify)}catch(reason){deferred.reject(reason)}return deferred.promise}promise.race=race;promise.all=all;promise.reject=reject;promise.resolve=Q;Q.passByCopy=function(object){return object};Promise.prototype.passByCopy=function(){return this};Q.join=function(x,y){return Q(x).join(y)};Promise.prototype.join=function(that){return Q([this,that]).spread(function(x,y){if(x===y){return x}else{throw new Error("Can't join: not the same: "+x+" "+y)}})};Q.race=race;function race(answerPs){return promise(function(resolve,reject){for(var i=0,len=answerPs.length;i<len;i++){Q(answerPs[i]).then(resolve,reject)}})}Promise.prototype.race=function(){return this.then(Q.race)};Q.makePromise=Promise;function Promise(descriptor,fallback,inspect){if(fallback===void 0){fallback=function(op){return reject(new Error("Promise does not support operation: "+op))}}if(inspect===void 0){inspect=function(){return{state:"unknown"}}}var promise=object_create(Promise.prototype);promise.promiseDispatch=function(resolve,op,args){var result;try{if(descriptor[op]){result=descriptor[op].apply(promise,args)}else{result=fallback.call(promise,op,args)}}catch(exception){result=reject(exception)}if(resolve){resolve(result)}};promise.inspect=inspect;if(inspect){var inspected=inspect();if(inspected.state==="rejected"){promise.exception=inspected.reason}promise.valueOf=function(){var inspected=inspect();if(inspected.state==="pending"||inspected.state==="rejected"){return promise}return inspected.value}}return promise}Promise.prototype.toString=function(){return"[object Promise]"};Promise.prototype.then=function(fulfilled,rejected,progressed){var self=this;var deferred=defer();var done=false;function bdQ(value){try{return typeof fulfilled==="function"?fulfilled(value):value}catch(exception){return reject(exception)}}function bdy(exception){if(typeof rejected==="function"){makeStackTraceLong(exception,self);try{return rejected(exception)}catch(newException){return reject(newException)}}return reject(exception)}function bdt(value){return typeof progressed==="function"?progressed(value):value}Q.nextTick(function(){self.promiseDispatch(function(value){if(done){return}done=true;deferred.resolve(bdQ(value))},"when",[function(exception){if(done){return}done=true;deferred.resolve(bdy(exception))}])});self.promiseDispatch(void 0,"when",[void 0,function(value){var newValue;var threw=false;try{newValue=bdt(value)}catch(e){threw=true;if(Q.onerror){Q.onerror(e)}else{throw e}}if(!threw){deferred.notify(newValue)}}]);return deferred.promise};Q.tap=function(promise,callback){return Q(promise).tap(callback)};Promise.prototype.tap=function(callback){callback=Q(callback);return this.then(function(value){return callback.fcall(value).thenResolve(value)})};Q.when=when;function when(value,fulfilled,rejected,progressed){return Q(value).then(fulfilled,rejected,progressed)}Promise.prototype.thenResolve=function(value){return this.then(function(){return value})};Q.thenResolve=function(promise,value){return Q(promise).thenResolve(value)};Promise.prototype.thenReject=function(reason){return this.then(function(){throw reason})};Q.thenReject=function(promise,reason){return Q(promise).thenReject(reason)};Q.nearer=nearer;function nearer(value){if(isPromise(value)){var inspected=value.inspect();if(inspected.state==="fulfilled"){return inspected.value}}return value}Q.isPromise=isPromise;function isPromise(object){return object instanceof Promise}Q.isPromiseAlike=isPromiseAlike;function isPromiseAlike(object){return isObject(object)&&typeof object.then==="function"}Q.isPending=isPending;function isPending(object){return isPromise(object)&&object.inspect().state==="pending"}Promise.prototype.isPending=function(){return this.inspect().state==="pending"};Q.isFulfilled=isFulfilled;function isFulfilled(object){return!isPromise(object)||object.inspect().state==="fulfilled"}Promise.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};Q.isRejected=isRejected;function isRejected(object){return isPromise(object)&&object.inspect().state==="rejected"}Promise.prototype.isRejected=function(){return this.inspect().state==="rejected"};var unhandledReasons=[];var unhandledRejections=[];var trackUnhandledRejections=true;function resetUnhandledRejections(){unhandledReasons.length=0;unhandledRejections.length=0;if(!trackUnhandledRejections){trackUnhandledRejections=true}}function trackRejection(promise,reason){if(!trackUnhandledRejections){return}unhandledRejections.push(promise);if(reason&&typeof reason.stack!=="undefined"){unhandledReasons.push(reason.stack)}else{unhandledReasons.push("(no stack) "+reason)}}function untrackRejection(promise){if(!trackUnhandledRejections){return}var at=array_indexOf(unhandledRejections,promise);if(at!==-1){unhandledRejections.splice(at,1);unhandledReasons.splice(at,1)}}Q.resetUnhandledRejections=resetUnhandledRejections;Q.getUnhandledReasons=function(){return unhandledReasons.slice()};Q.stopUnhandledRejectionTracking=function(){resetUnhandledRejections();trackUnhandledRejections=false};resetUnhandledRejections();Q.reject=reject;function reject(reason){var rejection=Promise({when:function(rejected){if(rejected){untrackRejection(this)}return rejected?rejected(reason):this}},function fallback(){return this},function inspect(){return{state:"rejected",reason:reason}});trackRejection(rejection,reason);return rejection}Q.fulfill=fulfill;function fulfill(value){return Promise({when:function(){return value},get:function(name){return value[name]},set:function(name,rhs){value[name]=rhs},"delete":function(name){delete value[name]},post:function(name,args){if(name===null||name===void 0){return value.apply(void 0,args)}else{return value[name].apply(value,args)}},apply:function(thisp,args){return value.apply(thisp,args)},keys:function(){return object_keys(value)}},void 0,function inspect(){return{state:"fulfilled",value:value}})}function coerce(promise){var deferred=defer();Q.nextTick(function(){try{promise.then(deferred.resolve,deferred.reject,deferred.notify)}catch(exception){deferred.reject(exception)}});return deferred.promise}Q.master=master;function master(object){return Promise({isDef:function(){}},function fallback(op,args){return dispatch(object,op,args)},function(){return Q(object).inspect()})}Q.spread=spread;function spread(value,fulfilled,rejected){return Q(value).spread(fulfilled,rejected)}Promise.prototype.spread=function(fulfilled,rejected){return this.all().then(function(array){return fulfilled.apply(void 0,array)},rejected)};Q.async=async;function async(makeGenerator){return function(){function continuer(verb,arg){var result;if(typeof StopIteration==="undefined"){try{result=generator[verb](arg)}catch(exception){return reject(exception)}if(result.done){return Q(result.value)}else{return when(result.value,callback,errback)}}else{try{result=generator[verb](arg)}catch(exception){if(isStopIteration(exception)){return Q(exception.value)}else{return reject(exception)}}return when(result,callback,errback)}}var generator=makeGenerator.apply(this,arguments);var callback=continuer.bind(continuer,"next");var errback=continuer.bind(continuer,"throw");return callback()}}Q.spawn=spawn;function spawn(makeGenerator){Q.done(Q.async(makeGenerator)())}Q["return"]=bdg;function bdg(value){throw new QReturnValue(value)}Q.promised=promised;function promised(callback){return function(){return spread([this,all(arguments)],function(self,args){return callback.apply(self,args)})}}Q.dispatch=dispatch;function dispatch(object,op,args){return Q(object).dispatch(op,args)}Promise.prototype.dispatch=function(op,args){var self=this;var deferred=defer();Q.nextTick(function(){self.promiseDispatch(deferred.resolve,op,args)});return deferred.promise};Q.get=function(object,key){return Q(object).dispatch("get",[key])};Promise.prototype.get=function(key){return this.dispatch("get",[key])};Q.set=function(object,key,value){return Q(object).dispatch("set",[key,value])};Promise.prototype.set=function(key,value){return this.dispatch("set",[key,value])};Q.del=Q["delete"]=function(object,key){return Q(object).dispatch("delete",[key])};Promise.prototype.del=Promise.prototype["delete"]=function(key){return this.dispatch("delete",[key])};Q.mapply=Q.post=function(object,name,args){return Q(object).dispatch("post",[name,args])};Promise.prototype.mapply=Promise.prototype.post=function(name,args){return this.dispatch("post",[name,args])};Q.send=Q.mcall=Q.invoke=function(object,name){return Q(object).dispatch("post",[name,array_slice(arguments,2)])};Promise.prototype.send=Promise.prototype.mcall=Promise.prototype.invoke=function(name){return this.dispatch("post",[name,array_slice(arguments,1)])};Q.fapply=function(object,args){return Q(object).dispatch("apply",[void 0,args])};Promise.prototype.fapply=function(args){return this.dispatch("apply",[void 0,args])};Q["try"]=Q.fcall=function(object){return Q(object).dispatch("apply",[void 0,array_slice(arguments,1)])};Promise.prototype.fcall=function(){return this.dispatch("apply",[void 0,array_slice(arguments)])};Q.fbind=function(object){var promise=Q(object);var args=array_slice(arguments,1);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}};Promise.prototype.fbind=function(){var promise=this;var args=array_slice(arguments);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}};Q.keys=function(object){return Q(object).dispatch("keys",[])};Promise.prototype.keys=function(){return this.dispatch("keys",[])};Q.all=all;function all(promises){return when(promises,function(promises){var pendingCount=0;var deferred=defer();array_reduce(promises,function(undefined,promise,index){var snapshot;if(isPromise(promise)&&(snapshot=promise.inspect()).state==="fulfilled"){promises[index]=snapshot.value}else{++pendingCount;when(promise,function(value){promises[index]=value;if(--pendingCount===0){deferred.resolve(promises)}},deferred.reject,function(progress){deferred.notify({index:index,value:progress})})}},void 0);if(pendingCount===0){deferred.resolve(promises)}return deferred.promise})}Promise.prototype.all=function(){return all(this)};Q.any=any;function any(promises){if(promises.length===0){return Q.resolve()}var deferred=Q.defer();var pendingCount=0;array_reduce(promises,function(prev,current,index){var promise=promises[index];pendingCount++;when(promise,onFulfilled,onRejected,onProgress);function onFulfilled(result){deferred.resolve(result)}function onRejected(){pendingCount--;if(pendingCount===0){deferred.reject(new Error("Can't get fulfillment value from any promise, all "+"promises were rejected."))}}function onProgress(progress){deferred.notify({index:index,value:progress})}},undefined);return deferred.promise}Promise.prototype.any=function(){return any(this)};Q.allResolved=deprecate(allResolved,"allResolved","allSettled");function allResolved(promises){return when(promises,function(promises){promises=array_map(promises,Q);return when(all(array_map(promises,function(promise){return when(promise,noop,noop)})),function(){return promises})})}Promise.prototype.allResolved=function(){return allResolved(this)};Q.allSettled=allSettled;function allSettled(promises){return Q(promises).allSettled()}Promise.prototype.allSettled=function(){return this.then(function(promises){return all(array_map(promises,function(promise){promise=Q(promise);function regardless(){return promise.inspect()}return promise.then(regardless,regardless)}))})};Q.fail=Q["catch"]=function(object,rejected){return Q(object).then(void 0,rejected)};Promise.prototype.fail=Promise.prototype["catch"]=function(rejected){return this.then(void 0,rejected)};Q.progress=progress;function progress(object,progressed){return Q(object).then(void 0,void 0,progressed)}Promise.prototype.progress=function(progressed){return this.then(void 0,void 0,progressed)};Q.fin=Q["finally"]=function(object,callback){return Q(object)["finally"](callback)};Promise.prototype.fin=Promise.prototype["finally"]=function(callback){callback=Q(callback);return this.then(function(value){return callback.fcall().then(function(){return value})},function(reason){return callback.fcall().then(function(){throw reason})})};Q.done=function(object,fulfilled,rejected,progress){return Q(object).done(fulfilled,rejected,progress)};Promise.prototype.done=function(fulfilled,rejected,progress){var onUnhandledError=function(error){Q.nextTick(function(){makeStackTraceLong(error,promise);if(Q.onerror){Q.onerror(error)}else{throw error}})};var promise=fulfilled||rejected||progress?this.then(fulfilled,rejected,progress):this;if(typeof process==="object"&&process&&process.domain){onUnhandledError=process.domain.bind(onUnhandledError)}promise.then(void 0,onUnhandledError)};Q.timeout=function(object,ms,error){return Q(object).timeout(ms,error)};Promise.prototype.timeout=function(ms,error){var deferred=defer();var timeoutId=setTimeout(function(){if(!error||"string"===typeof error){error=new Error(error||"Timed out after "+ms+" ms");error.code="ETIMEDOUT"}deferred.reject(error)},ms);this.then(function(value){clearTimeout(timeoutId);deferred.resolve(value)},function(exception){clearTimeout(timeoutId);deferred.reject(exception)},deferred.notify);return deferred.promise};Q.delay=function(object,timeout){if(timeout===void 0){timeout=object;object=void 0}return Q(object).delay(timeout)};Promise.prototype.delay=function(timeout){return this.then(function(value){var deferred=defer();setTimeout(function(){deferred.resolve(value)},timeout);return deferred.promise})};Q.nfapply=function(callback,args){return Q(callback).nfapply(args)};Promise.prototype.nfapply=function(args){var deferred=defer();var nodeArgs=array_slice(args);nodeArgs.push(deferred.makeNodeResolver());this.fapply(nodeArgs).fail(deferred.reject);return deferred.promise};Q.nfcall=function(callback){var args=array_slice(arguments,1);return Q(callback).nfapply(args)};Promise.prototype.nfcall=function(){var nodeArgs=array_slice(arguments);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());this.fapply(nodeArgs).fail(deferred.reject);return deferred.promise};Q.nfbind=Q.denodeify=function(callback){var baseArgs=array_slice(arguments,1);return function(){var nodeArgs=baseArgs.concat(array_slice(arguments));var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());Q(callback).fapply(nodeArgs).fail(deferred.reject);return deferred.promise}};Promise.prototype.nfbind=Promise.prototype.denodeify=function(){var args=array_slice(arguments);args.unshift(this);return Q.denodeify.apply(void 0,args)};Q.nbind=function(callback,thisp){var baseArgs=array_slice(arguments,2);return function(){var nodeArgs=baseArgs.concat(array_slice(arguments));var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());function bound(){return callback.apply(thisp,arguments)}Q(bound).fapply(nodeArgs).fail(deferred.reject);return deferred.promise}};Promise.prototype.nbind=function(){var args=array_slice(arguments,0);args.unshift(this);return Q.nbind.apply(void 0,args)};Q.nmapply=Q.npost=function(object,name,args){return Q(object).npost(name,args)};Promise.prototype.nmapply=Promise.prototype.npost=function(name,args){var nodeArgs=array_slice(args||[]);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());this.dispatch("post",[name,nodeArgs]).fail(deferred.reject);return deferred.promise};Q.nsend=Q.nmcall=Q.ninvoke=function(object,name){var nodeArgs=array_slice(arguments,2);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());Q(object).dispatch("post",[name,nodeArgs]).fail(deferred.reject);return deferred.promise};Promise.prototype.nsend=Promise.prototype.nmcall=Promise.prototype.ninvoke=function(name){var nodeArgs=array_slice(arguments,1);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());this.dispatch("post",[name,nodeArgs]).fail(deferred.reject);return deferred.promise};Q.nodeify=nodeify;function nodeify(object,nodeback){return Q(object).nodeify(nodeback)}Promise.prototype.nodeify=function(nodeback){if(nodeback){this.then(function(value){Q.nextTick(function(){nodeback(null,value)})},function(error){Q.nextTick(function(){nodeback(error)})})}else{return this}};var qEndingLine=captureLine();return Q});
(function(){var bf=NEJ.P,bv=bf("nej.j"),bj=bf("nej.u"),bI={},bk=bf("nm.x");bk.bV=function(bD,bd){var um,bh,bz=bd.method.toLowerCase()=="get"?bD+bj.dv(bd.query):null,oD=Q.defer();if(bj.ip(bd.cache)){um=bd.cache}else if(bd.cache){um=bI}bd.onload=function(bg){if(bg.code==200){if(bz&&um){um[bz]=bg}oD.resolve(bg)}else{oD.reject(bg)}};bd.onerror=function(bg){oD.reject(bg)};if(bz&&um){bh=um[bz];if(bh){bd.onload(bh);return oD.promise}}bv.bV(bD,bd);return oD.promise};bk.bG=function(bD,dn,bd){var bd=bd||{};bd.method="get";bd.type=bd.type||"json";bd.query=dn;return bk.bV(bD,bd)};bk.iy=function(bD,bh,bd){var bd=bd||{};bd.method="post";bd.type=bd.type||"json";bd.data=bj.dv(bh);return bk.bV(bD,bd)}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bv=bf("nej.j"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),br=bf("nm.w"),be,cl;bF.jB=NEJ.C();be=bF.jB.cg(bF.hl);be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.fd={name:bm[1],idcard:bm[2],cellphone:bm[3],address:bm[5]};this.hI=bm[0];this.bcX=bm[4];bn.bT(this.bC,"click",this.cH.bl(this));bn.bT(this.bC.idcard,"keypress",this.bcV.bl(this))};be.fw=function(){this.gv="g-address"};be.cO=function(bd){bd.clazz="m-rechareg";this.cP(bd);var kF={parent:this.bcX,filter:this.pY};this.rU=br.jO.bL(kF);this.rV=br.jO.bL(kF);this.rW=br.jO.bL(kF);this.Hk=bd.isEdit;this.Hj=bd.isNewEdit;this.Ty=bd.isOneAddrs;if(this.Hk||this.Hj){this.qC=bd.address.id;this.uk=bd.address.prop?true:false}else{this.bce=true}if(bd.address&&bd.address.prop==1){bc.bG("setdftbox").style.display="none"}else{bc.bG("setdftbox").style.display="block";if(this.Hk){bc.bG("setdftbox").style.display="none"}}var bmz=bc.bG("setdftbox");var Hg=bc.bG("setdft");if(bd.address&&bd.address.prop==1){Hg.className="u-icn u-icn-checked"}else{Hg.className="u-icn u-icn-nochecked"}if(this.Ty){this.uk=true;Hg.className="u-icn u-icn-checked"}this.fd.addressId=bc.pV('<span class="err j-flag"><i class="f-ib"></i>请选择所在省市</span>');kF.parent.appendChild(this.fd.addressId);this.eN=bW.rg.bL({form:this.bC});this.fr=bd.address;var dO=this;var bbP=String(this.fr?this.fr.addressId:"");this.He=bd.needId;if(this.He){if(this.fr&&this.fr.name&&!this.fr.idCardNo){bc.cD(this.bC.idcard,"borderColor","#F08B8B");setTimeout(function(){this.bC.idcard.focus()}.bl(this),200)}else{bc.cD(this.bC.idcard,"borderColor","")}bc.bQ(this.bC.idcard.parentNode,"f-hide");bc.bQ(this.hI,"f-hide")}else{bc.bS(this.bC.idcard.parentNode,"f-hide");bc.bS(this.hI,"f-hide")}if(this.fr){this.bC.name.value=bj.qS(this.fr.name);this.bC.cellphone.value=this.fr.cellphone;this.bC.detailAddress.value=bj.qS(this.fr.detailAddress);this.bC.idcard.value=this.fr.idCardNo||"";bk.bG("/store/api/address/mlookupAddress",{addressId:bbP},{cache:true}).then(function(bg){var bbG=bg.data[1];var bbC=bg.data[2];var bbB=bg.data[3];dO.rU.hN(bbG);dO.rV.hN(bbC);dO.rW.hN(bbB);dO.rU.bT("onchange",dO.AE.bl(dO));dO.rV.bT("onchange",dO.AE.bl(dO))})}else{var bbx=bc.bN(this.bC,"u-txt");bj.ch(bbx,function(bw,bs){bw.value=""});this.uk=false;bc.bG("setdftbox").style.display="block";bk.bG("/store/api/address/getAddressLevel",{level:1},{cache:true}).then(function(bg){dO.rU.hN(bg.data,null,true)});this.rU.bT("onchange",this.AE.bl(this));this.rV.bT("onchange",this.AE.bl(this))}};be.du=function(){bc.bQ(bc.bN(this.bC,"u-slt")[0],"u-txt-err");bc.bQ(bc.bN(this.bC,"u-slt")[1],"u-txt-err");bc.bQ(bc.bN(this.bC,"u-slt")[2],"u-txt-err");this.dG();this.rU.cG();this.rV.cG();this.rW.cG();this.eN.cG();delete this.rU;delete this.rV;delete this.rW;delete this.eN;bc.bQ(this.fd.name,"z-show");bc.bQ(this.fd.cellphone,"z-show");bc.bQ(this.fd.addressId,"z-show");bc.bQ(this.fd.address,"z-show");bc.bQ(this.bC["name"],"u-txt-err");bc.bQ(this.bC["cellphone"],"u-txt-err");bc.bQ(this.bC["address"],"u-txt-err");bc.bQ(bc.bN(this.bC,"j-address")[0],"u-txt-err")};be.bcV=function(bg){var bA=this.bC.idcard.value.trim();if(bA.length>=18){bn.eC(bg)}bc.cD(this.bC.idcard,"borderColor","")};be.cH=function(bg){var bi=bn.cL(bg,"d:action"),bh=this.eN.uo();switch(bc.bJ(bi,"action")){case"ok":bh.setdefault=this.uk||false;if(this.Hk||this.Hj){bh.id=this.qC}bh.name=bj.hd(bh.name.trim());bh.cellphone=bj.hd(bh.cellphone.trim());bh.detailAddress=bj.hd(bh.detailAddress.trim());if(!!this.rW.gP())bh.addressId=this.rW.gP().id;if(!bh.name){this.dz("name","请输入收货人姓名")}else if(bj.hh(bh.name)>25||bj.hh(bh.name)<2){this.dz("name","姓名应该为2~25个字符")}else{this.dz("name",null)}if(this.He){if(!bh.idcard){this.dz("idcard","请填写身份证号码")}else if(!/^([\w\d]{18}|[\w\d]{15})$/.test(bh.idcard)){this.dz("idcard","身份证号码格式不正确")}else{this.dz("idcard",null)}}else{this.dz("idcard",null)}if(!bh.cellphone){this.dz("cellphone","请输入手机号")}else if(!/^\d{11}$/.test(bh.cellphone)){this.dz("cellphone","手机号应该为11位数字")}else{this.dz("cellphone",null)}if(!bh.addressId){this.dz("addressId","请选择所在省市")}else{this.dz("addressId",null)}if(!bh.detailAddress){this.dz("address","请输入地址")}else if(bj.hh(bh.detailAddress)>120){this.dz("address","地址不能超过120个字符")}else if(bj.hh(bh.detailAddress)<5){this.dz("address","地址不能少于5个字符")}else{this.dz("address",null)}if(this.vx())return;if(!this.He)delete bh.idcard;bk.iy("/store/api/point/saveAddress",bh).then(function(bg){var qj=[];qj.push(this.rU.gP().locationName);qj.push(this.rV.gP().locationName);qj.push(this.rW.gP().locationName);bh.provinceCity=qj.join(" ");bh.idCardNo=bh.idcard;bh.id=bg.id;if(bh.setdefault){bh.prop=1}else{bh.prop=0}this.bR("onok",bh);this.cQ()}.bl(this),function(bg){if(bg.code==-6){this.dz("idcard","姓名与身份证号码不匹配")}}.bl(this));break;case"setdefault":if(this.Ty){return}this.Hc();break;case"hide":this.cQ();break}};be.Hc=function(){if(this.bce||this.Hj){var GZ=bc.bG("setdft");if(GZ.className=="u-icn u-icn-checked"){GZ.className="u-icn u-icn-nochecked";this.uk=false}else{GZ.className="u-icn u-icn-checked";this.uk=true}return}var bE=this.fr.id;var bh={id:bE};var This=this;bk.iy("/store/api/point/address/setdefault",bh).then(function(bh){console.log(bh);if(bh.code==200){bk.ci({message:"设置默认地址成功!"});This.uk=true;bc.bG("setdft").className="u-icn u-icn-checked"}else{bk.ci({type:"error",message:bh.message})}})};be.dz=function(bz,cX){var lr=this.fd[bz],qn=this.bC[bz];if(cX){lr.innerHTML=bk.hy('<i class="f-ib"></i>{0}',cX);bc.bS(lr,"z-show");bc.bS(qn,"u-txt-err");if(bz=="address"){lr.style.marginBottom="19px";lr.style.marginTop="7px";bc.bS(bc.bN(this.bC,"j-address")[0],"u-txt-err")}if(bz=="addressId"){bc.bS(bc.bN(this.bC,"u-slt")[0],"u-txt-err");bc.bS(bc.bN(this.bC,"u-slt")[1],"u-txt-err");bc.bS(bc.bN(this.bC,"u-slt")[2],"u-txt-err")}}else{if(bz=="address"){bc.bQ(bc.bN(this.bC,"j-address")[0],"u-txt-err")}if(bz=="addressId"){bc.bQ(bc.bN(this.bC,"u-slt")[0],"u-txt-err");bc.bQ(bc.bN(this.bC,"u-slt")[1],"u-txt-err");bc.bQ(bc.bN(this.bC,"u-slt")[2],"u-txt-err")}bc.bQ(lr,"z-show");bc.bQ(qn,"u-txt-err")}};be.vx=function(){return bc.dg(this.fd.name,"z-show")||bc.dg(this.fd.idcard,"z-show")||bc.dg(this.fd.cellphone,"z-show")||bc.dg(this.fd.addressId,"z-show")||bc.dg(this.fd.address,"z-show")};be.pY=function(bh){return bh.locationName};be.AE=function(bA){bk.bG("/store/api/address/nextaddress",{id:bA.id},{cache:true}).then(function(bg){if(bg.code==200){if(bA.level==1){this.rV.hN(bg.data)}else if(bA.level==2){this.rW.hN(bg.data)}}}.bl(this))}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bn=bf("nej.v"),bc=bf("nej.e"),bt=bf("nej.ui"),be;if(!!bt.xJ)return;var jC=bc.oH(".#<uispace>{position:absolute;background:#fff;}");bt.xJ=NEJ.C();be=bt.xJ.cg(bt.vU);be.cO=function(bd){this.cP(bd);this.gg([[document,"click",this.GY.bl(this)]]);this.bbk=!!bd.nostop;this.SR={top:bd.top,left:bd.left}};be.du=function(){delete this.SN;delete this.GU;delete this.lf;delete this.SE;delete this.AZ;delete this.SR;this.dG()};be.fw=function(){this.kY=jC};be.eB=function(){this.eO();this.vW=this.bC;bn.bT(this.bC,"click",this.bar.bl(this))};be.GY=function(bg){if(bg.button!=2)this.cQ()};be.bar=function(bg){if(this.bbk)return;bn.AY(bg);var bu=bn.cL(bg);if(bu.tagName=="A")bn.jP(bg)};be.baq=function(){var dq=/\s+/i;return function(js){js=(js||"").trim().toLowerCase().split(dq);js[0]=js[0]||"bottom";js[1]=js[1]||"left";this.lf=js}}();be.bam=function(js){var bo={},iM=this.GU,bmE=bc.my(),hi=this.bC.offsetWidth,hk=this.bC.offsetHeight;switch(js[0]){case"top":bo.top=iM.top-hk;bo.left=js[1]=="right"?iM.left+iM.width-hi:iM.left;break;case"left":bo.left=iM.left-hi;bo.top=js[1]=="bottom"?iM.top+iM.height-hk:iM.top;break;case"right":bo.left=iM.left+iM.width;bo.top=js[1]=="bottom"?iM.top+iM.height-hk:iM.top;break;default:bo.top=iM.top+iM.height;bo.left=js[1]=="right"?iM.left+iM.width-hi:iM.left;break}return bo};be.oT=function(){if(!this.SE){this.nZ(this.SR);return}if(!!this.AZ){this.nZ(this.SN);return}if(!!this.GU)this.nZ(this.bam(this.lf))};be.bac=function(bu,di,bg){di=di||cz;var Sf=bc.my(),dm=bn.ue(bg)+(di.left||0),gi=bn.uf(bg)+(di.top||0),hi=bu.offsetWidth+(di.right||0),hk=bu.offsetHeight+(di.bottom||0),tX=Sf.scrollWidth,GM=Sf.scrollHeight,GL=dm+hi,GI=gi+hk;switch(this.lf[0]){case"top":gi=GI>GM?gi-hk:gi;if(this.lf[1]=="right"){dm=dm-hi<0?0:dm-hi}else{dm=GL>tX?tX-hi:dm}break;case"left":dm=GL>tX?tX-hi:dm;if(this.lf[1]=="top"){gi=GI>GM?gi-hk:gi}else{gi=gi-hk<0?gi:gi-hk}break;case"right":dm=dm-hi<0?0:dm-hi;if(this.lf[1]=="top"){gi=GI>GM?gi-hk:gi}else{gi=gi-hk<0?gi:gi-hk}break;default:gi=gi-hk<0?gi:gi-hk;if(this.lf[1]=="left"){dm=GL>tX?tX-hi:dm}else{dm=dm-hi<0?0:dm-hi}break}return{top:gi,left:dm}};be.GH=function(){var ZG=function(bu,di){bu=bc.bG(bu);if(!bu)return;di=di||cz;var cB=bc.jZ(bu);return{top:cB.y-(di.top||0),left:cB.x-(di.left||0),width:bu.offsetWidth+(di.right||0),height:bu.offsetHeight+(di.bottom||0)}};return function(bd){bd=bd||cz;this.AZ=bd.event;this.baq(bd.align);if(!!this.AZ)this.SN=this.bac(bd.target,bd.delta,this.AZ);this.GU=ZG(bd.target,bd.delta);this.SE=!!bd.fitable;this.cw();return this}}()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.t"),bF=bf("nm.l"),bk=bf("nm.x"),be,cl;bF.GG=NEJ.C();be=bF.GG.cg(bM.xJ);be.fw=function(){this.kY="m-mesg"};be.cO=function(bd){this.cP(bd);this.bC.innerHTML=bd.html};be.du=function(){this.bR("ondestroy");this.dG()};be.oT=function(){var bA={},hf=bc.my(),jl={left:hf.scrollLeft,top:hf.scrollTop},di={left:hf.clientWidth-this.bC.offsetWidth,top:hf.clientHeight-this.bC.offsetHeight};bA.top=Math.max(0,jl.top+di.top/2);bA.left=Math.max(0,jl.left+di.left/2);this.nZ(bA)};bk.ci=function(){var tip,tid;return function(bd){if(tip)tip.cG();tip=bF.GG.bL({destroyable:true,parent:document.body,html:bd.html||bc.fe("g-mesg-tip",bd),ondestroy:bd.ondestroy});tip.cw();window.clearTimeout(tid);tid=window.setTimeout(function(){if(tip)tip.cG();tip=null},1e3)}}()})();
(function(){var bf=NEJ.P,cz=NEJ.O,bt=bf("nej.p");if(bt.iT.trident)return;var sP=function(wo){return"[object function]"===cz.toString.call(wo).toLowerCase()};var be=Array.prototype;if(!Array.isArray){Array.isArray=function(wo){return"[object array]"===cz.toString.call(wo).toLowerCase()}}if(!be.reverse){be.reverse=function(){for(var i=0,j=this.length-1,tmpi,tmpj;i<j;i++,j--){tmpi=this[i];tmpj=this[j];if(typeof tmpi!="undefined"){this[j]=tmpi}else{delete this[j]}if(typeof tmpj!="undefined"){this[i]=tmpj}else{delete this[i]}}return this}}if(!be.indexOf){be.indexOf=function(lU,oY){var bs=parseInit(oY)||0;if(bs<0){bs=Math.max(0,this.length+bs)}for(var l=this.length;bs<l;bs++){if(bs in this&&lU===this[bs])return bs}return-1}}if(!be.lastIndexOf){be.lastIndexOf=function(lU,hw){var bs=this.length-1;hw=parseInt(hw);if(!isNaN(hw)){bs=hw;if(bs<0){bs=this.length+bs}}for(;bs>=0;bs--){if(bs in this&&lU===this[bs])return bs}return-1}}if(!be.every){be.every=function(dJ,gF){if(!sP(dJ)){throw new Error(dJ+" is not a function")}for(var i=0,l=this.length;i<l;i++){if(i in this&&!dJ.call(gF,this[i],i,this))return!1}return!0}}if(!be.some){be.some=function(dJ,gF){if(!sP(dJ)){throw new Error(dJ+" is not a function")}for(var i=0,l=this.length;i<l;i++){if(i in this&&dJ.call(gF,this[i],i,this))return!0}return!1}}if(!be.forEach){be.forEach=function(dJ,gF){if(!sP(dJ)){throw new Error(dJ+" is not a function")}for(var i=0,l=this.length;i<l;i++){if(i in this){dJ.call(gF,this[i],i,this)}}}}if(!be.map){be.map=function(dJ,gF){if(!sP(dJ)){throw new Error(dJ+" is not a function")}var bo=new Array(this.length);for(var i=0,l=this.length;i<l;i++){if(i in this){bo[i]=dJ.call(gF,this[i],i,this)}}return bo}}if(!be.filter){be.filter=function(dJ,gF){if(!sP(dJ)){throw new Error(dJ+" is not a function")}var bo=[];for(var i=0,l=this.length;i<l;i++){if(i in this&&dJ.call(gF,this[i],i,this)){bo.push(this[i])}}return bo}}if(!be.reduce){be.reduce=function(dJ,bA){if(!sP(dJ)){throw new Error(dJ+" is not a function")}var ri=arguments.length>1;for(var i=0,l=this.length;i<l;i++){if(!(i in this))continue;if(ri){bA=dJ(bA,this[i],i,this)}else{ri=!0;bA=this[i]}}if(!ri){throw new Error("Reduce of empty array with no initial value")}return bA}}if(!be.reduceRight){be.reduceRight=function(dJ,bA){if(!sP(dJ)){throw new Error(dJ+" is not a function")}var ri=arguments.length>1;for(var i=this.length-1;i>=0;i--){if(!(i in this))continue;if(ri){bA=dJ(bA,this[i],i,this)}else{ri=!0;bA=this[i]}}if(!ri){throw new Error("Reduce of empty array with no initial value")}return bA}}})();
(function(){var bf=NEJ.P,br=bf("nm.w"),bk=bf("nm.x");var BaseComponent=Regular.extend({throttle:function(fn,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer);timer=setTimeout(function(){fn.apply(context,args)},delay)}},qs:function(name){var match=RegExp("[?&]"+name+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))},extend:function(destination,source,isCover){if(isCover==null)isCover=true;for(var property in source){if(!destination[property]||isCover){destination[property]=source[property]}}return destination},getExtraMoney:function(obj){var cE=0;if(obj){cE=obj.freeFreightMoney-obj.totalMoney;if(/^[0-9]+$/.test(cE)){return cE}else if(cE%1!=0){var iB=cE.toString();var oo=iB.split(".");if(oo.length>1){return cE.toFixed(2)}else return cE}}return cE},biLog:function(action,obj){bk.cF(action,obj)},escape:function(str){if(!str)return;return str.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}});var filter=function(){function fix(str){str=""+(str||"");return str.length<=1?"0"+str:str}var maps={yyyy:function(date){return date.getFullYear()},MM:function(date){return fix(date.getMonth()+1)},dd:function(date){return fix(date.getDate())},HH:function(date){return fix(date.getHours())},mm:function(date){return fix(date.getMinutes())}};var trunk=new RegExp("yyyy|MM|dd|HH|mm","g");return function(value,format){format=format||"yyyy-MM-dd HH:mm";value=new Date(value);return format.replace(trunk,function(capture){return maps[capture]?maps[capture](value):""})}}();BaseComponent.filter("format",filter);br.ev=BaseComponent})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),be,cl;bF.GF=NEJ.C();be=bF.GF.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.pi.bl(this))};be.cO=function(bd){this.cP(bd);if(bd.jst){this.bC.innerHTML=bc.fe(bd.jst,bd.data)}else if(bd.ntp){this.bC.appendChild(bc.oZ(bd.ntp))}else if(bd.txt){this.bC.innerHTML=bc.gA(bd.txt)}else if(bd.html){this.bC.innerHTML=bd.html}var yj=this.bC.getElementsByTagName("form");if(yj.length){this.eN=bW.rg.bL({form:yj[0]})}};be.du=function(){this.dG();this.bC.innerHTML="";if(this.eN){this.eN.cG();delete this.eN}};be.pi=function(bg){bn.eC(bg);var bi=bn.cL(bg,"d:action"),bh=this.eN?this.eN.uo():null,bg={action:bc.bJ(bi,"action")};if(bh)bg.data=bh;if(bg.action){this.bR("onaction",bg);if(bg.stopped)return;this.cQ()}};bk.ep=function(bd){var layer=bF.GF.bL({title:bd.title||"提示",html:bd.html||bc.fe("g-alert-tip",bd),onaction:bd.onaction,clazz:bd.clazz});layer.cw();return layer};bk.fl=function(bd){bd.note=bd.note||"";var layer=bF.GF.bL({title:bd.title||"确定",html:bd.html||bc.fe("g-confirm-tip",bd),onaction:bd.onaction,clazz:bd.clazz});layer.cw();return layer}})();
(function(){var bf=NEJ.P,eo=bf("nej.g"),bv=bf("nej.j"),bj=bf("nej.u"),ni=bf("nm.x.ek");ni.emj={"色":"00e0b","流感":"509f6","这边":"259df","弱":"8642d","嘴唇":"bc356","亲":"62901","开心":"477df","呲牙":"22677","憨笑":"ec152","猫":"b5ff6","皱眉":"8ace6","幽灵":"15bb7","蛋糕":"b7251","发怒":"52b3a","大哭":"b17a8","兔子":"76aea","星星":"8a5aa","钟情":"76d2e","牵手":"41762","公鸡":"9ec4e","爱意":"e341f","禁止":"56135","狗":"fccf6","亲亲":"95280","叉":"104e0","礼物":"312ec","晕":"bda92","呆":"557c9","生病":"38701","钻石":"14af6","拜":"c9d05","怒":"c4f7f","示爱":"0c368","汗":"5b7a4","小鸡":"6bee2","痛苦":"55932","撇嘴":"575cc","惶恐":"e10b4","口罩":"24d81","吐舌":"3cfe4","心碎":"875d3","生气":"e8204","可爱":"7b97d","鬼脸":"def52","跳舞":"741d5","男孩":"46b8e","奸笑":"289dc","猪":"6935b","圈":"3ece0","便便":"462db","外星":"0a22b","圣诞":"8e7","流泪":"01000","强":"1","爱心":"0CoJU","女孩":"m6Qyw","惊恐":"8W8ju","大笑":"d"};ni.md=["色","流感","这边","弱","嘴唇","亲","开心","呲牙","憨笑","猫","皱眉","幽灵","蛋糕","发怒","大哭","兔子","星星","钟情","牵手","公鸡","爱意","禁止","狗","亲亲","叉","礼物","晕","呆","生病","钻石","拜","怒","示爱","汗","小鸡","痛苦","撇嘴","惶恐","口罩","吐舌","心碎","生气","可爱","鬼脸","跳舞","男孩","奸笑","猪","圈","便便","外星","圣诞"]})();
var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-8*(k%4)&255)<<24-8*((j+k)%4);else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-8*(j%4)&255;e.push((k>>>4).toString(16));e.push((k&15).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,2),16)<<24-4*(j%8);return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-8*(j%4)&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(a.charCodeAt(j)&255)<<24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this.bh=new r.init;this.yu=0},pe:function(a){"string"==typeof a&&(a=x.parse(a));this.bh.concat(a);this.yu+=a.sigBytes},kh:function(a){var c=this.bh,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b=a?u.ceil(b):u.max((b|0)-this.yl,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q<a;q+=k)this.yK(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);a.bh=this.bh.clone();return a},yl:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this.tj()},update:function(a){this.pe(a);this.kh();return this},finalize:function(a){a&&this.pe(a);return this.oQ()},blockSize:16,th:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},GE:function(a){return function(b,e){return(new n.HMAC.init(a,e)).finalize(b)}}});var n=d.algo={};return d}(Math);(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this.cm;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this.cm,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},cm:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({tj:function(){this.fU=new w.init([1732584193,4023233417,2562383102,271733878])},yK:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this.fU.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},oQ:function(){var b=this.bh,n=b.words,a=8*this.yu,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this.kh();b=this.fU;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b.fU=this.fU.clone();return b}});t.MD5=v.th(r);t.HmacMD5=v.GE(r)})(Math);(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,l)}})();CryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this.tl,e,a)},createDecryptor:function(e,a){return this.create(this.GD,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this.zl=e;this.bz=a;this.reset()},reset:function(){t.reset.call(this);this.tj()},process:function(e){this.pe(e);return this.kh()},finalize:function(e){e&&this.pe(e);return this.oQ()},keySize:4,ivSize:4,tl:1,GD:2,th:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({oQ:function(){return this.kh(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this.zr;c?this.zr=u:c=this.zF;for(var d=0;d<b;d++)e[a+d]^=c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this.zG=e;this.zr=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this.zG,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this.zF=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this.zG,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,e,a,c);this.zF=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this.zl==this.tl)var c=a.createEncryptor;else c=a.createDecryptor,this.yl=1;this.fi=c.call(a,this,b&&b.words)},yK:function(a,b){this.fi.processBlock(a,b)},oQ:function(){var a=this.cfg.padding;if(this.zl==this.tl){a.pad(this.bh,this.blockSize);var b=this.kh(!0)}else b=this.kh(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this.sz(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},sz:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,b.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this.sz(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,16,32,64,128,27,54],d=d.AES=p.extend({tj:function(){for(var a=this.bz,c=a.words,d=a.sigBytes/4,a=4*((this.GC=d+6)+1),e=this.GB=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this.GA=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this.zI(a,b,this.GB,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this.zI(a,c,this.GA,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},zI:function(a,b,c,d,e,j,l,f){for(var m=this.GC,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p.th(d)})();
function RSAKeyPair(a,b,c){this.e=biFromHex(a),this.d=biFromHex(b),this.m=biFromHex(c),this.chunkSize=2*biHighIndex(this.m),this.radix=16,this.barrett=new BarrettMu(this.m)}function twoDigit(a){return(10>a?"0":"")+String(a)}function encryptedString(a,b){for(var f,g,h,i,j,k,l,c=new Array,d=b.length,e=0;d>e;)c[e]=b.charCodeAt(e),e++;for(;0!=c.length%a.chunkSize;)c[e++]=0;for(f=c.length,g="",e=0;f>e;e+=a.chunkSize){for(j=new BigInt,h=0,i=e;i<e+a.chunkSize;++h)j.digits[h]=c[i++],j.digits[h]+=c[i++]<<8;k=a.barrett.powMod(j,a.e),l=16==a.radix?biToHex(k):biToString(k,a.radix),g+=l+" "}return g.substring(0,g.length-1)}function decryptedString(a,b){var e,f,g,h,c=b.split(" "),d="";for(e=0;e<c.length;++e)for(h=16==a.radix?biFromHex(c[e]):biFromString(c[e],a.radix),g=a.barrett.powMod(h,a.d),f=0;f<=biHighIndex(g);++f)d+=String.fromCharCode(255&g.digits[f],g.digits[f]>>8);return 0==d.charCodeAt(d.length-1)&&(d=d.substring(0,d.length-1)),d}function setMaxDigits(a){maxDigits=a,ZERO_ARRAY=new Array(maxDigits);for(var b=0;b<ZERO_ARRAY.length;b++)ZERO_ARRAY[b]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function BigInt(a){this.digits="boolean"==typeof a&&1==a?null:ZERO_ARRAY.slice(0),this.isNeg=!1}function biFromDecimal(a){for(var d,e,f,b="-"==a.charAt(0),c=b?1:0;c<a.length&&"0"==a.charAt(c);)++c;if(c==a.length)d=new BigInt;else{for(e=a.length-c,f=e%dpl10,0==f&&(f=dpl10),d=biFromNumber(Number(a.substr(c,f))),c+=f;c<a.length;)d=biAdd(biMultiply(d,lr10),biFromNumber(Number(a.substr(c,dpl10)))),c+=dpl10;d.isNeg=b}return d}function biCopy(a){var b=new BigInt(!0);return b.digits=a.digits.slice(0),b.isNeg=a.isNeg,b}function biFromNumber(a){var c,b=new BigInt;for(b.isNeg=0>a,a=Math.abs(a),c=0;a>0;)b.digits[c++]=a&maxDigitVal,a>>=biRadixBits;return b}function reverseStr(a){var c,b="";for(c=a.length-1;c>-1;--c)b+=a.charAt(c);return b}function biToString(a,b){var d,e,c=new BigInt;for(c.digits[0]=b,d=biDivideModulo(a,c),e=hexatrigesimalToChar[d[1].digits[0]];1==biCompare(d[0],bigZero);)d=biDivideModulo(d[0],c),digit=d[1].digits[0],e+=hexatrigesimalToChar[d[1].digits[0]];return(a.isNeg?"-":"")+reverseStr(e)}function biToDecimal(a){var c,d,b=new BigInt;for(b.digits[0]=10,c=biDivideModulo(a,b),d=String(c[1].digits[0]);1==biCompare(c[0],bigZero);)c=biDivideModulo(c[0],b),d+=String(c[1].digits[0]);return(a.isNeg?"-":"")+reverseStr(d)}function digitToHex(a){var b=15,c="";for(i=0;4>i;++i)c+=hexToChar[a&b],a>>>=4;return reverseStr(c)}function biToHex(a){var d,b="";for(biHighIndex(a),d=biHighIndex(a);d>-1;--d)b+=digitToHex(a.digits[d]);return b}function charToHex(a){var h,b=48,c=b+9,d=97,e=d+25,f=65,g=90;return h=a>=b&&c>=a?a-b:a>=f&&g>=a?10+a-f:a>=d&&e>=a?10+a-d:0}function hexToDigit(a){var d,b=0,c=Math.min(a.length,4);for(d=0;c>d;++d)b<<=4,b|=charToHex(a.charCodeAt(d));return b}function biFromHex(a){var d,e,b=new BigInt,c=a.length;for(d=c,e=0;d>0;d-=4,++e)b.digits[e]=hexToDigit(a.substr(Math.max(d-4,0),Math.min(d,4)));return b}function biFromString(a,b){var g,h,i,j,c="-"==a.charAt(0),d=c?1:0,e=new BigInt,f=new BigInt;for(f.digits[0]=1,g=a.length-1;g>=d;g--)h=a.charCodeAt(g),i=charToHex(h),j=biMultiplyDigit(f,i),e=biAdd(e,j),f=biMultiplyDigit(f,b);return e.isNeg=c,e}function biDump(a){return(a.isNeg?"-":"")+a.digits.join(" ")}function biAdd(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biSubtract(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,d=0,f=0;f<a.digits.length;++f)e=a.digits[f]+b.digits[f]+d,c.digits[f]=65535&e,d=Number(e>=biRadix);c.isNeg=a.isNeg}return c}function biSubtract(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biAdd(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,e=0,f=0;f<a.digits.length;++f)d=a.digits[f]-b.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);if(-1==e){for(e=0,f=0;f<a.digits.length;++f)d=0-c.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);c.isNeg=!a.isNeg}else c.isNeg=a.isNeg}return c}function biHighIndex(a){for(var b=a.digits.length-1;b>0&&0==a.digits[b];)--b;return b}function biNumBits(a){var e,b=biHighIndex(a),c=a.digits[b],d=(b+1)*bitsPerDigit;for(e=d;e>d-bitsPerDigit&&0==(32768&c);--e)c<<=1;return e}function biMultiply(a,b){var d,h,i,k,c=new BigInt,e=biHighIndex(a),f=biHighIndex(b);for(k=0;f>=k;++k){for(d=0,i=k,j=0;e>=j;++j,++i)h=c.digits[i]+a.digits[j]*b.digits[k]+d,c.digits[i]=h&maxDigitVal,d=h>>>biRadixBits;c.digits[k+e+1]=d}return c.isNeg=a.isNeg!=b.isNeg,c}function biMultiplyDigit(a,b){var c,d,e,f;for(result=new BigInt,c=biHighIndex(a),d=0,f=0;c>=f;++f)e=result.digits[f]+a.digits[f]*b+d,result.digits[f]=e&maxDigitVal,d=e>>>biRadixBits;return result.digits[1+c]=d,result}function arrayCopy(a,b,c,d,e){var g,h,f=Math.min(b+e,a.length);for(g=b,h=d;f>g;++g,++h)c[h]=a[g]}function biShiftLeft(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,0,d.digits,c,d.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=d.digits.length-1,h=g-1;g>0;--g,--h)d.digits[g]=d.digits[g]<<e&maxDigitVal|(d.digits[h]&highBitMasks[e])>>>f;return d.digits[0]=d.digits[g]<<e&maxDigitVal,d.isNeg=a.isNeg,d}function biShiftRight(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,c,d.digits,0,a.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=0,h=g+1;g<d.digits.length-1;++g,++h)d.digits[g]=d.digits[g]>>>e|(d.digits[h]&lowBitMasks[e])<<f;return d.digits[d.digits.length-1]>>>=e,d.isNeg=a.isNeg,d}function biMultiplyByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,b,c.digits.length-b),c}function biDivideByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,b,c.digits,0,c.digits.length-b),c}function biModuloByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,0,b),c}function biCompare(a,b){if(a.isNeg!=b.isNeg)return 1-2*Number(a.isNeg);for(var c=a.digits.length-1;c>=0;--c)if(a.digits[c]!=b.digits[c])return a.isNeg?1-2*Number(a.digits[c]>b.digits[c]):1-2*Number(a.digits[c]<b.digits[c]);return 0}function biDivideModulo(a,b){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,c=biNumBits(a),d=biNumBits(b),e=b.isNeg;if(d>c)return a.isNeg?(f=biCopy(bigOne),f.isNeg=!b.isNeg,a.isNeg=!1,b.isNeg=!1,g=biSubtract(b,a),a.isNeg=!0,b.isNeg=e):(f=new BigInt,g=biCopy(a)),new Array(f,g);for(f=new BigInt,g=a,h=Math.ceil(d/bitsPerDigit)-1,i=0;b.digits[h]<biHalfRadix;)b=biShiftLeft(b,1),++i,++d,h=Math.ceil(d/bitsPerDigit)-1;for(g=biShiftLeft(g,i),c+=i,j=Math.ceil(c/bitsPerDigit)-1,k=biMultiplyByRadixPower(b,j-h);-1!=biCompare(g,k);)++f.digits[j-h],g=biSubtract(g,k);for(l=j;l>h;--l){for(m=l>=g.digits.length?0:g.digits[l],n=l-1>=g.digits.length?0:g.digits[l-1],o=l-2>=g.digits.length?0:g.digits[l-2],p=h>=b.digits.length?0:b.digits[h],q=h-1>=b.digits.length?0:b.digits[h-1],f.digits[l-h-1]=m==p?maxDigitVal:Math.floor((m*biRadix+n)/p),r=f.digits[l-h-1]*(p*biRadix+q),s=m*biRadixSquared+(n*biRadix+o);r>s;)--f.digits[l-h-1],r=f.digits[l-h-1]*(p*biRadix|q),s=m*biRadix*biRadix+(n*biRadix+o);k=biMultiplyByRadixPower(b,l-h-1),g=biSubtract(g,biMultiplyDigit(k,f.digits[l-h-1])),g.isNeg&&(g=biAdd(g,k),--f.digits[l-h-1])}return g=biShiftRight(g,i),f.isNeg=a.isNeg!=e,a.isNeg&&(f=e?biAdd(f,bigOne):biSubtract(f,bigOne),b=biShiftRight(b,i),g=biSubtract(b,g)),0==g.digits[0]&&0==biHighIndex(g)&&(g.isNeg=!1),new Array(f,g)}function biDivide(a,b){return biDivideModulo(a,b)[0]}function biModulo(a,b){return biDivideModulo(a,b)[1]}function biMultiplyMod(a,b,c){return biModulo(biMultiply(a,b),c)}function biPow(a,b){for(var c=bigOne,d=a;;){if(0!=(1&b)&&(c=biMultiply(c,d)),b>>=1,0==b)break;d=biMultiply(d,d)}return c}function biPowMod(a,b,c){for(var d=bigOne,e=a,f=b;;){if(0!=(1&f.digits[0])&&(d=biMultiplyMod(d,e,c)),f=biShiftRight(f,1),0==f.digits[0]&&0==biHighIndex(f))break;e=biMultiplyMod(e,e,c)}return d}function BarrettMu(a){this.modulus=biCopy(a),this.k=biHighIndex(this.modulus)+1;var b=new BigInt;b.digits[2*this.k]=1,this.mu=biDivide(b,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod}function BarrettMu_modulo(a){var i,b=biDivideByRadixPower(a,this.k-1),c=biMultiply(b,this.mu),d=biDivideByRadixPower(c,this.k+1),e=biModuloByRadixPower(a,this.k+1),f=biMultiply(d,this.modulus),g=biModuloByRadixPower(f,this.k+1),h=biSubtract(e,g);for(h.isNeg&&(h=biAdd(h,this.bkplus1)),i=biCompare(h,this.modulus)>=0;i;)h=biSubtract(h,this.modulus),i=biCompare(h,this.modulus)>=0;return h}function BarrettMu_multiplyMod(a,b){var c=biMultiply(a,b);return this.modulo(c)}function BarrettMu_powMod(a,b){var d,e,c=new BigInt;for(c.digits[0]=1,d=a,e=b;;){if(0!=(1&e.digits[0])&&(c=this.multiplyMod(c,d)),e=biShiftRight(e,1),0==e.digits[0]&&0==biHighIndex(e))break;d=this.multiplyMod(d,d)}return c}var maxDigits,ZERO_ARRAY,bigZero,bigOne,dpl10,lr10,hexatrigesimalToChar,hexToChar,highBitMasks,lowBitMasks,biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998;setMaxDigits(20),dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),hexToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),highBitMasks=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),lowBitMasks=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);
!function(){function a(a){var d,e,b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c="";for(d=0;a>d;d+=1)e=Math.random()*b.length,e=Math.floor(e),c+=b.charAt(e);return c}function b(a,b){var c=CryptoJS.enc.Utf8.parse(b),d=CryptoJS.enc.Utf8.parse("0102030405060708"),e=CryptoJS.enc.Utf8.parse(a),f=CryptoJS.AES.encrypt(e,c,{iv:d,mode:CryptoJS.mode.CBC});return f.toString()}function c(a,b,c){var d,e;return setMaxDigits(131),d=new RSAKeyPair(b,"",c),e=encryptedString(d,a)}function d(d,e,f,g){var h={},i=a(16);return h.encText=b(d,g),h.encText=b(h.encText,i),h.encSecKey=c(i,e,f),h}function e(a,b,d,e){var f={};return f.encText=c(a+e,b,d),f}window.asrsea=d,window.ecnonasr=e}();
(function(){var bf=NEJ.P,eo=bf("nej.g"),bv=bf("nej.j"),bj=bf("nej.u"),ni=bf("nm.x.ek"),bk=bf("nm.x");if(bv.bV.redefine)return;var ty=function(Gz){var bo=[];bj.ch(Gz,function(Gy){bo.push(ni.emj[Gy])});return bo.join("")};var Gx=bv.bV;bv.bV=function(bD,bd){var bh={},bd=NEJ.X({},bd),lA=bD.indexOf("?");if(/(^|\.com)\/api/.test(bD)&&!(bd.headers&&bd.headers[eo.oM]==eo.sN)&&!bd.noEnc){if(lA!=-1){bD=bD.substring(0,lA);bh=bj.iF(lA+1)}if(bd.query){bh=NEJ.X(bh,bj.eT(bd.query)?bj.iF(bd.query):bd.query)}if(bd.data){bh=NEJ.X(bh,bj.eT(bd.data)?bj.iF(bd.data):bd.data)}bh["csrf_token"]=bv.CZ("__csrf");bD=bD.replace("api","weapi");bd.method="post";delete bd.query;var zO=window.asrsea(JSON.stringify(bh),ty(["流泪","强"]),ty(ni.md),ty(["爱心","女孩","惊恐","大笑"]));bd.data=bj.dv({params:zO.encText,encSecKey:zO.encSecKey})}Gx(bD,bd)};bv.bV.redefine=true})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bW=bf("nej.ut"),bF=bf("nm.l");if(!!bF.Cr)return;bF.Cr=NEJ.C();be=bF.Cr.cg(bF.hl);cl=bF.Cr.gO;be.cZ=function(){this.dh()};be.eB=function(){this.eO()};be.cO=function(bd){bd.clazz="";this.cP(bd);if(bd.jst){this.bC.innerHTML=bc.fe(bd.jst,bd.data)}else if(bd.ntp){this.bC.appendChild(bc.oZ(bd.ntp))}else if(bd.txt){this.bC.innerHTML=bc.gA(bd.txt)}else if(bd.html){this.bC.innerHTML=bd.html}var QN=[[this.bC,"click",this.pi.bl(this),!!bd.clickCapture]];this.Gw=bd.enterEvent;if(this.Gw){QN.push([document,"keydown",this.YK.bl(this)])}this.gg(QN);this.Gr=!!bd.noAutoHide;this.Gq=bd.data};be.pi=function(bg){var bi=bn.cL(bg,"d:action"),fq=bi?bc.bJ(bi,"action"):"";if(fq){this.bR("onaction",fq,this.Gq,bi,this,bg);if(!this.Gr)this.cQ()}};be.YK=function(bg){if(!bg||!this.Gw||!this.YA(this.bC))return;if(bg.keyCode==13){var bu=bn.cL(bg)||cz,jr=bu.tagName||"";if(jr=="TEXTAREA")return;this.bR("onaction",this.Gw,this.Gq,null,this,bg);if(!this.Gr)this.cQ()}};be.YA=function(bi){var Qv=!1,jr="";while(bi){jr=bi.tagName;if(!jr)break;if(jr=="HTML"){Qv=!0;break}else{bi=bi.parentNode}}return Qv};be.du=function(){delete this.Gq;delete this.Gr;this.Aw();this.dG()}})();
(function(){window.setTimeout(function(){var bp=document.createElement("script");var curProtocol=window.location.protocol.split(":")[0];if(curProtocol==="https"){bp.src="https://zz.bdstatic.com/linksubmit/push.js"}else{bp.src="http://push.zhanzhang.baidu.com/push.js"}var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s)},3e3)})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bt=bf("nej.p"),bj=bf("nej.u"),bv=bf("nej.j"),bn=bf("nej.v"),bF=bf("nm.l"),Qu=bf("nm.u"),bk=bf("nm.x");bk.Lz=function(bu,dZ){bc.dg(bu,dZ)?bc.bQ(bu,dZ):bc.bS(bu,dZ)};bk.oK=function(){var zJ=function(dW){return(dW<10?"0":"")+dW};return function(ny){ny=parseInt(ny)||0;if(!ny)return"00:00";var Gm=Math.floor(ny%60),Gl=Math.floor(ny/60);return zJ(Gl)+":"+zJ(Gm)}}();bk.Qc=function(){var dq=/^\s+$/g;return function(fI){return!fI||dq.test(fI)}}();bk.Gk=function(){var tq=/[^\x00-\xfff]/;return function(fI,gu){for(var i=0,len=fI.length;i<len&&gu>0;i++){if(tq.test(fI.charAt(i))){gu-=2;if(gu<0){break}}else{gu-=1}}return fI.substring(0,i)}}();bk.Gj=function(){var tq=/[^\x00-\xfff]/g;return function(fI){var Gi=fI.match(tq)||[],hn=Gi.length;return fI.length+hn}}();bk.Gh=function(fI,gu,pn){gu=gu||10;pn=pn||nej.p.gQ.engine=="trident"&&parseInt(nej.p.gQ.release)<5;if(pn&&bk.Gj(fI)>gu){return bk.Gk(fI,gu)+"..."}else{return fI}};bk.XL=function(bi){return bi===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(bi.type||bi.href||~bi.tabIndex)};bk.XH=function(bg,cC){if(!bg||!cC)return!0;var bi,bB=bg.type.toLowerCase();if(bB=="mouseout"){bi=bg.relatedTarget||bg.toElement}else if(bB=="mouseover"){bi=bg.relatedTarget||bg.fromElement}return!bi||bi!==cC&&!bk.PE(cC,bi)};bk.PB=function(cu){if(bj.FD(cu))cu=cu.getTime();var fF=new Date,lQ=fF.getTime()-cu;if(lQ<=6e4)return"刚刚";var pr=fF.getHours()*36e5+fF.getMinutes()*6e4+fF.getSeconds()*1e3;if(Math.floor(lQ/1e3)<=Math.floor(pr/1e3)){if(lQ<36e5){var FZ=Math.floor(lQ/6e4);return FZ+"分钟前"}return bj.fX(cu,"HH:mm")}else{if(Math.floor(lQ/1e3)<=Math.floor(pr/1e3)+86400){return"昨天"+bj.fX(cu,"HH:mm")}else{var FY=fF.getFullYear(),FW=new Date(FY,0,1);var pr=fF.getTime()-FW.getTime();if(Math.floor(lQ/1e3)<=Math.floor(pr/1e3)){return bj.fX(cu,"M月d日 HH:mm")}return bj.fX(cu,"yyyy年M月d日")}}};bk.hy=function(){var bO=Array.prototype.slice.call(arguments,0),hE=bO.shift();if(hE){return hE.replace(/{(\d+)}/g,function($1,$2){return $2<bO.length?bO[$2]:$1})}return""};bk.Di=function(kZ){if(!kZ.onbeforelistload){kZ.onbeforelistload=function(bg){bg.value='<div class="u-loading"><i class="icn"></i>加载中...</div>'}}if(!kZ.onemptylist){kZ.onemptylist=function(bg){bg.value='<div class="u-empty"><i class="u-icn u-icn-11"></i>暂无数据</div>'}}return kZ};bk.Dl=function(dW){dW+="";if(dW){return dW.substr(0,3)+"****"+dW.substr(dW.length-4)}};bk.Dm=function(){var oD=Q.defer(),WT=localCache.kX("appInfo.isSafety");if(WT){setTimeout(function(){oD.resolve()},0)}else{window.g_cbSafety=function(bh){var cU=localCache.bG("appInfo")||{};cU.isSafety=true;if(bh.cellphone)cU.cellphone=bh.cellphone;localCache.qp("appInfo",cU);bc.bS("g-safe-tip","f-hide");oD.resolve(bh)};var WR=window.open("/store/security/");if(!WR){var jq='<div class="zcnt"><div class="lyct m-tip f-tc"><p class="mesg f-fw1 f-fs1 s-fc1">您的账户存在安全风险，完成【安全认证】即可继续购买</p></div><div class="lsbtn f-tc"><a href="javascript:;" data-action="cc" class="u-btn2 u-btn2-2" hidefocus="true"><i>取消</i></a><a href="javascript:;" data-action="ok" class="u-btn2 u-btn2-1" hidefocus="true"><i>安全认证</i></a></div></div>';bF.Cr.bL({title:"重要提示",html:jq,onaction:function(fq){if(fq=="ok"){window.open("/store/security/")}}}).cw()}return oD.promise}return oD.promise};bk.Pl=function(bd){try{window.api.simpleShare(bd)}catch(e){}};bk.Dw=function(gu){if(gu>=1024){return gu/1024+"T"}else{return gu+"G"}};bk.xC=function(dn){var qs=dn.length>0?dn.substring(1):"",args={},items=qs.length?qs.split("&"):[],item=null,name=null,value=null,i=0,len=items.length;for(i=0;i<len;i++){item=items[i].split("=");name=decodeURIComponent(item[0]);value=decodeURIComponent(item[1]);if(name.length){args[name]=value}}return args};bk.WH=function(){return location.hostname.indexOf("igame.163.com")>=0};bk.WF=function(bg){if(!bg){return}try{top.doMsgToServiceAction(bg.action)}catch(e){}};bk.cF=function(fq,bZ){if(!fq||!bZ)return;if(bj.eT(bZ)){try{bZ=JSON.parse(bZ)}catch(_e){if(console&&console.warn){console.warn("bilog error: ",bc)}}}if(!bj.ip(bZ))return;bv.bV("/api/feedback/weblog",{type:"json",method:"post",data:{logs:JSON.stringify([{action:fq,json:bZ}])}});if(localCache.kX("appInfo.envType")=="local"){console.log("[BI LOG] ",JSON.stringify([{action:fq,json:bZ}]))}}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bH=bf("nej.h");bH.zZ=function(bz){return localStorage.getItem(bz)};bH.Ac=function(bz,bA){localStorage.setItem(bz,bA)};bH.FU=function(bz){localStorage.removeItem(bz)};bH.FT=function(){localStorage.clear()};bH.Wy=function(){var bo=[];for(var i=0,l=localStorage.length;i<l;i++)bo.push(localStorage.key(i));return bo};bH.FS=function(){(document.onstorageready||cj)()};bH.FR=function(){return!0}})();
(function(){var bf=NEJ.P,bt=bf("nej.p"),gx=bf("nej.c"),bH=bf("nej.h"),mo;if(bt.iT.trident||!!window.localStorage)return;var Wt=function(){var ou,gJ;var JC=function(){ou=document.createElement("div");NEJ.X(ou.style,{position:"absolute",top:0,left:0,width:"1px",height:"1px",zIndex:1e4,overflow:"hidden"});document.body.insertAdjacentElement("afterBegin",ou);ou.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="1" height="1"id="f-'+ +(new Date)+'" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+gx.bG("storage.swf")+'"/><param name="AllowScriptAccess" value="sameDomain"/></object>'};var vJ=function(){gJ=window.clearTimeout(gJ);var jh=ou.getElementsByTagName("object")[0];if(!!jh.initStorage){delete ou;mo=jh;mo.initStorage("nej-storage");(document.onstorageready||cj)();return}gJ=window.setTimeout(vJ,500)};return function(){if(!!mo)return;JC();vJ()}}();bH.zZ=bH.zZ.dT(function(bg){bg.stopped=!0;if(!mo)return;bg.value=mo.getItem(bg.args[0])});bH.Ac=bH.Ac.dT(function(bg){bg.stopped=!0;if(!mo)return;var bO=bg.args;mo.setItem(bO[0],bO[1])});bH.FU=bH.FU.dT(function(bg){bg.stopped=!0;if(!mo)return;mo.removeItem(bg.args[0])});bH.FT=bH.FT.dT(function(bg){bg.stopped=!0;if(!!mo)mo.clear()});bH.FS=bH.FS.dT(function(bg){bg.stopped=!0;Wt()});bH.FR=bH.FR.dT(function(bg){bg.stopped=!0;bg.value=!!mo})})();
(function(){var bf=NEJ.P,bj=bf("nej.u"),bn=bf("nej.v"),bH=bf("nej.h"),bv=bf("nej.j"),bW=bf("nej.ut"),bI={};bv.kP=function(bz,bA){var OV=JSON.stringify(bA);try{bH.Ac(bz,OV)}catch(ex){console.error(ex.message);console.error(ex)}if(OV!=bH.zZ(bz))bI[bz]=bA;return this};bv.mD=function(bz){var bh=JSON.parse(bH.zZ(bz)||"null");return bh==null?bI[bz]:bh};bv.bmI=function(bz,bA){var bh=bv.mD(bz);if(bh==null){bh=bA;bv.kP(bz,bh)}return bh};bv.uw=function(bz){delete bI[bz];bH.FU(bz);return this};bv.bkt=function(){var FL=function(bw,bz,cm){delete cm[bz]};return function(){bj.cY(bI,FL);bH.FT();return this}}();bv.bmK=function(bo){bo=bo||{};bj.ch(bH.Wy(),function(bz){bo[bz]=bv.mD(bz)});return bo};bW.jg.bL({element:document,event:"storageready",oneventadd:function(){if(bH.FR()){document.onstorageready()}}});var VX=function(){var VW=function(bA,bz,cm){bH.Ac(bz,JSON.stringify(bA));delete cm[bz]};return function(){bj.cY(bI,VW)}}();bn.bT(document,"storageready",VX);bH.FS()})();
(function(){var bf=NEJ.P,bn=bf("nej.v"),bj=bf("nej.u"),bt=bf("nej.ut"),uC;if(!!bt.FJ)return;bt.FJ=NEJ.C();uC=bt.FJ.cg(bt.fP);uC.cZ=function(){var ey=+(new Date),nH="dat-"+ey;return function(){this.dh();var bI=this.constructor[nH];if(!bI){bI={};this.constructor[nH]=bI}this.cW=bI}}();uC.bG=function(bz){return this.cW[bz]};uC.qp=function(bz,bA){var oE=this.cW[bz];this.cW[bz]=bA;bn.bR(localCache,"cachechange",{key:bz,type:"set",oldValue:oE,newValue:bA});return this};uC.it=function(bz){var oE=this.cW[bz];bj.Jm(this.cW,bz);bn.bR(localCache,"cachechange",{key:bz,type:"delete",oldValue:oE,newValue:undefined});return oE};uC.kX=function(ru){return NEJ.Q(this.cW,ru)};window.localCache=bt.FJ.bL();bt.jg.bL({element:localCache,event:"cachechange"})})();
(function(){function I(){var c="7rXyhi9g65sveM0G".split("");this.d=function(b){if(null==b||void 0==b)return b;if(0!=b.length%2)throw Error("1100");for(var a=[],d=0;d<b.length;d++){0==d%2&&a.push("%");for(var f=c,e=0;e<f.length;e++)if(b.charAt(d)==f[e]){a.push(e.toString(16));break}}return decodeURIComponent(a.join(""))}}var g=(new I).d,f=(new I).d,d=(new I).d,e=(new I).d,h=(new I).d;(function(){var c=[e(""),f("hggX9rg5ih9ig6gh"),g("g79rgX9i90gh"),e("0iv5ve0i5e69"),e("g79egi9g9590gy"),d("hr9h9G9X9ihig6hM9r90hh9igh9i9ygh"),e("y7y7yry7"),e("hg9G9G9g9e9iX7hi9rgXgh96X7i79egi9g9590"),f("i99i9igh9e9iX7ihi9X7hy9GgX9i"),h("y7y7y7yg"),f("y7y7y7yh"),d("y7y7y7yX"),g("y7y7y7yy"),d("y7y7y7y7"),e("y7y7y7yr"),d("ii9095ghg5X7i79e9rg59igX"),f("iy9vg5g79iX7ig9i9XX7i79egi9g9590"),g("ig9i9Xhv95ghXM9590gh9i9ggX959igXgh9iX7i7hhh9"),g("hX9i9e9eX7hMih"),e("y7y7y7y6"),g("9g9ighiygig7g79GgXgh9i9hhig6gh9i90gy959G90gy"),f("gy9ighih959M9i"),g("y7y7y7y5"),g("iy9r999iiy9i9rgX9y96"),e("XX"),h("Xh"),d("ii9095g99igXgy"),e("Xi"),g("X9"),d("Xg"),f("yryryry7"),g("9g9ighX7g79egi9g9590X7gyghgX95909gX79ig69y9ig7gh959G90"),e("ih96gX9i9ihhiy969r9h9Ggg"),f("Xv"),h("Xe"),e("XM"),e("hrgX9r9X"),e("066vv509505e0hv6vM0gvv690is06v"),g("X0"),g("h9iiishiiy969rgX9i"),f("XG"),g("y7"),d("yr"),g("yX"),h("yy"),d("yh"),g("0hvvvG0is06viGhghXyXyyyryX"),d("yi"),g("y9"),g("h5909r9ygh95g99ihy9rg7gh959G90ih9ig6gh"),g("yg"),d("ighihXishih0X7hXgX9Ggggy9igXX7hig6gh9i90gy959G90"),d("y6"),d("y5"),d("ys"),d("hh95g9i6X7hXgX9Ggggy9igXX7i79egi9gXMh590"),g("yv"),g("yM"),g("iig79e9rg5X7i7hy"),e("9y9r90g99rgyX79ig69y9ig7gh959G90"),f("hr"),f("hX"),d("hy"),f("hh"),h("hi"),d("0iv0s006vMsG055v6i05vv5r"),g("h9"),f("h69rgXgX95909ggh9G90"),g("hg"),f("h6"),f("h5"),e("hs"),d("hg909G9M9iX7iy969i9e9eX7h590gh9i9ggX9rgh959G90"),d("hv"),g("he"),e("hM"),g("h0"),g("hG"),d("i7"),e("ir"),d("iX"),f("iy"),e("h0959r9g9rgX9rX7iy9G9e959h"),e("ih"),g("iy9i99hy9e959i90ghX7i79egi9g9590"),h("ii"),f("i9"),e("yryryryr"),d("ig"),f("i6"),g("i5"),g("is"),d("hg9Ggi9hg5X7hG9e9hX7iyghg59e9i"),f("ie"),e("iX9G9X9e9Gg6X7he9rgi909y969igXX7i79egi9g9590"),f("hM959ygX9Ggy9G99ghX7hG9999959y9iX7yXy7yryy"),e("irirhMgigy959y"),f("9r"),e("higigX9Ggygh959e9i"),g("9X"),f("gX9M9G9yg6X0iX9i9r9ei79e9rg59igXX7hgyXX7hy9G90ghgX9G9eX0yr"),e("9y"),d("iy9ygX95g7gh95909gX0hh959ygh959G909rgXg5"),e("9h"),f("0hvvvG0is06v"),g("9i"),d("99"),f("9g"),e("96"),d("hM9rXMhy9G9099959gX09y9G9MX7g79egi9g9590"),f("95"),f("yry7yry7"),h("hy9rgygi9r9e"),d("9s"),h("9v"),h("9e"),h("9M"),f("90"),g("9G"),d("g7"),e("yry7y7y6"),e("9ygh"),e("9h9Gh09GghihgX9r9y9v"),h("gr"),h("gy9ighih959M9i9Ggigh"),e("0hv6vM0is06vX7i7gX9G"),e("gX"),e("hg95gy969r"),d("9g9ighih959M9igs9G909ihG9999gy9igh"),e("gy"),g("yry7y7yi"),h("yry7y7yh"),d("gh"),d("gi"),g("yry7y7yy"),e("g9"),f("yry7y7yr"),h("gg"),f("g6"),d("9hgX9rgghrgXgX9rg5gy"),e("g5"),d("gs"),g("gv"),h("gM"),f("g0"),d("999G90gh"),d("yry7y7y5"),h("yM90gi9e9eyvX7g79rgh96yMXGyvX79ig6g795gX9igyyM")],b=[g("iy969i9e9eX0iih5h69i9eg79igX"),e("gh9Ghh9rgh9riiiXhe"),e("ig95909h9Gggih9ig6gh"),d("9e9r909ggi9r9g9i"),g("9h9G"),d("0hv6vM05vv5rX7i7gX9G"),g("h6959g969e959g96ghih9ig6gh"),d("9h95g9"),h("hM9i90giih9ig6gh"),f("hrhGheX7hM9i9h959rX7i79e9rg59X9r9y9vX7i79egi9g9590"),e("hy95ghgX95g6X79G909e95909iX7g79egi9gXM9590"),e("9i9y"),d("hh9igy9h9i9M9G909r"),g("h5909r9ygh95g99ihX9GgX9h9igX"),d("iX9i9r9ei79e9rg59igX"),f("h6hihehehG"),g("XeX7Xg9y9G9h9iXgys"),h("9i9M"),d("90g7ih9G909g9Xgihr9h9h9590"),f("9ygX9i9rgh9ihi9e9i9M9i90gh"),g("g7969r90gh9G9M"),g("hMiyX7i7hM95909y969G"),g("09sivg0hvM5y"),f("9ig99r9e"),h("9ig6"),h("hh95g9i6X7i9hGhhX7h69i9eg79igXX7i79egi9gXM9590"),f("0959v70gvv690956600hvM5y"),g("irgi959y9vih959M9ihy969i9y9vhG9X9s9i9yghX0irgi959y9vih959M9ihy969i9y9vX0yr"),d("h99eg5hGgXhh959iX7hg9r9M9igyX7i79egi9g9590"),d("9rghgh9r9y96iy969r9h9igX"),g("i79e9rg5hG90X7i79egi9gXM9590"),h("9g9ighih959M9i"),g("yrX0y7yr"),h("hXgX9G9r9hgg9rg5"),h("99g7"),f("hr9e9rgg9rgXX7h0i7hri7h5X7gigh959egy"),e("h99GgXgh9i"),d("969rgy96hy9G9h9i"),e("0959v509sMsy0isg5s0hvM5y"),f("hiiyh0X7iy9G909rgXX7hri7h5"),e("h6i7hh9igh9i9ygh"),e("hX95gh9h9i999i909h9igXX7irgi959y9viy9y9r90"),f("h5hiX7ih9r9XX7g79egi9g9590"),g("XgXe"),e("hXgighgh9G90h99r9y9i"),e("9yg7gihy9e9rgygy"),h("hy9i90ghgigXg5X7hg9Ggh96959y"),g("hG909e95909iX7iygh9GgX9r9g9iX7g79egi9gXM9590"),f("iy9r999igXX7iig79h9rgh9i"),d("hMgyg69M9eyXX0hhhGhMhh9G9ygi9M9i90gh"),d("hi909ggX9rg99igXgyX7hMih"),g("iy959eg99igX9e959g96ghX7i79egi9gXMh590"),d("hg9G9G9g9e9iX7hg9i9rgXgyX7y7X0yiX0yyyyX0y7"),f("hy95ghgX95g6X7h5hyhrX7hy9e959i90gh"),d("X09Mgigy959yX0yry9yyX09y9G9MyvX0959g9r9M9iX0yry9yyX09y9G9M"),e("9r9eg7969r9X9igh959y"),g("i9hh9Ggg909e9G9r9h9igX"),d("0i6M6009596g09sivg0hvM5y"),f("9rghghgXi99igXgh9ig6"),d("0is06v0hvM5y"),g("9y9G9G9v959i"),h("XiyXyX"),d("XiyXy9"),e("hy9i90gh9rgigX"),h("yh9g9r9M9i"),g("iX9G9y9vgg9i9e9e"),f("he9G9ghM9ih590X7i79egi9g9590X7yrX0y7X0y7X0y5y9yr"),f("hG9ygh9Ggy969rg79iX7iyghgX9i9r9M95909gX7iy9igXg9959y9igy"),d("gh9GhghMihiyghgX95909g"),h("gh96yMXG"),e("iygi9M9rghgX9ri7hhh9X7hXgX9Ggggy9igXX7i79egi9g9590"),d("i7hhh9X0i79h99hyghgX9e"),f("99959e9eiyghg59e9i"),d("9s9i"),g("hr9h9G9X9iX7hM95909gX7iygh9h"),f("ih9GgX9y96h69i9eg79igX"),e("h9gX9r909v9e9590X7hg9Ggh96959yX7h69i9rg9g5"),d("0i6M6009596g0hvvvG0is06v"),g("h69rgX9M9G90g5X7i79egi9gXMh590"),h("hg959g95"),h("g9yrX0yr"),h("hv95909GX7hMih"),d("iy959Mh69i95"),e("hr9e95iyiyhGhe9G9g9590X7g79egi9g9590"),e("iX9i9r9ei79e9rg59igXX0iX9i9r9ei79e9rg59igXX6gh9MX5X7hr9ygh95g99ii6X7hy9G90ghgX9G9eX7X6yyyXXM9X95ghX5"),h("i59r909h9ig6X7i7hhh9X7i9959igg9igX"),h("hy95ghgX95g6X7iX9i9y9i95g99igXX7i79egi9gXM9590"),e("9M9r95"),h("gh9Gg7"),e("hr9ygX9Gi7hhh9X0i7hhh9"),g("9y9r90g99rgyX79rg795X79ig69y9ig7gh959G90"),f("h5909r9ygh95g99ihy9rg7gh959G90"),g("hM9i90gi"),g("g7gX9i9y95gy959G90X79M9i9h95gi9Mg7X7999e9G9rghyvX7g99rgXg595909gX7g99i9yyXX7g99rgXg59590ih9ig6hy9G9GgX9h95909rgh9iyvX7g99G959hX79M9r9590X6X5X7gvX7X7X79g9eiGh9gX9r9ghy9G9e9GgXX7yMX7g99i9yyhX6g99rgXg59590ih9ig6hy9G9GgX9h95909rgh9iXeX7y7XeX7yrX5yvX7gM"),e("iriryXy7yryyX7h995gX9i999Gg6X7i79egi9g9590"),e("hg9G9G9g9e9iX7iig79h9rgh9i"),g("0i6M6009596g0ivMs50hvs5r"),f("9ihMgigy959yi79egi9g9590X7hhhehMy9"),g("ig9i9XX7hy9G9Mg79G909i90ghgy"),d("hX9r9Xg59e9G90X7ih9G9G9ehX9rgX"),f("hy9G9Ggg9G90X7iig79h9rgh9i"),f("h590999Gih9ig6gh"),h("gX9M9G9yg6X0iX9i9r9ei79e9rg59igXX7hgyXX7hy9G90ghgX9G9e"),h("95hM9igy96X7g79egi9g9590"),d("iX9i9r9ehh9Ggg909e9G9r9h9igXX7i79egi9g9590"),d("iyg59M9r90gh9i9yX7i7hvh5X7hy9e959i90gh"),e("iGg7969r90gh9G9M"),f("hghhheX7hG9X9s9i9yghX7ig9i9XX7i79egi9gXM9590X7yry9X0y7y7"),g("gg9i9X9g9e"),e("0i6M6009596g0is06v0hvM5y"),h("gy9ygX9i9i90"),g("9X9G9hg5"),e("ihiXh5hrh0hghehiiGiyihiXh5i7"),h("90yM"),f("ih9egg9ghM9G909G"),f("XgysXg"),f("he9G9ghM9ih590X7i79egi9g9590X7yrX0y7X0y7X0y5yyyi"),d("99gi909ygh959G90"),e("9y9G90gh9ig6ghX0969rgy96hy9G9h9i"),e("hrgX9y9695hyhrhh"),f("i9hiiXihhii6iGiyh6hrhhhiiX"),d("ii9Xgi90ghgi"),f("h99r9y9i9X9G9G9vX7i79egi9g9590"),d("hr9ygh95g99ihy9rg7gh959G90"),h("0gvv690956600hvM5y"),d("hM9r9e9ggi90X7hg9Ggh96959y"),g("h09igggyX7hg9Ggh96959yX7hMih"),h("hy9rg7gh959G90ih9ig6gh"),e("9ris9Xi5y79yi69higyr9ii999yXii9gyyih96yhiy95iXyi9sir9vy9i79ehGyg9Mh090y6hM9Ghey5g7hvgrhsgXh5gyh6ghhggih9g9higghhg6hyg5hXgshr"),d("hh9i9s9ri9giX7hehghyX7iy9r90gyX7hM9G909G"),d("hy9Gg7g79igXg79e9rgh9iX7hg9Ggh96959yX7he959g96gh"),e("iy9i9g9G9iX7i7gX9590gh"),f("iy9rgg9rgy9h9i9i"),h("hX9rgi969rgigyX7y5yy"),f("hy969r9e9v9hgigygh9igX"),e("hr9X9r9h95X7hMihX7hy9G909h9i90gy9i9hX7he959g96gh"),g("hegi9y959h9rX7hXgX959g96gh"),g("ig959h9iX7he9rgh9590"),d("999G90ghX79h9igh9i9yghX79igXgX9GgX"),e("hv9Ggsgi9v9rX7hg9Ggh96959yX7i7gXy9h0"),d("h6gh9M9eyiX79e9G9y9rgh959G90X7g7gX9Gg9959h9igX"),d("hh95g9i6X7i79egigyX7ig9i9XX7i79e9rg59igX"),e("i99e9r9h959M95gXX7iy9ygX95g7gh"),g("h9959e9iX7hh9Ggg909e9G9r9h9igXX7i79egi9gXM9590"),f("9G9X"),f("hr9h9G9h9XX0iyghgX9i9r9M"),e("hM9i909e9G"),h("9y9r9e9ei7969r90gh9G9M"),g("ig9G9e99gX9r9MX7hM9rgh969i9M9rgh959y9r"),e("hy9rgh9r9e95909rhggX9Ggig7X7iig79h9rgh9i"),f("higX9rgyX7hX9G9e9hX7h5ihhy"),d("hh9ig99r9ei9iXi6hyghgX9eX0hh9ig99r9ei9iXi6hyghgX9eX0yr"),g("hsiyhiiyiyh5hGh0h5hhXMigi5i5i5"),h("0i6M6009596g0gvv6905vv5r"),f("9r9h9hhX9i969rg9959GgX"),f("g79r"),e("hX95ghgyghgX9i9r9MX7i99igX9rX7iy9igX9599"),d("X699gi909ygh959G90X6X5gvgX9ighgigX90X7yryXyyyvgMX5X6X5yv"),h("g795"),f("ih9i909y9i90ghX7h9ihh0X7g79egi9gXM9590"),h("gX9i9M9Gg99ihy96959e9h"),f("h99G9eg6X7yyX7hXgX9Ggggy9igXX7i79egi9g9590"),e("gigy9ii7gX9G9ggX9r9M"),g("969Ggygh909r9M9i"),f("g7969r90gh9G9MX095909s9i9yghhsgy"),g("iy969G9y9vgg9rg99ih99e9rgy96X0iy969G9y9vgg9rg99ih99e9rgy96"),g("gX9g9X9rX6yry7yXXeX7yXy7yhXeX7y7XeX7y7X0ygX5"),g("hr9h9X9e9G9y9vi79egi9g9590"),e("hX9r9y9v9ggX9Ggi909h"),h("hr9ghy9G90ghgX9G9eX0hr9ghy9G90ghgX9G9e"),d("i7969Ggh9Ghy9i90gh9igXi79egi9g9590yrX0yrX0yXX0yX"),h("hggi909giy9i9G"),f("gyyM"),h("9h9i9y9G9h9iiiiXh5"),d("0959v509sMsy06665X0hvM5y"),e("0i6M6009596g0959v705sM6G"),e("yryXyy"),g("gg9i9X9g9eX79ig69y9ig7gh959G90"),h("gX9i"),h("ighMi79e9rg59igXX0hGhyi6"),f("ygyXg7g6"),d("hrg7g7ig9GgX9vgyg79r9y9i"),d("h6959g969e959g96gh"),h("9h9G9ygi9M9i90gh"),d("i59r909h9ig6X7hM9i9h959rX7i79egi9g9590"),h("hiiyh0X7he9rgi909y96X7hM9Ggs959e9e9rX7i79egi9g9590"),d("ygy7g7g6X7XghrgX959r9eXg"),d("95909s9i9yghhsgy"),h("he9G9M9r"),d("hX95ghhy9G9M9ighhr9g9i90gh"),g("hy9r9e959XgX95"),d("hX9G9G9v9M9r90X7hG9e9hX7iyghg59e9i"),d("gy9igygy959G90iygh9GgX9r9g9i"),e("iigh9Gg7959r"),f("9y9G9Mg7959e9iiy969r9h9igX"),f("9igy9y9rg79i"),d("iy9ygX9G9e9e9X9rgX"),h("ig95909h9Ggg"),g("yryhygyhyh9hy5yiyyy6yy9y9hyyy7ygyihhhryhyXhyy5yy9yhh9rhr9iygyhy9yihyh9hryi99hyy7hXy5yyhXyr"),f("055sv90hv5s9"),d("hv9rgyg79igXgy9vg5X7i79rgygygg9GgX9hX7hM9r909r9g9igX"),d("hM95909ghe95iiXMhig6ghhX"),h("9g9ighX7gyg5gygh9i9MX79y9G9e9GgXgyX79ig69y9ig7gh959G90"),d("iy9vg5g79iX0hh9igh9i9ygh959G90"),e("h9959e9ihe9r9XX7g79egi9g9590"),e("90g7hri7h5X7i79egi9g9590"),h("909GghiG9ig695gyghiG969Ggygh"),g("yX9h"),h("hr9ygh95g99ii6hG9X9s9i9ygh"),g("hh9Gghgi9M"),d("i7hhh9XMi6hy969r909g9iX7i9959igg9igX"),e("i7hM95909ghe95ii"),d("9y9G9e9GgXhh9ig7gh96"),f("h09G9v959rX7iygi95gh9iX7hi909r9X9e9igXX7i79egi9g9590"),e("iX9i9r9ei9959h9i9GX0iX9i9r9ei9959h9i9GX6gh9MX5X7hr9ygh95g99ii6X7hy9G90ghgX9G9eX7X6yyyXXM9X95ghX5"),e("hM9r9g909igh9G"),f("hr9h9G9X9ihig6hM9r90hyhyhh9igh9i9ygh"),h("hg9r9XgX959G9e9r"),e("i79e9rg59X959e9e"),e("909rg9959g9rgh9GgX"),e("iX9r9y969r909r"),g("ihggX7hy9i90X7hMihX7hy9G909h9i90gy9i9hX7hig6ghgX9rX7hX9G9e9h"),f("irirhM959095hhheX7i79egi9g9590"),e("Xy99y9y7"),d("99959e9eiX9i9ygh"),h("yM90gi9e9eyvX7g79rgh96yMXGyvX79h9G9M9r9590yM"),f("hh9i999rgi9eghX7hXgX9Ggggy9igXX7h69i9eg79igX"),h("h9gX9i909y96X7iy9ygX95g7ghX7hMih"),h("09s76g09sivg0hvM5y"),e("9i909y9G9h9iiiiXh5"),e("ii9Mg7gigy96"),h("959yg7"),f("0i6M6009596g0g57si0g6G67"),h("9ygX9i9rgh9ii7gX9G9ggX9r9M"),g("9M9G909Ggyg79r9y9i"),d("hXgighgh9G90iy969r9h9Ggg"),f("hX9G9h9G9095X7hMih"),h("iyihhrihh5hyiGhhiXhrig"),f("05vv5r0hvM5y"),d("9h9Ggg909e9G9r9hiig79h9rgh9igX"),h("hr9e959i9h95ghX7i79egi9gXMh590"),g("i7hhh9X79590gh9i9ggX9r9h9GX79h9GX7ig9i9Xhv95gh"),f("gi9095999GgX9MhG9999gy9igh"),g("9i909y9G9h9iiiiXh5hy9G9Mg79G909i90gh"),d("i7959y9rgy9r"),d("hr9h9G9X9iX7h99r909ggy9G909gX7iygh9h"),f("9X95909hhXgi99999igX"),f("hri9hgX7iy95gh9iiy9r999ighg5X7g79egi9g9590"),d("hGgX9X95ghX7hh9Ggg909e9G9r9h9igX"),g("9y9G9e9GgX"),f("96959h9h9i90"),d("9e9G9y9r9eiygh9GgX9r9g9i"),e("hg9G9G9g9e9iX7ih9r9e9vX7hi99999i9yghgyX7i79egi9g9590"),g("95909h9ig69i9hhhhX"),g("hegi9y959h9rX7h99rg6"),d("hr9M9rgs9G90hMi7yyhh9Ggg909e9G9r9h9igXi79egi9g9590"),e("9ygX9i9rgh9ihXgi99999igX"),d("hy9rgygh9i9e9e9rgX"),f("9e95909vi7gX9G9ggX9r9M"),g("hy9r9e95999GgX90959r90X7h9hX"),h("ih96gX9i9ihhh6959g969e959g96gh"),d("9ygX9i9rgh9iiy969r9h9igX"),f("hggi9e959M"),d("h0g5g6he9rgi909y969igX"),g("i59Ggiihgi9X9iX7i79egi9gXM9590"),e("09sivg0hvM5yiGhghXyXyyyryX"),d("iyighygh9eX0iyighygh9e"),g("hg9G9G9g9e9iX7hi9rgXgh96X7i79egi9gXM9590"),e("irirhh9Ggg909e9G9r9hX7i79egi9g9590"),g("h09GgXgh9G90X7h59h9i90gh95ghg5X7iy9r999i"),f("g79rgXgy9ih590gh"),h("iy959Mg79e9iX7i79rgygy"),e("hy9G9e9G90909rX7hMih"),g("gs9r9v9G"),g("9g9ighii9095999GgX9Mhe9G9y9rgh959G90"),e("gy969r9h9igXiy9GgigX9y9i"),f("hh9Ggg909e9G9r9h9igXgyX7g79egi9g9590"),g("9e9G9y9rgh959G90"),g("h69igX9G9igyX7X9X7hg9i909igX9r9egyX79e95g99i"),g("gg95909h9Ggg"),d("iy969Ggg9y9rgX9hX7hg9Ggh96959y"),d("0iv0s006vMsG09sMsy05vv5r0hvM5y"),f("0i6M6009596g06sr6e09sivg"),h("hg95909g9igX"),e("iX9G9y9vhM9i9eghX7iig79h9rgh9i"),h("ig95909h9Gggh9gX9r9M9i"),e("9i909r9X9e9ii99igXgh9ig6hrghghgX959XhrgXgX9rg5"),f("hv9r9ygyghhG909i"),d("9rghghgX959Xgigh9iX7g99i9yyXX79rghghgXi99igXgh9ig6yvX7g99rgXg595909gX7g99i9yyXX7g99rgXg59590ih9ig6hy9G9GgX9h95909rgh9iyvX7gi9095999GgX9MX7g99i9yyXX7gi9095999GgX9MhG9999gy9ighyvX7g99G959hX79M9r9590X6X5X7gvX7X7X7g99rgXg59590ih9ig6hy9G9GgX9h95909rgh9iX7yMX79rghghgXi99igXgh9ig6X7XvX7gi9095999GgX9MhG9999gy9ighyvX7X7X79g9eiGi79Ggy95gh959G90X7yMX7g99i9yyhX69rghghgXi99igXgh9ig6XeX7y7XeX7yrX5yvX7gM"),h("i79igXg79ighgi9r"),h("9Gg79i90hh9rgh9r9X9rgy9i"),h("9y9r90g99rgy"),h("95hg9ighgh9igXiy9ygX95g7gh9r9X9e9ii79egi9g9590"),h("h590999GgX9M9r9eX7iX9G9M9r90"),f("h095ghgX9GX7i7hhh9X7i79egi9gXMh590"),f("hMgyg69M9eyXX0i6hMheh6ihihi7"),f("0i6M6009596g05vv5r0hvM5y"),f("h0i7he9rgyghi79rgygy"),d("ih96gX9i9ihhh99r9y9i"),h("he9rgyghi79rgygy"),f("ysys"),g("g79rgXgy9ih99e9G9rgh"),f("0i6M6009596g055sv90hv5s9"),h("yvX7"),f("9g9ighhrghghgX959Xhe9G9y9rgh959G90"),g("gvXg909r9M9iXgys"),h("h0g59r9e9r"),h("909GghiG9ig695gyghiG969Ggygh909r9M9i"),f("ieXg"),e("hgh9hrhyhiX7i79egi9g9590"),g("gi909h9i9995909i9h"),e("0959v70is06v0hvM5y"),g("iG95gigrg69e9h9MgsgXiG"),g("ieX0"),h("hM9rghgigX9rX7hMihX7iy9ygX95g7ghX7hy9rg795gh9r9egy"),f("hrgX959r9eX7hX9e9r9y9v"),e("h99r909giy9G909g"),e("9MgghyX7909v9X9r999s9GgX9hX7g796gy9g9eg5X79ig6g9ghX7gsgr95giXeX70rvMs7X7ghg796gyghXGysXGgi969X9ggh959yX09M9GXG9e9ig9g99r"),f("hXgX9r9g9g9r9h9G9y959G"),e("h69rgX9M9G90g5X7h995gX9i999Gg6X7i79egi9g9590"),g("i79r9e9r9y9iX7iy9ygX95g7ghX7hMih"),e("h09rgh95g99iX7hy9e959i90gh"),f("gigy9igXhr9g9i90gh"),f("irgi959y9vih959M9iX0irgi959y9vih959M9i"),g("9ig6g79igX959M9i90gh9r9eXMgg9i9X9g9e"),h("hriXiXhri5iGhXiih9h9hiiX"),g("066vv509505e0hv6vM0hv6sM05vv5r"),g("hr9e95g79rg5X7iy9i9ygigX95ghg5X7hy9G90ghgX9G9eX7yy"),d("iy9ygX95g7ghX7hMihX7hX9G9e9h"),f("XeX7Xg9XgX9Ggggy9igXi7gX9Gg7Xgys"),f("ihhhhyhygh9eX0ihhhhyhygh9e"),f("gy9i9e99"),h("h590999GhX9r9y9v9ggX9Ggi909h"),e("i79r909h9GX7ig9i9XX7i79egi9g9590"),e("h69r9ighgh9i90gy9y96gg9i959e9igX"),f("gyg79r90"),f("hr9ygh95g99ihX9GgX9h9igX"),g("ih96gX9i9ihhhe959g96ghiy969r9h9Ggg"),d("y7yXy7yX"),f("y7yXy7yy"),d("y7yXy7y7"),e("y7yXy7yr"),d("igi7h5X7hh9igh9i9ygh9GgXX7yrX0yh"),e("yvX79ig6g795gX9igyyM"),d("ih96gX9i9ihhhh9rgX9viy969r9h9Ggg"),e("hig69599X7hig99igXg5gg969igX9i"),g("hX9rghgh9e9i9e9G9gX7hg9r9M9iX7he9rgi909y969igX"),f("h59Mg79r9ygh"),f("i9hehyX7hMgi9egh959M9i9h959rX7i79egi9g9590"),d("hr9h9G9X9iX7h69i9XgX9igg"),g("hX9egi9iiygh9r9y9vgyX7h590gygh9r9e9eX7hh9igh9i9ygh9GgX"),e("gggggg9M9M9M9M9M9M9M9M9M9M9e9e95"),g("9695gygh9GgXg5"),e("gy9r90gyXMgy9igX9599"),h("i79rg7g5gXgigy"),d("hXgighgh9G90ih9ig6gh"),g("y7yXyryr"),e("hrg7g7iig7"),g("i79rgX9G9MX0ihi9X7g79e9rg59igXX7g79egi9g9590"),d("hh9i9r9ei79eg5he95g99iX7iig79h9rgh9i"),g("he9G9695ghX7hggi9s9rgX9rgh95"),g("h9iXhrhghMhih0ihiGiyh6hrhhhiiX"),d("hr9g9i909yg5X7h9hX"),f("hM9r9ygX9G9M9i9h959rh99e9rgy96i79rg79igXX0hM9r9ygX9G9M9i9h959rh99e9rgy96i79rg79igX"),e("XyXyXy"),d("ig9GgX9hhy9rg7ghgigX9ii6"),f("9g9ighhy9G9Mg7gigh9i9hiyghg59e9i"),e("g79e9rgh999GgX9M"),f("y7yry7yi"),d("hrgX9r9X959yX7ihg5g79igy9ighgh95909g"),d("y7yry7y9"),d("y7yry7yy"),f("0i6M6009596g0hv6sM0is06v"),g("y7yry7yh"),h("y7yry7yr"),f("y7yry7yX"),e("y7yry7y7"),g("y7yry7yg"),f("hXgighgh9G90h6959g969e959g96gh"),d("g99igXgh9ig6hrghghgX959Xi79G9590gh9igX"),d("y7yry7y6"),h("gh9ig6ghhX9rgy9i9e95909i"),f("Xyy7y9y5"),f("9h9Ggi9X9e9iihgg95gyghX7ig9i9XX7i79egi9g9590"),g("gi909igy9y9rg79i"),e("ih96gi909h9igXX7hh9rg7hyghgX9eX7h0i7hri7h5X7i79egi9g9590"),e("hX9rgh9r909g"),d("hhh9hv9r95XMiyhX"),e("iy909rg7X7h5ihhy"),h("hh9rgh9i"),h("hM9590959X9rgXi79egi9g9590"),e("9h9i9y9G9h9iiiiXh5hy9G9Mg79G909i90gh"),d("h0i7i79e9rg59igXiy969i9e9e"),d("hMiyX7iX9i999igX9i909y9iX7iy9r90gyX7iy9igX9599"),f("h695gX9r9g95909GX7iy9r90gyX7hghX"),f("gy9igX9599"),f("9g9ighhy9G90gh9ig6gh"),h("gi9095999GgX9MyX99"),g("hM9G9G9ehX9GgX9r90")];(function(){var a=[67,37,68,53,96,3,0,2,1423857449,-2,3,-3,3432918353,1555261956,4,2847714899,-4,5,-5,2714866558,1281953886,6,-6,198958881,1141124467,2970347812,-7,7,3110523913,8,-8,2428444049,-9,9,10,-10,11,-11,2563907772,12,-12,13,2282248934,-13,2154129355,-14,14,15,-15,16,-16,17,-17,18,-18,19,-19,20,-20,21,-21,-22,22,23,-23,24,-24,-25,25,-26,26,27,-27,28,-28,29,-29,-30,30,31,-31,-32,32,-33,33,-34,34,-35,35,-37,-36,36,37,-38,39,-39,38,-41,41,40,-40,42,-43,43,-42,-45,45,-44,44,-46,47,46,-47,48,-48,49,-49,50,-51,51,-50,570562233,53,-52,-53,52,55,54,-54,-55,503444072,-57,-56,57,56,58,-59,-58,59,60,61,-61,-60,62,63,-63,-62,-66,711928724,64,-67,66,65,-64,-65,67,-69,68,69,70,-70,-68,-71,71,-72,3686517206,-75,-74,75,73,72,74,-73,79,76,-76,77,-79,-78,78,-77,3554079995,82,-80,80,-83,-82,81,-81,83,-85,-84,-86,86,84,85,87,-87,-91,90,88,89,-88,-90,91,-89,95,94,-92,-95,93,-94,-93,92,-99,99,-96,98,-97,-98,96,97,-101,3272380065,100,-103,101,102,-102,-100,103,107,-105,104,106,105,-106,-104,-107,111,108,110,109,-108,-110,-109,-111,251722036,-114,115,113,112,114,-115,-112,-113,-118,118,-116,-119,116,117,-117,119,123,120,122,121,-120,-122,-121,-123,125,127,3412177804,126,124,-125,-126,-124,-127,-128,128,-129,1843258603,3803740692,984961486,3939845945,4195302755,4066508878,255,1706088902,256,1969922972,365,2097651377,376229701,853044451,752459403,1e3,426522225,3772115230,615818150,3904427059,4167216745,4027552580,3654703836,1886057615,879679996,3518719985,3244367275,2013776290,3373015174,1759359992,285281116,1622183637,1006888145,1e4,1231636301,83908371,1090812512,2463272603,1373503546,2596254646,2321926636,1504918807,2181625025,2882616665,2747007092,3009837614,3138078467,397917763,81470997,829329135,2657392035,956543938,2517215374,2262029012,40735498,2394877945,3266489909,702138776,2808555105,2936675148,1258607687,1131014506,3218104598,3082640443,1404277552,565507253,534414190,1541320221,1913087877,2053790376,1789927666,3965973030,3826175755,4107580753,4240017532,1658658271,3579855332,3708648649,3453421203,3317316542,1873836001,1742555852,461845907,3608007406,1996959894,3747672003,3485111705,2137656763,3352799412,213261112,3993919788,1.01,3865271297,4139329115,4275313526,282753626,1068828381,2768942443,2909243462,936918e3,3183342108,27492,141376813,174e4,3050360625,654459306,2617837225,1454621731,2489596804,2227061214,1591671054,2362670323,4294967295,1308918612,2246822507,795835527,1181335161,414664567,4279200368,1661365465,1037604311,4150417245,3887607047,1802195444,4023717930,2075208622,1943803523,901097722,628085408,755167117,3322730930,3462522015,3736837829,3604390888,2366115317,.4,2238001368,2512341634,2647816111,-.2,314042704,1510334235,58964,1382605366,31158534,450548861,3020668471,1119000684,3160834842,2898065728,1256170817,18e5,2765210733,3060149565,3188396048,2932959818,124634137,2797360999,366619977,62317068,-.26,1202900863,498536548,1340076626,2405801727,2265490386,1594198024,1466479909,2547177864,249268274,2680153253,2125561021,3294710456,855842277,3423369109,.732134444,3705015759,3569037538,1994146192,1711684554,1852507879,997073096,733239954,4251122042,601450431,4111451223,167816743,3855990285,3988292384,3369554304,3233442989,3495958263,3624741850,65535,453092731,-.9,2094854071,1957810842,325883990,4057260610,1684777152,4189708143,3915621685,162941995,1812370925,3775830040,783551873,3134207493,1172266101,2998733608,2724688242,1303535960,2852801631,112637215,1567103746,651767980,1426400815,906185462,2211677639,1047427035,2344532202,2607071920,2466906013,225274430,544179635,2176718541,2312317920,1483230225,1342533948,2567524794,2439277719,1088359270,671266974,1219638859,953729732,3099436303,2966460450,817233897,2685067896,2825379669,4089016648,4224994405,3943577151,3814918930,476864866,1634467795,335633487,1762050814,1,2044508324,-1,3401237130,3268935591,3524101629,3663771856,1907459465];(function(){function d(b,c){if(null==b)return null;for(var l=z(c),f=[],e=b.length,g=a[6];g<e;g++)f.push(Y(b[g],l++));return f}function f(b){if(null==b)return null;for(var c=[],l=a[6],d=b.length;l<d;l++){var e=b[l];c[l]=Ia[(e>>>a[14]&a[47])*a[49]+(e&a[47])]}return c}function e(b){var n=[];if(null==b||void 0==b||b.length==a[6])return I(L);if(b.length>=L){var n=a[6],l=[];if(null!=b&&b.length!=a[6]){if(b.length<L)throw Error(c[134]);for(var d=a[6];d<L;d++)l[d]=b[n+d]}return l}for(l=a[6];l<L;l++)n[l]=b[l%b.length];return n}function g(b){var n=a[396];if(null!=b)for(var l=a[6];l<b.length;l++)n=n>>>a[29]^Ja[(n^b[l])&a[290]];b=za(n^a[396]);n=b.length;if(null==b||n<a[6])b=new String(c[0]);else{for(var l=[],d=a[6];d<n;d++)l.push(Ka(b[d]));b=l.join(c[0])}return b}function h(b,n,l){var d,e=[c[70],c[85],c[118],c[73],c[77],c[106],c[80],c[116],c[44],c[42],c[62],c[114],c[93],c[105],c[40],c[64],c[103],c[86],c[99],c[141],c[48],c[89],c[76],c[69],c[132],c[47],c[88],c[33],c[43],c[45],c[78],c[53],c[110],c[50],c[68],c[101],c[52],c[41],c[138],c[133],c[66],c[129],c[108],c[81],c[140],c[90],c[117],c[63],c[107],c[91],c[135],c[115],c[113],c[97],c[60],c[61],c[137],c[126],c[83],c[79],c[119],c[71],c[123],c[75]],f=c[74],g=[];if(l==a[532])l=b[n],d=a[6],g.push(e[l>>>a[7]&a[144]]),g.push(e[(l<<a[14]&a[113])+(d>>>a[14]&a[47])]),g.push(f),g.push(f);else if(l==a[7])l=b[n],d=b[n+a[532]],b=a[6],g.push(e[l>>>a[7]&a[144]]),g.push(e[(l<<a[14]&a[113])+(d>>>a[14]&a[47])]),g.push(e[(d<<a[7]&a[139])+(b>>>a[21]&a[10])]),g.push(f);else if(l==a[10])l=b[n],d=b[n+a[532]],b=b[n+a[7]],g.push(e[l>>>a[7]&a[144]]),g.push(e[(l<<a[14]&a[113])+(d>>>a[14]&a[47])]),g.push(e[(d<<a[7]&a[139])+(b>>>a[21]&a[10])]),g.push(e[b&a[144]]);else throw Error(c[111]);return g.join(c[0])}function I(b){for(var c=[],l=a[6];l<b;l++)c[l]=a[6];return c}function Z(b,d,l,e,g){if(null!=b&&b.length!=a[6]){if(null==l)throw Error(c[131]);if(b.length<g)throw Error(c[134]);for(var f=a[6];f<g;f++)l[e+f]=b[d+f]}}function za(b){var c=[];c[0]=b>>>a[65]&a[290];c[1]=b>>>a[49]&a[290];c[2]=b>>>a[29]&a[290];c[3]=b&a[290];return c}function ma(b){if(null==b||void 0==b)return b;b=encodeURIComponent(b);for(var d=[],l=b.length,e=a[6];e<l;e++)if(b.charAt(e)==c[27])if(e+a[7]<l)d.push(La(b.charAt(++e)+c[0]+b.charAt(++e))[0]);else throw Error(c[146]);else d.push(b.charCodeAt(e));return d}function La(b){if(null==b||b.length==a[6])return[];b=new String(b);for(var c=[],l=b.length/a[7],d=a[6],e=a[6];e<l;e++){var g=parseInt(b.charAt(d++),a[49])<<a[14],f=parseInt(b.charAt(d++),a[49]);c[e]=z(g+f)}return c}function Ka(b){var d=[];d.push(aa[b>>>a[14]&a[47]]);d.push(aa[b&a[47]]);return d.join(c[0])}function na(b,c){if(null==b||null==c||b.length!=c.length)return b;for(var d=[],e=a[6],g=b.length;e<g;e++)d[e]=Y(b[e],c[e]);return d}function Y(a,b){a=z(a);b=z(b);return z(a^b)}function Ma(a,b){return z(a+b)}function z(b){if(b<a[281])return z(a[282]-(a[281]-b));if(b>=a[281]&&b<=a[273])return b;if(b>a[273])return z(a[283]+b-a[273]);throw Error(c[136])}function Na(k){function d(){for(var k=[b[135],b[245],b[349],b[74],b[362],c[36],b[369],b[315],b[386],b[133],c[18],b[156],b[236],b[191],b[318],b[33],b[190],b[259],b[257],c[112],b[63],b[46],b[134],b[272],b[130],b[129],b[12],b[387],b[209],b[50],b[150],c[98],b[316],b[36],b[76],b[227],b[217],b[79],c[127],c[92],b[262],b[171],b[334],c[67],b[394],b[347],b[293],b[287],b[81],b[139],b[360],b[188],b[136],b[254],b[215],b[125],b[314],b[146],b[201],b[398],b[21],b[393],b[126],c[82],b[306],b[320],b[354],b[289],b[218],b[211],b[220],b[65],b[132],b[328],b[131],b[280],b[82],b[388],b[114],b[221],b[121],b[230],c[26],b[193],b[142],b[137],c[104],b[372],b[77],b[109],b[96],b[175],b[57],b[232],b[153],b[282],b[302],b[59],c[3],c[65],b[311],b[38],b[174],b[22],b[199],b[238],b[26],b[124],b[228],c[46],b[265],b[281],b[296],b[5],c[125],b[326],c[37]],g=[],f=a[6];f<k.length;f++)try{var n=k[f];e()(n)&&g.push(n)}catch(h){}return g.join(c[56])}function e(){function k(a){var c={};return h.style.fontFamily=a,n.appendChild(h),c.height=h.offsetHeight,c.width=h.offsetWidth,n[b[160]](h),c}var d=[b[234],b[353],b[395]],l=[],g=b[351],f=b[180],n=v[b[111]],h=v[b[19]](b[335]);h.style.fontSize=f;h.style.visibility=b[250];h.innerHTML=g;for(g=a[6];g<d.length;g++)l[g]=k(d[g]);return function(b){for(var e=a[6];e<l.length;e++){var g=k(b+c[34]+d[e]),f=l[e];if(g.height!==f.height||g.width!==f.width)return!0}return!1}}function g(){var a=null,k=null,d=[];try{k=v[b[19]](b[291]),a=k[b[396]](b[108])||k[b[396]](b[324])}catch(e){}if(!a)return d;try{d.push(a[c[20]]())}catch(l){}try{d.push(f(a,k))}catch(n){}return d.join(c[56])}function f(k,d){try{var e=b[288],l=b[93],g=k[b[256]]();k[b[246]](k[b[325]],g);var n=new Float32Array([a[423],a[479],a[6],a[419],a[444],a[6],a[6],a[459],a[6]]);k.bufferData(k[b[325]],n,k[b[237]]);g.k=a[10];g.l=a[10];var h=k[b[233]](),P=k[b[261]](k[b[120]]);k[b[275]](P,e);k[b[194]](P);var la=k[b[261]](k[b[361]]);return k[b[275]](la,l),k[b[194]](la),k[b[29]](h,P),k[b[29]](h,la),k[b[258]](h),k[b[162]](h),h.n=k[b[304]](h,b[58]),h.m=k[b[274]](h,b[242]),k[b[286]](h.o),k[b[379]](h.n,g.k,k.FLOAT,!a[532],a[6],a[6]),k[b[397]](h.m,a[532],a[532]),k[c[139]](k[b[112]],a[6],g.l),M(d[b[1]]())}catch(p){return b[177]}}function h(){var k=v[b[19]](b[7]),d=[],e=[b[336],b[123],b[181],b[168],b[44],b[378],b[235],b[355],b[127],c[1],b[182],b[6],b[13],b[91],c[49],b[332],b[101],b[92],b[8],b[196],b[344],b[298],b[260],b[337],c[32],b[197],b[285],b[2]];if(!window[b[366]])return d.join(c[0]);for(var g=a[6];g<e.length;g++)try{v[b[111]].appendChild(k),k.style.color=e[g],d.push(e[g]),d.push(window[b[366]](k).getPropertyValue(b[249])),v[b[111]][b[160]](k)}catch(l){d.push(b[202])}return d.join(c[54])}function p(){try{var k=v[b[19]](b[291]),d=k[b[396]](b[207]),e=b[317];d[b[381]]=b[88];d[c[145]]=b[186];d[b[381]]=b[55];d[b[72]]=b[223];d[b[224]](a[272],a[532],a[143],a[57]);d[b[72]]=b[382];d.fillText(e,a[7],a[47]);d[b[72]]=b[166];d.fillText(e,a[14],a[51]);return k[b[1]]()}catch(g){return b[90]}}function m(){try{return window[b[208]]&&q.h?t():r()}catch(a){return c[31]}}function r(){if(!J[c[4]])return c[0];var k=[b[64],b[167],b[216],c[5],b[35],b[240],b[327],b[83],b[255],b[9],b[357],b[119],b[247],b[99],b[346],b[189],b[41],b[350],b[149],b[53],b[10],b[86],b[100],b[359],b[226],c[55],b[141],b[25],b[383],b[276],b[239],b[97],b[185],b[39],b[345],b[122],b[143],b[204],b[28],b[161],c[39],b[107],b[309],b[283],c[72],c[7],b[267],b[52],b[252],b[95],b[319],b[78],b[278],b[40],b[140],b[42],b[292],b[103],b[200],b[299],b[116],b[66],c[109],c[95],b[390],b[321],b[294],b[213],b[269],b[205],b[297],b[392],b[18],b[263],b[67],b[47],b[248],b[333],b[358],b[241],b[210],b[170],b[244],b[30],b[94],b[268],b[222],c[96],b[104],c[94],b[284],b[48],c[23],c[102],c[84],b[0],b[51],b[271],c[16],b[70],b[105],b[159],b[385],b[75],c[15],c[58],b[56],c[8],b[348],b[98],c[17],c[51],b[148],b[365],b[342],b[184],b[85],b[264],b[273]],d=[],e={};d.push(w(J[c[4]],function(k){e[k.name]=a[532];var d=w(k,function(a){return[a.type,a.suffixes].join(c[144])}).join(c[34]);return[k.name,k.description,d].join(b[300])},this).join(c[25]));d.push(w(k,function(a){if(e[a])return c[0];a=J[c[4]][a];if(!a)return c[0];var k=w(a,function(a){return[a.type,a.suffixes].join(c[144])}).join(c[34]);return[a.name,a.description,k].join(b[300])},this).join(c[56]));return d.join(c[56])}function t(){return window[b[208]]?w([b[89],b[145],b[169],b[151],b[363],b[49],b[295],b[71],b[323],b[27],b[102],c[100],b[14],b[84],b[214],b[102],c[102],b[0],b[165],b[266],b[203],b[330],b[179]],function(a){try{return new window[b[208]](a),a}catch(c){return null}}).join(c[56]):c[0]}function w(a,b,c){var k=[];if(null==a)return k;if(G&&a.map===G)return a.map(b,c);D(a,function(a,d,e){k[k.length]=b.call(c,a,d,e)});return k}function D(b,c){if(null!==b)if(A&&b.forEach===A)b.forEach(c,void 0);else if(b.length===+b.length)for(var k=a[6],d=b.length;k<d&&c.call(void 0,b[k],k,b)!=={};k++);else for(k in b)if(b.hasOwnProperty(k)&&c.call(void 0,b[k],k,b)==={})break}var A=Array.prototype.forEach,G=Array.prototype.map,q={e:M,j:!0,i:!0,h:!0,b:!0,a:!0};typeof k==b[117]?q.e=k:(null!=k.b&&void 0!=k.b&&(q.b=k.b),null!=k.a&&void 0!=k.a&&(q.a=k.a));this.get=function(){var k=[],e=[];if(Oa){var l;try{l=!!window[b[192]]}catch(f){l=!0}k.push(l);var P;try{P=!!window[b[251]]}catch(w){P=!0}k.push(P);k.push(!!window[b[253]]);v[b[111]]?k.push(typeof v[b[111]][b[154]]):k.push("undefined");k.push(typeof window[b[290]]);k.push(J[b[45]]);k.push(J[b[367]]);if(l=q.i)try{var u=v[b[19]](b[291]);l=!(!u[b[396]]||!u[b[396]](b[207]))}catch(A){l=!1}if(l)try{k.push(p()),q.b&&k.push(g())}catch(r){k.push(c[59])}k.push(h());q.a&&e.push(d());e.push(J[b[322]]);e.push(J[b[3]]);e.push(window[b[110]][b[212]]);q.j&&(u=window[b[110]]?[window[b[110]].height,window[b[110]].width]:[a[6],a[6]],typeof u!==b[310]&&e.push(u.join(c[138])));e.push((new Date)[c[128]]());e.push(J[c[122]]);e.push(m())}u=[];q.e?(u.push(q.e(k.join(b[364]))),u.push(q.e(e.join(b[364])))):(u.push(M(k.join(b[364]))),u.push(M(e.join(b[364]))));return u}}function M(b){var d=a[79],e,g,f,h,p,m;e=b.length&a[10];g=b.length-e;f=d;d=a[12];h=a[366];for(m=a[6];m<g;)p=b.charCodeAt(m)&a[290]|(b.charCodeAt(++m)&a[290])<<a[29]|(b.charCodeAt(++m)&a[290])<<a[49]|(b.charCodeAt(++m)&a[290])<<a[65],++m,p=(p&a[477])*d+(((p>>>a[49])*d&a[477])<<a[49])&a[396],p=p<<a[47]|p>>>a[51],p=(p&a[477])*h+(((p>>>a[49])*h&a[477])<<a[49])&a[396],f^=p,f=f<<a[41]|f>>>a[55],f=(f&a[477])*a[17]+(((f>>>a[49])*a[17]&a[477])<<a[49])&a[396],f=(f&a[477])+a[385]+(((f>>>a[49])+a[426]&a[477])<<a[49]);p=a[6];switch(e){case a[10]:p^=(b.charCodeAt(m+a[7])&a[290])<<a[49];case a[7]:p^=(b.charCodeAt(m+a[532])&a[290])<<a[29];case a[532]:p^=b.charCodeAt(m)&a[290],p=(p&a[477])*d+(((p>>>a[49])*d&a[477])<<a[49])&a[396],p=p<<a[47]|p>>>a[51],p=(p&a[477])*h+(((p>>>a[49])*h&a[477])<<a[49])&a[396],f^=p}f^=b.length;f^=f>>>a[49];f=(f&a[477])*a[398]+(((f>>>a[49])*a[398]&a[477])<<a[49])&a[396];f^=f>>>a[41];f=(f&a[477])*a[340]+(((f>>>a[49])*a[340]&a[477])<<a[49])&a[396];f^=f>>>a[49];b=f>>>a[6];e=[];e.push(b);try{for(var r,t=b+c[0],w=a[6],D=a[6],A=a[6];A<t.length;A++)try{var G=parseInt(t.charAt(A)+c[0]),w=G||G===a[6]?w+G:w+a[532];D++}catch(q){w+=a[532],D++}D=D==a[6]?a[532]:D;r=ba(w*a[532]/D,N);for(var z,v=Math.floor(r/Math.pow(a[34],N-a[532])),F=b+c[0],y=a[6],C=a[6],H=a[6],u=a[6],E=a[6];E<F.length;E++)try{var x=parseInt(F.charAt(E)+c[0]);x||x===a[6]?x<v?(C++,y+=x):(u++,H+=x):(u++,H+=v)}catch(B){u++,H+=v}u=u==a[6]?a[532]:u;C=C==a[6]?a[532]:C;z=ba(H*a[532]/u-y*a[532]/C,U);e.push(ca(r,N,c[41]));e.push(ca(z,U,c[41]))}catch(I){e=[],e.push(b),e.push(V(N,c[35]).join(c[0])),e.push(V(U,c[35]).join(c[0]))}return e.join(c[0])}function ba(b,d){if(b<a[6]||b>=a[34])throw Error(c[30]);for(var e=V(d,c[41]),f=c[0]+b,g=a[6],h=a[6];g<e.length&&h<f.length;h++)f.charAt(h)!=c[38]&&(e[g++]=f.charAt(h));return parseInt(e.join(c[0]))}function ca(a,b,d){a=c[0]+a;if(a.length>b)throw Error(c[87]);if(a.length==b)return a;for(var e=[],f=a.length;f<b;f++)e.push(d);e.push(a);return e.join(c[0])}function V(b,c){if(b<=a[6])return[a[6]];for(var d=[],e=a[6];e<b;e++)d.push(c);return d}function r(a){return null==a||void 0==a}function m(a,b,c){this.f=a;this.c=b;this.g=r(c)?!0:c}function Pa(a){if(r(a)||r(a.f)||r(a.c))return!1;try{if(r(window[a.f]))return!1}catch(b){return!1}return!0}function x(b,d){if(r(b))return c[0];for(var e=a[6];e<b.length;e++){var f=b[e];if(!r(f)&&f.f==d)return f}}function da(){var d;a:{if(!r(t))for(d=a[6];d<t.length;d++){var e=t[d];if(e.g&&!Pa(e)){d=e;break a}}d=null}var f;if(r(d)){try{f=window.parseFloat(b[32])===a[375]&&window.isNaN(window.parseFloat(b[15]))}catch(g){f=!1}if(f){var h;try{h=window.parseInt(b[176])===a[264]&&window.isNaN(window.parseInt(b[15]))}catch(m){h=!1}if(h){var p;try{p=window.decodeURI(b[61])===c[24]}catch(v){p=!1}if(p){var z;try{z=window.decodeURIComponent(b[62])===c[28]}catch(E){z=!1}if(z){var w;try{w=window.encodeURI(c[24])===b[61]}catch(D){w=!1}if(w){var A;try{A=window.encodeURIComponent(c[28])===b[62]}catch(G){A=!1}if(A){var q;try{q=window.escape(c[28])===b[62]}catch(B){q=!1}if(q){var I;try{I=window.unescape(b[62])===c[28]}catch(F){I=!1}if(I){var y;try{y=window.eval(b[157])===a[264]}catch(C){y=!1}f=y?null:x(t,b[23])}else f=x(t,b[384])}else f=x(t,b[195])}else f=x(t,b[243])}else f=x(t,b[229])}else f=x(t,b[391])}else f=x(t,b[173])}else f=x(t,b[270])}else f=x(t,b[301])}else f=d;return f}function Qa(){var a=da();if(!r(a))return a.c;try{a=r(window[b[20]])||r(window[b[20]][b[187]])?null:x(t,b[164])}catch(c){a=null}if(!r(a))return a.c;try{a=r(context)||r(context[b[37]])?null:x(t,b[118])}catch(d){a=null}return r(a)?null:a.c}function Aa(b){for(var d=[],e=a[6];e<b;e++){var f=Math.random()*Ra,f=Math.floor(f);d.push(ea.charAt(f))}return d.join(c[0])}function Q(d){for(var e=(v[b[60]]||c[0]).split(b[303]),f=a[6];f<e.length;f++){var g=e[f].indexOf(c[57]);if(g>=a[6]){var h=e[f].substring(g+a[532],e[f].length);if(e[f].substring(a[6],g)==d)return window.decodeURIComponent(h)}}return null}function Ba(d){var e=[c[135],b[34],c[133],c[108],b[11],b[17],b[231]],f=c[0];if(null==d||void 0==d)return d;if(typeof d==[b[144],b[73],c[121]].join(c[0])){for(var f=f+c[142],g=a[6];g<e.length;g++)if(d.hasOwnProperty(e[g])){var h=c[29]+e[g]+b[115],m;m=c[0]+d[e[g]];m=null==m||void 0==m?m:m.replace(/'/g,b[308]).replace(/"/g,c[24]);f+=h+m+b[43]}f.charAt(f.length-a[532])==c[34]&&(f=f.substring(a[6],f.length-a[532]));return f+=c[143]}return null}function oa(a,d,e,f){var g=[];g.push(a+c[57]+encodeURIComponent(d));e&&(a=new Date,a=new Date(f),f=a[b[68]](),g.push(b[303]),g.push(b[24]),g.push(b[158]),g.push(b[178]),g.push(b[172]),g.push(f));g.push(b[303]);g.push(b[155]);g.push(b[69]);null!=B&&void 0!=B&&B!=c[0]&&(g.push(b[303]),g.push(b[4]),g.push(b[87]),g.push(b[113]),g.push(B));v[b[60]]=g.join(c[0])}function Ca(a){window[pa]=a}function Da(a){window[qa]=a}function Ea(b,d){for(var e=[],f=a[6];f<d;f++)e.push(b);return e.join(c[0])}function Fa(a,b){var d=Q(a);null!==d&&void 0!==d&&d!==c[0]||oa(a,b,!1)}function ra(){var a=Q(W);if(null==a||void 0==a||a==c[0])a=window[qa];return a}function Sa(){var a=ra();if(null==a||void 0==a||a==c[0])return!1;try{return(a=parseInt(a))&&a>=fa?!0:!1}catch(b){return!1}}function ga(b){if(null==b||void 0==b||b==c[0])return null;b=b.split(c[54]);return b.length<a[7]||!/[0-9]+/gi.test(b[1])?null:parseInt(b[1])}function R(){var a=Q(T);if(null==a||void 0==a||a==c[0])a=window[pa];return a}function Ta(){var d=R();if(null==d||void 0==d||d==c[0])return a[6];d=ga(d);return null==d?a[6]:d-(sa-ta)-(new window[b[389]])[b[31]]()}function Ga(d,e){var f=new window[b[389]];f[c[21]](f[b[31]]()-a[317]);window[b[183]][b[60]]=null==e||void 0==e||e==c[0]?d+c[147]+f[b[68]]():d+b[225]+e+b[343]+f[b[68]]()}function Ha(){if(!(null==K||void 0==K||K.length<=a[6]))for(var b=a[6];b<K.length;b++){var d=K[b];(null!=B&&void 0!=B&&B!=c[0]||null!=d&&void 0!=d&&d!=c[0])&&B!=d&&(Ga(T,d),Ga(W,d))}}function ua(){Ha();window[qa]=null;window[pa]=null;var k=!0,n={v:b[80]},l=Qa();l&&(n[b[231]]=l);l=null;n[c[108]]=Ua;var m=(new window[b[389]])[b[31]]()+sa,r=m+a[299]*a[139]*a[139]*a[65]*a[294]*a[17];n[c[133]]=Aa(a[10])+m+Aa(a[10]);try{var t=(new Na({b:Va,a:Wa})).get();null!=t&&void 0!=t&&t.length>a[6]?n[b[34]]=t.join(c[34]):(n[b[34]]=Ea(c[41],a[34]),n[b[11]]=c[42],k=!1)}catch(p){n[b[34]]=Ea(c[41],a[34]),n[b[11]]=c[42],k=!1}try{var v=l=Ba(n),n=Xa;if(null==n||void 0==n)throw Error(c[120]);if(null==v||void 0==v)v=c[0];var t=v,x;x=null==v?g([]):g(ma(v));var B=ma(t+x),w=ma(n);null==B&&(B=[]);x=[];for(var D=a[6];D<va;D++){var A=Math.random()*a[292],A=Math.floor(A);x[D]=z(A)}var w=e(w),w=na(w,e(x)),D=w=e(w),G;if(null==B||void 0==B||B.length==a[6])G=I(E);else{var q=B.length,J=a[6],J=q%E<=E-ha?E-q%E-ha:E*a[7]-q%E-ha,A=[];Z(B,a[6],A,a[6],q);for(var K=a[6];K<J;K++)A[q+K]=a[6];Z(za(q),a[6],A,q+J,ha);G=A}q=G;if(null==q||q.length%E!=a[6])throw Error(c[130]);G=[];for(var F=a[6],y=q.length/E,C=a[6];C<y;C++){G[C]=[];for(var H=a[6];H<E;H++)G[C][H]=q[F++]}F=[];Z(x,a[6],F,a[6],va);for(var u=G.length,L=a[6];L<u;L++){var O,M;var N=G[L];if(null==N)M=null;else{for(var U=z(a[95]),y=[],V=N.length,Q=a[6];Q<V;Q++)y.push(Ma(N[Q],U++));M=y}var R;y=M;if(null==y)R=null;else{for(var aa=z(a[134]),C=[],ba=y.length,wa=a[6];wa<ba;wa++)C.push(Y(y[wa],aa--));R=C}var ca=d(R,a[118]);O=d(ca,a[27]);var xa=na(O,w),ia;y=xa;C=D;if(null==y)ia=null;else if(null==C)ia=y;else{for(var H=[],da=C.length,X=a[6],ea=y.length;X<ea;X++)H[X]=z(y[X]+C[X%da]);ia=H}var xa=na(ia,D),ja=f(xa),ja=f(ja);Z(ja,a[6],F,L*E+va,E);D=ja}var ka;if(null==F||void 0==F)ka=null;else if(F.length==a[6])ka=c[0];else{var ya=a[10];try{for(var u=[],S=a[6];S<F.length;)if(S+ya<=F.length)u.push(h(F,S,ya)),S+=ya;else{u.push(h(F,S,F.length-S));break}ka=u.join(c[0])}catch(ra){throw Error(c[111])}}l=ka}catch(ga){l=Ba({ec:c[43],em:ga.message}),k=!1}l=l+c[54]+m;oa(T,l,k,r);Fa(T,l);Ca(l);oa(W,fa,k,r);Fa(W,fa);Da(fa);window[c[124]]&&window[c[124]](ua,ta)}m.prototype={toString:function(){return b[305]+this.f+b[16]+this.c+b[329]+this.g+c[143]}};var t=[new m(b[279],c[13]),new m(b[183],c[14]),new m(b[219],c[11]),new m(b[277],c[12]),new m(b[352],c[10]),new m(b[110],c[9]),new m(c[2],c[19]),new m(b[88],c[22]),new m(b[331],c[6]),new m(b[301],b[376]),new m(b[270],b[374]),new m(b[173],b[375]),new m(b[391],b[371]),new m(b[229],b[373]),new m(b[243],b[368]),new m(b[195],b[370]),new m(b[384],b[377]),new m(b[23],b[380]),new m(b[106],b[340],!1),new m(b[147],b[341],!1),new m(b[20],b[338],!1),new m(b[164],b[339],!1),new m(b[118],b[356],!1)],Oa=da()?!1:!0,Ua=window&&window[b[277]]&&window[b[277]].host||b[206],v=window[b[183]],J=window[b[219]],N=a[7],U=a[7],aa=[c[41],c[42],c[43],c[44],c[45],c[47],c[48],c[50],c[52],c[53],c[97],c[99],c[101],c[103],c[105],c[106]],Ja=[a[6],a[368],a[374],a[513],a[440],a[307],a[486],a[334],a[453],a[533],a[301],a[452],a[487],a[455],a[406],a[31],a[446],a[354],a[524],a[393],a[429],a[284],a[357],a[502],a[482],a[484],a[467],a[324],a[530],a[403],a[288],a[418],a[465],a[20],a[360],a[494],a[316],a[344],a[537],a[381],a[411],a[431],a[165],a[433],a[297],a[492],a[460],a[327],a[499],a[322],a[473],a[346],a[349],a[391],a[370],a[519],a[516],a[450],a[414],a[25],a[399],a[511],a[310],a[437],a[462],a[428],a[38],a[408],a[539],a[497],a[454],a[303],a[311],a[247],a[336],a[489],a[371],a[386],a[514],a[376],a[407],a[528],a[420],a[289],a[488],a[478],a[326],a[469],a[291],a[424],a[504],a[358],a[359],a[442],a[395],a[525],a[495],a[286],a[328],a[461],a[434],a[404],a[436],a[181],a[345],a[308],a[382],a[538],a[24],a[457],a[496],a[361],a[512],a[389],a[438],a[312],a[451],a[508],a[28],a[415],a[394],a[341],a[520],a[372],a[325],a[490],a[347],a[474],a[472],a[323],a[443],a[481],a[287],a[422],a[332],a[410],a[527],a[392],a[507],a[353],a[356],a[506],a[470],a[295],a[305],a[449],a[130],a[531],a[405],a[44],a[300],a[464],a[378],a[510],a[379],a[365],a[485],a[339],a[331],a[315],a[417],a[19],a[518],a[447],a[309],a[441],a[380],a[517],a[476],a[343],a[501],a[320],a[369],a[523],a[333],a[400],a[274],a[432],a[412],a[427],a[458],a[330],a[121],a[500],a[363],a[493],a[466],a[13],a[536],a[388],a[298],a[351],a[505],a[355],a[293],a[338],a[390],a[526],a[352],a[319],a[421],a[285],a[409],a[373],a[321],a[471],a[480],a[23],a[337],a[483],a[313],a[350],a[509],a[377],a[364],a[401],a[42],a[402],a[463],a[314],a[448],a[304],a[529],a[296],a[522],a[367],a[397],a[335],a[342],a[475],a[318],a[503],a[439],a[306],a[515],a[383],a[15],a[416],a[445],a[521],a[384],a[535],a[348],a[302],a[491],a[362],a[8],a[468],a[329],a[456],a[498],a[148],a[430],a[223],a[425],a[413]],Ia=[a[67],a[173],a[190],a[222],a[156],a[147],a[66],a[198],a[157],a[10],a[149],a[214],a[182],a[93],a[26],a[85],a[117],a[118],a[239],a[183],a[47],a[57],a[275],a[265],a[73],a[101],a[248],a[249],a[166],a[266],a[77],a[206],a[215],a[86],a[158],a[159],a[184],a[224],a[55],a[276],a[150],a[61],a[144],a[231],a[199],a[36],a[164],a[232],a[131],a[74],a[56],a[94],a[143],a[126],a[185],a[200],a[135],a[29],a[267],a[37],a[105],a[256],a[59],a[122],a[97],a[233],a[234],a[216],a[127],a[62],a[123],a[136],a[119],a[174],a[51],a[35],a[277],a[109],a[257],a[63],a[81],a[9],a[258],a[191],a[64],a[114],a[160],a[102],a[128],a[106],a[235],a[268],a[89],a[207],a[65],a[17],a[115],a[273],a[18],a[124],a[250],a[272],a[22],a[208],a[240],a[32],a[87],a[69],a[14],a[151],a[167],a[175],a[241],a[192],a[110],a[217],a[53],a[7],a[242],a[50],a[39],a[218],a[139],a[120],a[107],a[281],a[161],a[98],a[90],a[225],a[78],a[125],a[236],a[201],a[75],a[226],a[186],a[251],a[82],a[252],a[83],a[202],a[91],a[71],a[253],a[259],a[103],a[176],a[209],a[70],a[113],a[260],a[95],a[111],a[168],a[11],a[254],a[140],a[52],a[68],a[145],a[27],a[141],a[116],a[80],a[210],a[92],a[243],a[104],a[132],a[112],a[211],a[264],a[177],a[244],a[169],a[193],a[237],a[99],a[178],a[72],a[108],a[40],a[194],a[21],a[255],a[261],a[133],a[262],a[203],a[129],a[43],a[212],a[79],a[100],a[213],a[134],a[227],a[45],a[88],a[263],a[278],a[532],a[219],a[238],a[137],a[54],a[269],a[58],a[245],a[152],a[6],a[534],a[204],a[195],a[205],a[179],a[170],a[187],a[49],a[220],a[279],a[228],a[46],a[270],a[153],a[41],a[146],a[280],a[60],a[188],a[171],a[271],a[142],a[84],a[221],a[172],a[30],a[76],a[229],a[96],a[16],a[246],a[162],a[180],a[33],a[189],a[48],a[154],a[155],a[196],a[230],a[163],a[197],a[138],a[34]],E=a[149],L=a[149],ha=a[14],va=a[14],d=function(b,c){if(null==b)return null;for(var d=z(c),e=[],f=b.length,g=a[6];g<f;g++)e.push(Y(b[g],d++));return e},Xa=b[198],T=b[152],W=b[312],fa=a[79],ea=b[128],Ra=ea.length,sa=a[435],ta=a[387],Wa=!1,Va=!1,O=window&&window[b[277]]&&window[b[277]][b[163]]||b[307],B=b[54],B=function(d,e){if(null==d||void 0==d||d==c[0]||null==e||void 0==e||e.length<=a[6])return null;e=e.split(c[56]);for(var f=a[6];f<e.length;f++){var g=new RegExp(e[f].replace(/\./g,b[313])+c[25]);if(null!=d.match(g))return e[f]}return null}(O,B),pa=T.replace(/[^a-zA-Z0-9$]/g,c[0]).toLowerCase(),qa=W.replace(/[^a-zA-Z0-9$]/g,c[0]).toLowerCase(),K=function(b){var d=[];if(!b)return d;b=b.split(c[38]);for(var e=c[0],f=a[6];f<b.length;f++)f<b.length-a[532]&&(e=c[38]+b[b.length-a[532]-f]+e,d.push(e));return d}(O);K.push(null);K.push(c[38]+O);(function(d){for(var e=a[6],f=(v[b[60]]||c[0]).split(b[303]),g=a[6];g<f.length;g++){var h=f[g].indexOf(c[57]);h>=a[6]&&f[g].substring(a[6],h)==d&&(e+=a[532])}return e})(T)>a[532]&&Ha();(function(){var a=R();if(null==a||void 0==a||a==c[0])a=!1;else{var d;if(d=Sa())a=ga(a),d=!(null==a||a-(new window[b[389]])[b[31]]()<=sa-ta);a=d}return a})()?(Ca(R()),Da(ra()),O=Ta(),window[c[124]]&&window[c[124]](ua,O)):ua()})()})()})()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bt=bf("nej.p"),bn=bf("nej.v"),bj=bf("nej.u"),bW=bf("nej.ut"),bv=bf("nej.j"),bU=bf("nm.d"),bk=bf("nm.x"),bK=bf("nm.m"),bF=bf("nm.l"),br=bf("nm.w"),be,cl;var VT=bc.mi('<div class="feedback"><div class="tit s-fc5 f-fs1">任何产品中的问题，欢迎反馈给我们</div><div class="u-txtwrap f-pr"><textarea class="u-txt area j-flag" placeholder="请输入反馈内容"></textarea><span class="zs s-fc2 f-hide j-flag">140</span></div><div class="u-txtwrap f-pr holder-parent"><textarea class="u-txt contact j-flag" placeholder="请留下联系方式（电话、QQ、邮箱）" maxLength="100"></textarea></div><div class="err u-err f-hide j-flag"><i class="u-icn u-icn-4"></i>内容不能为空！</div><div class="lybtn f-tc"><a href="javascript:;" class="u-btn2 btn1" data-action="ok" hidefocus="true"><i>发送意见</i></a><a href="javascript:;" class="u-btn2 btn2" data-action="cc" hidefocus="true"><i>取 消</i></a></div></div>');var sayswho=function(){var ua=navigator.userAgent,tem,M=ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(M[1])){tem=/\brv[ :]+(\d+)/g.exec(ua)||[];return"IE "+(tem[1]||"")}if(M[1]==="Chrome"){tem=ua.match(/\b(OPR|Edge)\/(\d+)/);if(tem!=null)return tem.slice(1).join(" ").replace("OPR","Opera")}M=M[2]?[M[1],M[2]]:[navigator.appName,navigator.appVersion,"-?"];if((tem=ua.match(/version\/(\d+)/i))!=null)M.splice(1,1,tem[1]);return M.join(" ")};bK.ei=NEJ.C();be=bK.ei.cg(bW.fP);be.cZ=function(){this.dh();this.bC=bc.bG("module-root")||document.body;this.VR();var OF=JSON.parse(bc.gA("g-info-json"));if(OF)localCache.qp("appInfo",OF);var OC=JSON.parse(bc.gA("g-config-json"));if(OC)localCache.qp("appConfig",OC);bn.bT(document,"click",this.GY.bl(this));var referrer=document.referrer;if(referrer.indexOf("/store/")===-1){var conf={is_organic:referrer?0:1,url:location.href};if(!conf.is_organic){conf.source=referrer}bk.cF("activeweb",conf)}if(localCache.kX("appInfo.envType")!="local"){window.console.log=function(){}}};be.VR=function(){if(bt.gQ.browser=="ie"&&parseInt(bt.gQ.version)<9&&/#(.*?)$/.test(top.document.title)){top.document.title="网易云音乐"}else{top.document.title=document.title}};be.GY=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"doSafety":bk.Dm();break;case"feedback":this.VF=bk.fl({title:"意见反馈",clazz:"m-feedback",html:bc.fe(VT),onaction:function(bg){switch(bg.action){case"ok":this.VA(bg);break;case"cc":break}}.bl(this)});this.rH=bc.bN(this.VF.bC,"j-flag");break;case"login":var cn=bc.bJ(bi,"href")||"/store/product",ft=location.protocol+"//"+location.host+cn;var cC=ft||location.href;location.href="/login?targetUrl="+encodeURIComponent(cC);break;case"home":bk.cF("click",{type:"mallhome"});location.href="/store/product";break;case"cart":bk.cF("click",{type:"shoppingcart",name:"mallhome"});window.open("/store/cart");break}};be.VA=function(bg){if(!!this.rH){var cq=this.rH[0].value.trim(),Ou=this.rH[2].value.trim(),bD="/api/feedback";if(!cq){this.rH[3].innerHTML="<i></i>反馈内容不能为空";bc.bQ(this.rH[3],"f-hide");bg.stopped=true;return}if(Ou.length>100){this.rH[3].innerHTML="<i></i>联系方式最多只能输入100个字符";bc.bQ(this.rH[3],"f-hide");bg.stopped=true;return}var Vy={ua:navigator.userAgent,hash:top.location.hash,href:location.href,contact:Ou},dB={content:cq,client:"web",xInfo:JSON.stringify(Vy)};dB=bj.dv(dB);var lg=bv.bV(bD,{type:"json",method:"post",data:dB,onload:function(bh){bn.eC(bh);if(bh.code==200){bk.ci({type:"",message:"操作成功"})}else{bk.ci({type:"error",message:"操作失败"})}}.bl(this),onerror:function(dY){}.bl(this)})}}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bt=bf("nej.ut"),kk;if(!!bt.ei)return;bt.ei=NEJ.C();kk=bt.ei.cg(bt.fP);kk.cZ=function(){this.rn={};this.dh();this.tC()};kk.cO=function(bd){this.cP(bd);this.FI=bd.umi||"";this.qY=bd.dispatcher;this.uY=bd.composite||cz;this.KR({onshow:this.rh.bl(this),onhide:this.sh.bl(this),onrefresh:this.sH.bl(this),onmessage:this.Vs.bl(this),onbeforehide:this.Vr.bl(this)})};kk.du=function(){delete this.FI;this.rn={};this.dG()};kk.bmL=function(bg){if(!!bg)bg.stopped=!0};kk.tC=cj;kk.rh=cj;kk.sh=cj;kk.sH=cj;kk.Vs=cj;kk.Vr=cj;kk.bmM=function(jS,dC,fi){this.qY.bjA({to:jS,mode:fi||0,data:dC,from:this.FI})};kk.bmP=function(bB,bh){this.qY.bjp(bB,{from:this.FI,data:bh})};kk.bmQ=function(){this.qY.biU.apply(this.qY,arguments)};kk.biG=function(){return this.rn};bc.Bo=function(){if(!!window.dispatcher){dispatcher.ND.apply(dispatcher,arguments)}}})();
(function(){var bf=NEJ.P,cj=NEJ.F,cz=NEJ.O,bc=bf("nej.e"),bj=bf("nej.u"),bt=bf("nej.ut"),oX;if(!!bt.sG)return;bt.sG=NEJ.C();oX=bt.sG.cg(bt.ei);oX.biw=function(bd){var cK;if(!cK){var bh=bd.input||cz;cK=bc.bG(bh.parent)}if(!cK){var bh=bd.data||cz;cK=bc.bG(bh.parent)}if(!cK){cK=bc.bG(bd.parent)}return cK};oX.rh=function(bd){var cK=this.biw(bd);if(!!cK&&!!this.bC)cK.appendChild(this.bC);this.zQ(bd);this.MV("onshow",bd);this.sH(bd)};oX.sH=function(bd){this.Ap(bd);this.MV("onrefresh",bd)};oX.sh=function(){this.zP();this.bhy();bc.jW(this.bC)};oX.MS=function(){var eS=/^onshow|onrefresh|delay$/;return function(cv){return eS.test(cv)}}();oX.bhr=cj;oX.MV=function(){var MJ=function(dn,bd,cv,pd){if(this.MS(pd))return;if(!!dn)cv+=(cv.indexOf("?")>1?"&":"?")+dn;var gH=this.bhr(pd,bd)||{};gH.location=bd;gH.parent=this.rn[pd];this.qY.vv(cv,{input:gH})};return function(bB,bd){if(!bd.nodelay){if(!!this.uY.delay)return;var MH=this.uY[bB]||cz;if(MH.delay)return}var dn=bj.dv(bd.param)||"";if(bB=="onrefresh"){bj.cY(this.uY,MJ.bl(this,dn,bd))}bj.cY(MH,MJ.bl(this,dn,bd))}}();oX.bhy=function(){var vy=function(cv,pd){if(!this.MS(pd))this.qY.cQ(cv)};return function(){bj.cY(this.uY,vy,this);bj.cY(this.uY.onshow,vy,this);bj.cY(this.uY.onrefresh,vy,this)}}()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bt=bf("nej.ut"),Fs;if(!!bt.kv)return;bt.kv=NEJ.C();Fs=bt.kv.cg(bt.fP);Fs.cO=function(){var bgt=function(bg){bg.matched=bg.source==bg.target};return function(bd){bd.oncheck=bd.oncheck||bgt;this.cP(bd);this.fE=bd.list;this.vu=bd.dataset||"id";this.qN=bd.selected||"js-selected"}}();Fs.ii=function(bA){var bu,bg={target:bA};bj.ch(this.fE,function(bi){delete bg.matched;bg.source=bc.bJ(bi,this.vu);this.bR("oncheck",bg);if(!bg.matched){bc.bQ(bi,this.qN)}else{bu=bi;bc.bS(bi,this.qN)}},this);return bu}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),br=bf("nm.w"),be;bF.vq=NEJ.C();be=bF.vq.cg(bF.hl);be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.jo=bm[0];this.fd={realName:bm[1],cellphone:bm[2],idNumber:bm[3]};bn.bT(this.bC,"click",this.cH.bl(this))};be.fw=function(){this.gv="g-ticket-info"};be.cO=function(bd){bd.title="请输入身份信息";bd.clazz="m-layer-ticket";this.cP(bd);this.eN=bW.rg.bL({form:this.jo});this.hA=bd.info;if(this.hA){this.jo.realName.value=this.hA.realName;this.jo.cellphone.value=this.hA.cellphone;this.jo.idNumber.value=this.hA.idNumber}if(this.gk()){bc.bS(bc.bG("idCard"),"f-hide");bc.cD(bc.bG("cellphone"),"height","56px")}};be.du=function(){this.dG();if(this.eN){this.eN.cG();delete this.eN}this.jo.realName.value="";this.jo.cellphone.value="";this.jo.idNumber.value="";this.dz("realName");this.dz("cellphone");this.dz("idNumber")};be.gk=function(){return this.hA&&this.hA.alldata&&this.hA.alldata.isShowStart};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"ok":var bh=this.eN.uo();if(!bh.realName){this.dz("realName","请输入购票人姓名")}else if(bj.hh(bh.realName)>25||bj.hh(bh.realName)<2){this.dz("realName","姓名应该为2~25个字符")}else{this.dz("realName")}if(!bh.cellphone){this.dz("cellphone","请输入手机号")}else if(!/^1\d{10}$/.test(bh.cellphone)){this.dz("cellphone","手机号应该为11位数字")}else{this.dz("cellphone")}if(!this.gk()){if(!bh.idNumber){this.dz("idNumber","请输入身份证号")}else if(!/^([\w\d]{18}|[\w\d]{15})$/.test(bh.idNumber)){this.dz("idNumber","身份证号码格式不正确")}else if(this.bgq(bh.idNumber)){this.dz("idNumber","购票人身份信息重复")}}this.dz("idNumber");if(this.vx()){return}if(this.gk()){this.bgo(bh)}else{this.bfj(bh)}break}};be.bfj=function(bh){bv.bV("/store/api/order/realName/verify",{type:"json",method:"POST",data:bj.dv({name:bh.realName,idNo:bh.idNumber,productId:this.hA.alldata.productId,skuId:this.hA.alldata.skuId,num:this.hA.alldata.restrict==1||this.hA.alldata.restrict>5?1:this.hA.alldata.num}),onload:function(hP){if(hP.data[0].code==200){this.bR("onok",{data:bh,index:this.hA.index});this.cG()}else{this.dz("idNumber",hP.data[0].code==401?"每个身份证限购1张门票":hP.data[0].code==402?hP.data[0].msg:"身份证号与购票人姓名不匹配")}}.bl(this)})};be.bgo=function(bh){bv.bV("/store/api/order/showstart/cellphone/verify",{type:"json",method:"POST",data:bj.dv({name:bh.realName,cellPhone:bh.cellphone,productId:this.hA.alldata.productId,skuId:this.hA.alldata.skuId,num:this.hA.alldata.num}),onload:function(hP){if(hP.code==200){this.bR("onok",{data:bh,index:this.hA.index});this.cG()}else{this.dz("cellphone",hP.msg)}}.bl(this)})};be.bgq=function(bff){if(this.hA.alldata&&this.hA.alldata.length>1){var fk=0;for(var i=0,l=this.hA.alldata.length;i<l;i++){if(i!=this.hA.index&&this.hA.alldata[i].idNumber==bff)return true}return false}};be.dz=function(bz,cX){var lr=this.fd[bz],qn=this.jo[bz];if(cX){lr.innerHTML=bk.hy('<i class="f-ib"></i>{0}',cX);bc.bQ(lr,"f-vhide");bc.bS(qn,"u-txt-err")}else{bc.bS(lr,"f-vhide");bc.bQ(qn,"u-txt-err")}};be.vx=function(){return!bc.dg(this.fd.realName,"f-vhide")||!bc.dg(this.fd.cellphone,"f-vhide")||!bc.dg(this.fd.idNumber,"f-vhide")}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),be,cl;bF.bfe=NEJ.C();be=bF.bfe.cg(bF.hl);be.fw=function(){this.gv="g-phone-code"};be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.bfc=bm[0];this.kW=bm[1];this.jc=bm[2];this.vQ=bm[3];this.fd=bm[4];this.vl=bm[5];bn.bT(this.bC,"click",this.cH.bl(this))};be.cO=function(bd){bd.clazz="m-layertel";this.cP(bd);this.bfc.innerText=bk.Dl(bd.cellphone);this.vk=bd.cellphone;if(bd.onback){bc.bQ(this.vl,"f-hide")}else{bc.bS(this.vl,"f-hide")}this.Ci();this.kW.value=""};be.du=function(){this.dG()};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"next":var fG=this.kW.value.trim(),bh={captcha:fG,cellphone:this.vk};if(!fG){this.dz("请输入验证码");return}this.dz(null);bk.iy("/api/sms/captcha/verify",bh).then(function(){this.bR("onnext",bh);this.cQ()}.bl(this),function(){this.dz("验证码不正确")}.bl(this));break;case"redo":this.Ci();break;case"back":this.cQ();break}};be.Ci=function(){bk.bG("/api/sms/captcha/sent",{cellphone:this.vk}).then(function(){this.Fr()}.bl(this),function(bg){bk.ci({message:bg.message||"验证码发送失败",type:"error"})}.bl(this))};be.Fr=function(){var bE,cu=0;return function(){var dO=this;cu=60;clearTimeout(bE);bc.bS(this.vQ,"f-hide");bc.bQ(this.jc,"f-hide");(function(){cu--;if(cu<0){bc.bQ(dO.vQ,"f-hide");bc.bS(this.jc,"f-hide");return}dO.jc.innerText="00:"+(cu>9?cu:"0"+cu);bE=setTimeout(arguments.callee,1e3)})()}}();be.dz=function(cX){if(cX){this.fd.innerHTML=bk.hy('<i class="f-ib"></i>{0}',cX);bc.bS(this.fd,"z-show")}else{bc.bQ(this.fd,"z-show")}}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bt=bf("nej.p"),bj=bf("nej.u"),bv=bf("nej.j"),bn=bf("nej.v"),Qu=bf("nm.u"),bk=bf("nm.x");bk.lI=function(bB){return bB==0?"积分":"元"};bk.beY=function(dR){var is=-1,fF=+(new Date);if(dR.discount&&dR.discount.discount<100&&dR.discount.discount>0&&dR.discount.startTime<fF&&dR.discount.endTime>fF){is=dR.discount.discount/100}return is};bk.bni=function(dR,dr){var is=bk.beY(dR);if(is>0){if(dR.priceType==0){return Math.ceil(dr*is)}else{return(dr*is).toFixed(2)}}return dr}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bv=bf("nej.j"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),be,cl;bF.Fp=NEJ.C();be=bF.Fp.cg(bF.hl);be.fw=function(){this.gv="g-pay-tip"};be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.beJ=bm[0];bn.bT(this.bC,"click",this.pi.bl(this))};be.cO=function(bd){this.cP(bd);this.beJ.innerText=bd.method==0?"支付宝":"网易宝";window.g_cbPay=this.Ct.bl(this);this.om=bd.orderId;this.jE=bd.friendId;this.lV=bj.eH(bd.orderCallback)?bd.orderCallback:null;this.nO=bd.toorderpage==undefined?true:bd.toorderpage;this.mH=bd.activityType;this.sK=bd.isShowResult||0;this.beC=bd.notGotoResult||false};be.du=function(){this.Fo();this.dG();window.g_paycb=NEJ.F};be.pi=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"payed":this.cQ();break}};be.Ct=function(bg){this.cQ()};be.Fo=function(){if(this.jE>0){checkOrderStatus.call(this)}else{if(this.sK){checkOrderStatus.call(this)}else{if(this.nO){toOrder.call(this)}else{checkOrderStatus.call(this)}}}};function checkOrderStatus(){var dO=this;setTimeout(function(){bv.bV("/store/api/user/order/new",{type:"json",query:{orderId:this.om},method:"GET",onload:function(bg){var oz={};if(bg.order.fromNewPlatform){oz=bg.order.orderingDocument}else{oz=bg.order.legacyOrder||bg.order}if(oz.status>=5){try{if(this.jE>0){if(this.mH!=2){try{var gm={jst:"m-wgt-redeem-tip",clazz:"n-redeem"};gm.data={title:"成功送出",sub:"请你的好友去查看私信",ok:"知道了",type:"success"};gm.onaction=function(){location.href="/member"};bk.wn(gm)}catch(e){}}else{toOrder.call(dO)}}else{if(!this.beC)toResult.call(dO)}orderCallBack.call(dO)}catch(e){toOrder.call(dO)}}else{toOrder.call(dO)}}.bl(dO)})}.bl(dO),500)}function toOrder(){location.href="/store/my/orderdetail?id="+this.om+"&random="+Math.round(Math.random()*1e5)}function toResult(){location.href="/store/my/payresult?orderId="+this.om+"&random="+Math.round(Math.random()*1e5)}function orderCallBack(){if(bj.eH(this.lV)){this.lV()}}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bn=bf("nej.v"),bv=bf("nej.j"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),br=bf("nm.w"),be,cl;bF.Fn=NEJ.C();be=bF.Fn.cg(bF.hl);var k=0;be.eB=function(){this.eO();this.bdS=bc.bN(this.bC,"j-flag")[0]};be.fw=function(){this.gv="g-wx-scanpay"};be.cO=function(bd){bd.clazz="m-rechareg";bd.onclose=bd.onclose||this.wJ.bl(this);this.cP(bd);this.bdS.src=bd.QRCodeImgUrl||"";if(this.qv)clearInterval(this.qv);this.qv=window.setInterval(this.bdM.bl(this),1500);window.g_cbPay=this.Ct.bl(this);this.om=bd.orderId;this.jE=bd.friendId;this.CM="";this.lV=bj.eH(bd.orderCallback)?bd.orderCallback:null;this.nO=bd.toorderpage==undefined?true:bd.toorderpage;this.mH=bd.activityType;this.sK=bd.isShowResult||0;this.Fl()};be.Fl=function(){this.jc=bc.bG("order-countdown");this.nj=30*60;this.jc.innerHTML=bk.oK(this.nj);if(this.nj>0){this.iG()}else{this.jc.innerHTML="00:00";this.wJ()}};be.iG=function(){if(this.nj<0){clearTimeout(this.fu);this.wJ()}else{this.nj--;this.jc.innerHTML=bk.oK(this.nj);this.fu=setTimeout(this.iG.bl(this),985)}};be.bdM=function(){bv.bV("/store/api/user/order/new",{type:"json",query:"orderId="+this.om,method:"GET",onload:this.bcS.bl(this)})};be.bcS=function(bg){if(bg&&bg.code==200){var oz={};if(bg.order.fromNewPlatform){oz=bg.order.orderingDocument}else{oz=bg.order.legacyOrder||bg.order}if(oz.status!=0&&oz.status!=3&&oz.status!=4){this.CM=oz.status;this.Ct();if(this.qv){this.qv=clearInterval(this.qv)}}}};be.Ct=function(bg){this.Fo();this.cQ()};be.wJ=function(){toOrder.call(this)};be.du=function(){if(this.qv){this.qv=clearInterval(this.qv)}this.dG();window.g_paycb=NEJ.F};be.Fo=function(){if(this.sK){if(this.CM>=5){toResult.call(this)}else{toOrder.call(this)}}else{if(this.jE>0&&this.CM>=5&&this.mH==2){toOrder.call(this);return}if(this.jE>0&&this.CM>=5){try{var gm={jst:"m-wgt-redeem-tip",clazz:"n-redeem"};gm.data={title:"成功送出",sub:"请你的好友去查看私信",ok:"知道了",type:"success"};gm.onaction=function(){location.href="/member"};bk.wn(gm)}catch(e){}}else{if(this.nO){toOrder.call(this)}else{if(bj.eH(this.lV)){this.lV()}}}}};function toResult(){location.href="/store/my/payresult?orderId="+this.om+"&random="+Math.round(Math.random()*1e5)}function toOrder(){location.href="/store/my/orderdetail?id="+this.om+"&random="+Math.round(Math.random()*1e5)}})();
(function(){var bf=NEJ.P,uU=bf("nm.h");uU.Md=function(fG,dC){var cm={"-4":"商品已售完",301:"请先登录",302:"购买出错",400:"购买出错",500:"购买出错"};var eZ="";if(cm[fG]){eZ=cm[fG]}else if(dC&&dC.indexOf("超时")>0){eZ="超时无响应，请稍后再试"}else if(dC&&dC.indexOf("异常状态")>0){eZ=dC}else{eZ="购买出错"}return eZ}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bM=bf("nej.ui"),bW=bf("nej.ut"),bj=bf("nej.u"),bk=bf("nm.x"),bU=bf("nm.d"),br=bf("nm.w"),be;br.Fe=NEJ.C();be=br.Fe.cg(br.jO);be.eB=function(){this.eO();var bm=bc.fs(this.bC);this.of=bm[0];this.bbL=bm[1];this.ns=bm[2];this.eI=bm[3]};be.fw=function(){this.gv="g-select-addr"};be.cO=function(bd){this.cP(bd);bn.lB(this.of,"click");this.gg([[this.bbL,"click",this.uJ.bl(this)]])};be.du=function(){this.dG()};be.hN=function(bm){if(!bm){this.of.innerText="－请选择－";return}this.fE=bm;bc.de(this.eI,"g-select-addr-item",{options:bm});bj.ch(bm,function(bw){if(bw.prop==1){this.nC(bw)}}.bl(this))};be.Au=function(bg){var bi=bn.cL(bg,"d:index"),bs=bc.bJ(bi,"index");if(bi&&bs!="-1"){this.nC(this.fE[bs])}else{if(this.fE.length>=10){setTimeout(function(){bk.ci({message:"地址不能超过10个!"})},10);return}this.bR("onchange","-1")}};be.nC=function(bA){if(this.pT!=bA){this.pT=bA;var bm=bc.fs(this.of);bm[1].innerHTML=bA.name;bm[2].innerHTML=bA.cellphone;bm[3].innerHTML=bA.provinceCity+bA.detailAddress;this.bR("onchange",bA)}};be.uJ=function(bg){clearTimeout(this.bbI);this.bbI=setTimeout(function(){if(bc.dg(this.eI,"f-hide")){if(!this.fE||!this.fE.length)return;bc.bQ(this.eI,"f-hide")}else{bc.bS(this.eI,"f-hide")}}.bl(this),10)};be.iZ=function(jz){if(bc.dg(jz.target,"f-link"))return;bc.bS(this.eI,"f-hide")}})();
(function(){var bf=NEJ.P,bv=bf("nej.j"),bj=bf("nej.u"),br=bf("nm.w");var AntiOver=br.ev.extend({name:"m-anti-over",template:"#antiover",init:function(){this.getCaptchaId(this.resetCaptchaId.bind(this));this.$update()},resetCaptchaId:function(id){this.data.captchaId=id;this.$update()},isCanSelect:function(){return this.data.isCanSelect?true:false},getCaptchaId:function(callback){var bD="/store/api/image/captcha/get",dH={onload:function(res){if(typeof res=="string")res=JSON.parse(res);if(res&&res.code==200){callback&&callback(res.captchaId)}}.bind(this),onerror:function(){}};bv.bV(bD,dH)},getCaptchaImgUrl:function(){var d=new Date;return"/store/api/image/captcha?id="+this.data.captchaId+"&time="+d.getTime()},imgRefresh:function(){this.$update()},verifyCaptcha:function(){var inpv=this.$refs.inp.value;if(!inpv)return;this.verify(this.data.captchaId,inpv,this.verifyCallback.bind(this))},onClose:function(){this.$emit("close")},verifyCallback:function(data){if(data&&data.result){this.data.verror=false;this.$update();this.$emit("verifycapt",data)}else{this.$refs.inp.value="";this.data.verror=true;this.$update()}},verify:function(id,captcha,callback){var bD="/store/api/image/captcha/verify",dH={type:"json",method:"post",data:bj.dv({id:id,captcha:captcha}),onload:function(res){if(res&&res.code==200){callback&&callback({result:res.result,captcha:captcha,captchaId:id})}}.bind(this),onerror:function(){}};bv.bV(bD,dH)}});br.bby=AntiOver})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bM=bf("nej.ui"),bF=bf("nm.l"),be,cl;bF.pF=NEJ.C();be=bF.pF.cg(bM.uK);be.cO=function(bd){bd.clazz="m-layer z-show "+(bd.clazz||"");bd.nohack=true;bd.draggable=true;this.cP(bd)};be.mU=function(bi,dC){if(!bi)return;bc.cD(bi,"display",!dC?"none":"");bi.lastChild.innerText=dC||""};be.uM=function(hC,ln,Fd,EY){var dZ="js-lock";if(ln===undefined)return bc.dg(hC,dZ);!ln?bc.bQ(hC,dZ):bc.bS(hC,dZ);hC.firstChild.innerText=!ln?Fd:EY};bF.pF.cw=function(bd){bd=bd||{};if(bd.mask===undefined)bd.mask="m-mask";if(bd.parent===undefined)bd.parent=document.body;if(bd.draggable===undefined)bd.draggable=true;!!this.eV&&this.eV.cG();this.eV=this.bL(bd);this.eV.cw(bd);return this.eV};bF.pF.cQ=function(){!!this.eV&&this.eV.cG()}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bU=bf("nm.d"),bk=bf("nm.x"),bF=bf("nm.l"),be,cl;bF.EW=NEJ.C();be=bF.EW.cg(bF.pF);cl=bF.EW.gO;be.cO=function(bd){this.cP(bd);if(bd.bubble===undefined)bd.bubble=true;this.baE=bd.bubble;this.lX=bd.message||""};be.fw=function(){this.gv=bc.sw('<div class="lyct f-cb f-tc"></div>')};be.eB=function(){this.eO();bn.bT(this.bC,"click",this.pi.bl(this))};be.pi=function(bg){var bi=bn.cL(bg,"d:action");if(!bi)return;if(bi.href)bn.jP(bg);if(bc.bJ(bi,"action")=="close")this.cQ();if(this.baE===!1)bn.AY(bg);this.bR("onaction",bc.bJ(bi,"action"))};be.cw=function(){cl.cw.call(this);this.bC.innerHTML=this.lX};var ey=bc.mi('<div class="f-fs1" style="line-height:22px;">${message|default:""}</div><div class="lybtn">{list buttons as item}<a hidefocus="true" class="u-btn2 ${item.klass} {if item.style}${item.style}{else}u-btn2-w2{/if}" href="#" {if !!item.action}data-action="${item.action}"{/if}><i>${item.text}</i></a>{/list}</div>');bk.EU=function(){var gJ;var dA;var baA=function(mr,fq){if(bj.eH(mr,"function")&&mr(fq)!=-1)dA.cG()};var vy=function(){!!dA&&dA.cQ()};return function(bd){clearTimeout(gJ);bd=bd||{};bd.title=bd.title||"提示";bd.clazz=bd.clazz||"";bd.parent=bd.parent||document.body;bd.buttons=bd.buttons||[];bd.message=bc.fe(ey,bd);bd.onaction=baA.bl(null,bd.action);if(bd.mask===undefined)bd.mask=true;if(bd.draggable===undefined)bd.draggable=true;!!dA&&dA.cG();dA=bF.EW.bL(bd);dA.cw();if(bd.autoclose)gJ=setTimeout(vy.bl(null),2e3);return dA}}();bk.TD=function(bd){bd=bd||{};bd.clazz=bd.clazz||"m-layer-w1";bd.buttons=[{klass:"u-btn2-2",action:"close",text:bd.btntxt||"确定"}];var dA=bk.EU(bd);return dA};bk.bnr=function(bd){bd=bd||{};bd.clazz=bd.clazz||"m-layer-w2";bd.buttons=[{klass:"u-btn2-2",action:"ok",text:bd.btnok||"确定",style:bd.okstyle||""},{klass:"u-btn2-1",action:"close",text:bd.btncc||"取消",style:bd.ccstyle||""}];var dA=bk.EU(bd);return dA}})();
(function(){var p=NEJ.P("nej.u");var Th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wR={},sV={};for(var i=0,l=Th.length,c;i<l;i++){c=Th.charAt(i);wR[i]=c;sV[c]=i}var bae=function(gC){var bs=0,c,bo=[];while(bs<gC.length){c=gC[bs];if(c<128){bo.push(String.fromCharCode(c));bs++}else if(c>191&&c<224){bo.push(String.fromCharCode((c&31)<<6|gC[bs+1]&63));bs+=2}else{bo.push(String.fromCharCode((c&15)<<12|(gC[bs+1]&63)<<6|gC[bs+2]&63));bs+=3}}return bo.join("")};var ZV=function(){var sc=/\r\n/g;return function(bh){bh=bh.replace(sc,"\n");var bo=[],jJ=String.fromCharCode(237);if(jJ.charCodeAt(0)<0)for(var i=0,l=bh.length,c;i<l;i++){c=bh.charCodeAt(i);c>0?bo.push(c):bo.push(256+c>>6|192,256+c&63|128)}else for(var i=0,l=bh.length,c;i<l;i++){c=bh.charCodeAt(i);if(c<128)bo.push(c);else if(c>127&&c<2048)bo.push(c>>6|192,c&63|128);else bo.push(c>>12|224,c>>6&63|128,c&63|128)}return bo}}();var uA=function(gC){var bs=0,bo=[],fi=gC.length%3;if(fi==1)gC.push(0,0);if(fi==2)gC.push(0);while(bs<gC.length){bo.push(wR[gC[bs]>>2],wR[(gC[bs]&3)<<4|gC[bs+1]>>4],wR[(gC[bs+1]&15)<<2|gC[bs+2]>>6],wR[gC[bs+2]&63]);bs+=3}if(fi==1)bo[bo.length-1]=bo[bo.length-2]="=";if(fi==2)bo[bo.length-1]="=";return bo.join("")};var ZL=function(){var KS=/\n|\r|=/g;return function(bh){var bs=0,bo=[];bh=bh.replace(KS,"");for(var i=0,l=bh.length;i<l;i+=4)bo.push(sV[bh.charAt(i)]<<2|sV[bh.charAt(i+1)]>>4,(sV[bh.charAt(i+1)]&15)<<4|sV[bh.charAt(i+2)]>>2,(sV[bh.charAt(i+2)]&3)<<6|sV[bh.charAt(i+3)]);var dc=bo.length,fi=bh.length%4;if(fi==2)bo=bo.slice(0,dc-2);if(fi==3)bo=bo.slice(0,dc-1);return bo}}();p.bnu=function(bh){return bae(ZL(bh))};p.Zo=function(bh){try{return window.btoa(bh)}catch(ex){return uA(ZV(bh))}}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bn=bf("nej.v"),bc=bf("nej.e"),bv=bf("nej.j"),bt=bf("nej.p"),bj=bf("nej.u"),bF=bf("nm.l"),br=bf("nm.w"),jG=bf("nej.ui"),bU=bf("nm.d"),bk=bf("nm.x"),be,cl;var TYPE_MAP={13:"playlist",17:"program",18:"song",19:"album"};bF.St=NEJ.C();be=bF.St.cg(bF.pF);be.fw=function(){this.gv="m-download-layer"};be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.EM=bm[0];this.EK=bm[1];this.RZ=bm[2];bv.bV("/client/version/get",{type:"json",onload:this.YL.bl(this)});if(bt.AC.mac){bc.bQ(this.EM.parentNode,"f-hide");bc.bS(this.EK.parentNode,"f-hide");bc.bS(this.RZ,"f-hide")}else{bc.bS(this.EM.parentNode,"f-hide");bc.bQ(this.EK.parentNode,"f-hide");bc.bQ(this.RZ,"f-hide")}};be.cO=function(bd){bd.clazz=" m-layer-down";bd.parent=bd.parent||document.body;bd.title="下载";bd.draggable=!0;bd.destroyalbe=!0;bd.mask=true;this.cP(bd);this.gg([[this.bC,"click",this.cH.bl(this)]]);this.qc=TYPE_MAP[bd.type];this.qC=bd.id};be.du=function(){this.dG()};be.YD=function(){this.cQ()};be.bnv=function(bg){this.bR("onok",bA);this.cQ()};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"download":this.cQ();window.open(bc.bJ(bi,"src"));break;case"orpheus":this.cQ();location.href="orpheus://"+bj.Zo(JSON.stringify({type:this.qc,id:this.qC,cmd:"download"}));break}};be.YL=function(bg){if(bg.code==200){this.vh=bg.data;this.EM.innerText="V"+this.vh.mac;this.EK.innerText="V"+this.vh.pc}};bk.Yu=function(bd){bF.St.bL(bd).cw()}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bj=bf("nej.u"),bU=bf("nm.d"),cN={};bU.bG=function(bz){return cN[bz]};bU.qp=function(bz,bZ){cN[bz]=bZ};bU.hy=function(bh){bj.cY(bh,function(bw,bz){var bZ=cN[bz]||{};NEJ.X(bZ,bw);cN[bz]=bZ})}})();
(function(){var bf=NEJ.P,eX=NEJ.R,cj=NEJ.F,bj=bf("nej.u"),bv=bf("nej.j"),bt=bf("nej.ut"),nH="dat-"+ +(new Date),jn;if(!!bt.EF)return;bt.EF=NEJ.C();jn=bt.EF.cg(bt.fP);jn.cZ=function(){this.dh();this.cW=this.constructor[nH];if(!this.cW){this.cW={};this.cW[nH+"-l"]={};this.constructor[nH]=this.cW}};jn.Ar=function(bz){return this.cW[bz]};jn.xl=function(bz,bA){this.cW[bz]=bA};jn.XW=function(bz,iP){var bh=this.Ar(bz);if(bh==null){bh=iP;this.xl(bz,bh)}return bh};jn.XU=function(bz){if(bz!=null){delete this.cW[bz];return}bj.cY(this.cW,function(bw,bz){if(bz==nH+"-l")return;this.XU(bz)},this)};jn.bnx=function(bz){if(!!bv.uw)return bv.uw(bz)};jn.XK=function(bz){if(!!bv.mD)return bv.mD(bz)};jn.Xv=function(bz,bA){if(!!bv.kP)bv.kP(bz,bA)};jn.Xd=function(bz,iP){var bh=this.EC(bz);if(bh==null){bh=iP;this.Rk(bz,bh)}return bh};jn.EC=function(bz){var bh=this.Ar(bz);if(bh!=null)return bh;bh=this.XK(bz);if(bh!=null)this.xl(bz,bh);return bh};jn.Rk=function(bz,bA){this.Xv(bz,bA);this.xl(bz,bA)};jn.Ri=function(bz){if(bz!=null){delete this.cW[bz];if(!!bv.uw)bv.uw(bz);return}bj.cY(this.cW,function(bw,bz){if(bz==nH+"-l")return;this.Ri(bz)},this)};jn.bny=function(){this.Ri();return this};jn.Ey=function(bz){var bh=this.cW[nH+"-l"],bO=eX.slice.call(arguments,1);bj.ch(bh[bz],function(dJ){try{dJ.apply(null,bO)}catch(ex){console.error(ex.message);console.error(ex.stack)}});delete bh[bz]};jn.Ex=function(bz,dJ){dJ=dJ||cj;var bm=this.cW[nH+"-l"][bz];if(!bm){bm=[dJ];this.cW[nH+"-l"][bz]=bm;return!1}bm.push(dJ);return!0};jn.VP=function(bm,cB,cV){if(!bm)return!1;cB=parseInt(cB)||0;cV=parseInt(cV)||0;if(!cV){if(!bm.loaded)return!1;cV=bm.length}if(!!bm.loaded)cV=Math.min(cV,bm.length-cB);for(var i=0;i<cV;i++)if(!bm[cB+i])return!1;return!0}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bj=bf("nej.u"),bt=bf("nej.ut"),be,cl;if(!!bt.xw)return;bt.xw=NEJ.C();be=bt.xw.cg(bt.EF);cl=bt.xw.gO;be.cO=function(bd){this.cP(bd);this.od=bd.key||"id";this.dS=bd.data||cz;this.Vv=!!bd.autogc;this.bkp(bd.id)};be.du=function(){this.dG();if(!!this.fu){this.PU()}};be.bkp=function(bE){var bI;if(!!bE){bI=this.cW[bE];if(!bI){bI={};this.cW[bE]=bI}}bI=bI||this.cW;bI.hash=bI.hash||{};this.xB=bI};be.PU=function(){this.fu=window.clearTimeout(this.fu);var cm={};bj.cY(this.xB,function(bm,bz){if(bz=="hash")return;if(!bj.eD(bm))return;bj.ch(bm,function(bw){if(!bw)return;cm[bw[this.od]]=!0},this)},this);bj.cY(this.AM(),function(bw,bE,fU){if(!cm[bE]){delete fU[bE]}})};be.bju=function(){if(!!this.fu){this.fu=window.clearTimeout(this.fu)}this.fu=window.setTimeout(this.PU.bl(this),150)};be.pW=function(bw,so){bw=this.bja(bw,so)||bw;if(!bw)return null;var bz=bw[this.od];if(bz!=null){var bY=this.AM()[bz];if(!!bY)bw=NEJ.X(bY,bw);this.AM()[bz]=bw}delete bw.PP;return bw};be.bja=cj;be.PO=function(bz,bw){if(!bw)return;if(!bj.eD(bw)){var bm=this.kr(bz),bw=this.pW(bw,bz);if(!!bw)bm.unshift(bw);return}bj.jT(bw,this.PO.bl(this,bz))};be.Ew=function(bz,dK){var bm=this.kr(bz);bm.length=Math.max(bm.length,dK);this.Eu(bz);return this};be.oB=function(bz){return this.kr(bz).length};be.Eu=function(bz,bin){this.kr(bz).loaded=bin!=!1;return this};be.Et=function(bz){return!!this.kr(bz).loaded};be.sU=function(bz,bm){this.Es(bz);this.Bg({key:bz,offset:0,limit:bm.length+1},{list:bm,total:bm.length})};be.kr=function(){var sv=function(bz){return(bz||"")+(!bz?"":"-")+"list"};return function(bz){var bz=sv(bz),bm=this.xB[bz];if(!bm){bm=[];this.xB[bz]=bm}return bm}}();be.AM=function(){var fU=this.xB.hash;if(!fU){fU={};this.xB.hash=fU}return fU};be.OZ=function(){var sv=function(bd){return"r-"+bd.key};return function(bd){var gW=NEJ.X({},bd),qq=sv(gW);if(!this.Ex(qq,this.bR.bl(this))){gW.rkey=qq;gW.onload=this.bhT.bl(this,gW);this.bR("dopullrefresh",gW)}return this}}();be.bhT=function(bd,bm){this.PO(bd.key,bm);this.Ey(bd.rkey,"onpullrefresh",bd)};be.wK=function(){var sv=function(bd){return"r-"+bd.key+"-"+bd.offset+"-"+bd.limit};return function(bd){bd=bd||cz;var gW={key:""+bd.key||"",ext:bd.ext||null,data:bd.data||null,offset:parseInt(bd.offset)||0,limit:parseInt(bd.limit)||0},bm=this.kr(gW.key);if(this.VP(bm,gW.offset,gW.limit)){this.bR("onlistload",gW);return this}var qq=sv(gW);if(!this.Ex(qq,this.bR.bl(this))){gW.rkey=qq;gW.onload=this.Bg.bl(this,gW);this.bR("doloadlist",gW)}return this}}();be.Bg=function(){var tr=function(bw,bs,bm){if(!!bw){return!0}bm.splice(bs,1)};return function(bd,bo){bd=bd||cz;var bz=bd.key,cB=bd.offset,OU=this.kr(bz);var bm=bo||[];if(!bj.eD(bm)){bm=bo.result||bo.list||[];var dK=parseInt(bo.total);if(!isNaN(dK)||dK>bm.length){this.Ew(bz,dK)}}bj.ch(bm,function(bw,bs){OU[cB+bs]=this.pW(bw,bz)},this);if(bm.length<bd.limit){this.Eu(bz);bj.jT(OU,tr)}this.Ey(bd.rkey,"onlistload",bd)}}();be.Es=function(){var tr=function(bw,bs,bm){bm.splice(bs,1)};return function(bz){var bm=this.kr(bz);bj.jT(bm,tr);this.Eu(bz,!1);if(this.Vv){this.bju()}return this}}();be.bhN=function(bw,so){return!bw.PP};be.iE=function(bE){return this.AM()[bE]};be.bnz=function(bE){var bw=this.iE(bE);if(!!bw)bw.PP=!0};be.bnA=function(){var sv=function(bd){return"r-"+bd.key+"-"+bd.id};return function(bd){bd=bd||cz;var bE=bd[this.od],gW={id:bE,ext:bd.ext,data:bd.data||{},key:""+bd.key||""};bw=this.iE(bE);gW.data[this.od]=bE;if(!!bw&&this.bhN(bw,gW.key)){this.bR("onitemload",gW);return this}var qq=sv(gW);if(!this.Ex(qq,this.bR.bl(this))){gW.rkey=qq;gW.onload=this.bhp.bl(this,gW);this.bR("doloaditem",gW)}return this}}();be.bhp=function(bd,bw){bd=bd||cz;this.pW(bw,bd.key);this.Ey(bd.rkey,"onitemload",bd)};be.bhn=function(bd){bd=NEJ.X({},bd);bd.onload=this.yf.bl(this,bd);this.bR("doadditem",bd)};be.yf=function(bd,bw){var bz=bd.key;bw=this.pW(bw,bz);if(!!bw){var ho=0,bm=this.kr(bz);if(!bd.push){ho=-1;var cB=bd.offset||0;bm.splice(cB,0,bw)}else if(bm.loaded){ho=1;bm.push(bw)}else{bm.length++}}var bg={key:bz,flag:ho,data:bw,action:"add",ext:bd.ext};this.bR("onitemadd",bg);return bg};be.bhb=function(bd){bd=NEJ.X({},bd);bd.onload=this.OS.bl(this,bd);this.bR("dodeleteitem",bd)};be.OS=function(bd,bgX){var bw,bz=bd.key;if(!!bgX){bw=this.iE(bd.id)||null;var bE=bd.id,bgS=this.od,bm=this.kr(bz),bs=bj.hj(bm,function(bY){return!!bY&&bY[bgS]==bE});if(bs>=0)bm.splice(bs,1)}var bg={key:bz,data:bw,action:"delete",ext:bd.ext};this.bR("onitemdelete",bg);return bg};be.bgI=function(bd){bd=NEJ.X({},bd);bd.onload=this.bgy.bl(this,bd);this.bR("doupdateitem",bd)};be.bgy=function(bd,bw){var bz=bd.key;if(!!bw)bw=this.pW(bw,bz);var bg={key:bz,data:bw,action:"update",ext:bd.ext};this.bR("onitemupdate",bg);return bg}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bj=bf("nej.u"),bt=bf("nej.ut"),be;if(!!bt.BA)return;bt.BA=NEJ.C();be=bt.BA.cg(bt.xw);be.cO=function(bd){this.cP(bd);this.KR({doloadlist:this.ym.bl(this),doloaditem:this.OR.bl(this),doadditem:this.Er.bl(this),dodeleteitem:this.yp.bl(this),doupdateitem:this.yq.bl(this),dopullrefresh:this.Ep.bl(this)})};be.ym=cj;be.Ep=cj;be.OR=cj;be.Er=cj;be.yp=cj;be.yq=cj})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bW=bf("nej.ut"),bk=bf("nm.x"),bU=bf("nm.d"),be,cl;bU.le=NEJ.C();be=bU.le.cg(bW.BA);be.ek=function(){var yt=location.protocol+"//"+location.host;var Eo=function(bX,bh){var cm={conf:{},data:{},urls:[]};bj.ch(bX,function(bz,bs,bm){var bZ=bU.bG(bz);if(!bZ)return;var rZ=yw(bZ.url,bh[bz]);cm.urls.push(rZ);cm.conf[rZ]=bZ;cm.data[rZ]=JSON.stringify(bh[bz]==null?"":bh[bz])});return cm};var yw=function(bD,bh){return bD.replace(/\{(.*?)\}/gi,function($1,$2){return bh[$2]||$1})};var yx=function(bZ,bd,bg){bn.bR(window,"requesterror",bg);if(!!bg.stopped)return;var rT=bZ.onerror||bd.onerror;if(bj.eT(rT)){this.bR(rT,bg,bd)}else{(rT||cj).call(this,bg,bd)}var bg={result:bg,option:bd};this.bR("onerror",bg);if(!bg.stopped)(bZ.onmessage||cj).call(this,bg.result.code,bg.result)};var yA=function(cf,bZ,bd){var bo=cf;if(bj.eH(bZ.format)){bo=bZ.format.call(this,cf,bd)}return bo};var lN=function(cf,bZ,bd,hY){if(bj.eH(bZ.beforeload)){bZ.beforeload.call(this,cf,bd,bZ)}if(cf&&cf.code!=null&&cf.code!=200){yx.call(this,bZ,bd,{key:bd.key,code:cf.code,message:cf.message||"",captchaId:cf.captchaId,ext:cf});return}var bo=cf;if(!hY){bo=yA.call(this,cf,bZ,bd)}else if(bj.eH(bZ.format)){var rR=[];bj.ch(hY.urls,function(bD){rR.push(yA.call(this,cf[bD],hY.conf[bD],bd))},this);rR.push(bd);bo=bZ.format.apply(this,rR)}var ed=bZ.onload||bd.onload,yD=bZ.finaly||bd.finaly||cj;if(bj.eT(ed)){yD.call(this,this.bR(ed,bo),bd)}else{yD.call(this,(ed||cj).call(this,bo),bd)}};var mj=function(bZ,bd,dY){yx.call(this,bZ,bd,{key:bd.key,code:dY.code||-1,message:dY.message||""})};return function(bZ,bd){if(bj.eT(bZ)){bZ=bU.bG(bZ)}delete bd.value;(bZ.filter||cj).call(this,bd,bZ);var cf=bd.value;if(!!cf){lN.call(this,cf,bZ,bd);return}var bD,bh=bd.data||cz,ir={cookie:!0,type:bZ.rtype||"json",method:bZ.type||"POST",onerror:mj.bl(this,bZ,bd),noescape:bZ.noescape};if(bj.eD(bZ.url)){var hY=Eo(bZ.url,bh);bD=yt+"/api/batch";ir.data=bj.dv(hY.data);ir.onload=lN.fH(this,bZ,bd,hY);ir.headers={"batch-method":"POST"};delete hY.data}else{var hB=bZ.url.indexOf(":")<0?yt:"";bD=yw(hB+bZ.url,bh);ir.data=bj.dv(bd.data);ir.onload=lN.fH(this,bZ,bd)}if(ir.method=="GET")ir.query=ir.data;return bv.bV(bD,ir)}}();be.lT=function(){var eS=/^get|list|pull$/i;return function(yG,bd){var bz=bd.key,bZ=bU.bG(bz.split("-")[0]+"-"+yG);if(eS.test(yG)&&bz.indexOf("post-")<0)bZ.type="GET";this.ek(bZ,bd)}}();be.bcQ=function(bz,bm){var dK=bm.length;this.Bg({key:bz,offset:0,limit:dK+1},{list:bm,total:dK})};be.ym=function(bd){this.lT("list",bd)};be.OR=function(bd){this.lT("get",bd)};be.Ep=function(bd){this.lT("pull",bd)};be.Er=function(bd){this.lT("add",bd)};be.yp=function(bd){this.lT("del",bd)};be.yq=function(bd){this.lT("update",bd)};be.bnC=function(bw){this.pW(bw)};bW.jg.bL({element:window,event:"requesterror"})})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bn=bf("nej.v"),bW=bf("nej.ut"),bU=bf("nm.d"),En={},be,cl;var mV=function(bo,bd){bo.conf=bd.conf;return bo};bU.hy({"res-mv-get":{type:"GET",url:"/api/v1/mv/detail",format:function(cf,bd){return mV({mv:cf},bd)}},"res-song-get":{type:"GET",url:"/api/song/detail",format:function(bo,bd){if(!!bo.songs&&bo.songs.length>0)bo.song=bo.songs[0];else bo.song=En;delete bo.songs;return mV(bo,bd)},filter:function(bd){bd.data.ids="["+bd.data.id+"]"}},"res-program-get":{type:"GET",url:"/api/dj/program/detail",format:mV},"res-album-get":{type:"GET",url:"/api/album/{id}",format:mV},"res-playlist-get":{type:"GET",url:"/api/playlist/detail",format:function(bo,bd){bo.playlist=bo.result;delete bo.result;return mV(bo,bd)}},"res-mv-play":{type:"GET",url:"/api/song/mv/play",format:mV},"res-playlist-play":{type:"GET",url:"/api/playlist/update/playcount",format:mV},"res-program-play":{type:"GET",url:"/api/dj/program/listen",format:mV},"res-djradio-get":{type:"GET",url:"/api/dj/program/byradio",filter:function(bd){var bm=bd.data.id.split("-");bd.data.radioId=bm[0];bd.data.asc=bm[1]==2;bd.data.limit=1e3;delete bd.data.id},format:function(cf,bd){var bck={id:bd.data.radioId,programs:cf.programs};return mV({djradio:bck},bd)}},"res-hotSongs-get":{type:"GET",url:"/api/artist/{id}",format:mV},"res-lyric-get":{type:"GET",url:"/api/song/lyric",filter:function(bd){bd.data.lv=0;bd.data.tv=0},format:function(bo,bd){var Cc={lyric:"",nolyric:true};if(bo.code==200&&bo.lrc&&bo.lrc.lyric){Cc.lyric=bo.lrc.lyric;Cc.nolyric=false}else{Cc.nolyric=true}return mV({lyric:Cc},bd)}}});bU.yL=NEJ.C();be=bU.yL.cg(bU.le);be.bcj=function(bB,gS){return this.Ar(this.Cg(bB,gS))};be.bbU=function(bB,gS,bd){bd=bd||{};var bh=this.Ar(this.Cg(bB,gS));if(bh&&(bB!=13&&bB!=19||bd.conf&&bd.conf.useCache)){this.bR("onresourceload",bB,gS,bh,bd.conf);return}bd.data={id:gS};bd.onload=this.bbm.bl(this,bB,gS);bd.onerror=this.baH.bl(this,bB,gS);this.ek("res-"+this.qL(bB)+"-get",bd)};be.bbm=function(bB,gS,bo){var bh=bo[this.qL(bB)];this.xl(this.Cg(bB,gS),bh);this.bR("onresourceload",bB,gS,bh,bo.conf)};be.baH=function(bB,gS,bo,bd){if(bo.code!=404){this.bR("onresourceerror",bB,gS,bo.code);return}this.xl(this.Cg(bB,gS),En);this.bR("onresourceload",bB,gS,En,bd.conf)};be.bnD=function(bB,bd){this.ek("res-"+this.qL(bB)+"-play",bd)};be.Cg=function(bB,gS){return"res-"+this.qL(bB)+"-"+gS};be.qL=function(bB){var cm={2:"hotSongs",13:"playlist",17:"program",18:"song",19:"album",21:"mv",41:"lyric",70:"djradio"};return cm[bB]};bU.yL.bnZ=function(bB,gS){if(!this.eV)this.eV=bU.yL.bL({});return this.eV.bcj(bB,gS)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bn=bf("nej.v"),bj=bf("nej.u"),bW=bf("nej.ut"),bU=bf("nm.d"),Ee=/^[1-9][0-9]*$/,be,cl;var LOCAL_LOG_KEY="local-log";bU.hy({"bi-log":{url:"/api/feedback/weblog"},"bi-batch-log":{url:"/api/feedback/weblog"},"plus-mv-count":{url:"/api/song/mv/play"},"plus-song-count":{url:"/api/song/play"},"plus-dj-count":{type:"GET",url:"/api/dj/program/listen"},"plus-playlist-count":{type:"GET",url:"/api/playlist/update/playcount"}});bU.DZ=NEJ.C();be=bU.DZ.cg(bU.le);be.rj=function(fq,bZ){if(!fq||!bZ)return;if(bj.eT(bZ)){try{bZ=JSON.parse(bZ)}catch(_e){if(console&&console.warn){console.warn("bilog error: ",bc)}}}if(!bj.ip(bZ))return;this.ek("bi-log",{data:{logs:JSON.stringify([{action:fq,json:bZ}])}})};be.Wj=function(ol){if(!bj.eD(ol))return;this.ek("bi-batch-log",{data:{logs:JSON.stringify(ol)}})};be.bog=function(bZ){if(!bZ||!bZ.type||!bZ.rid)return;var jm=bZ.type;if(Ee.test(jm)){jm=this.qL(jm)}if(!jm)return;if(jm=="playlist")jm="list";this.rj("search",{type:jm,id:bZ.rid||null,keyword:bZ.keyword||null})};be.bol=function(){var biZ=/^\/m\/(song|album|playlist)\?id=(\d+)/;return function(bZ){if(!bZ||!bZ.type||!bZ.rid)return;if(bZ.play===undefined)bZ.play=true;var jm=bZ.type;if(Ee.test(jm)){jm=this.qL(jm)}if(!jm)return;if(jm=="playlist")jm="list";var cf={id:bZ.rid,type:jm};if(jm=="song"&&bZ.source){cf.source=this.UC(bZ.source);if(!!bZ.sourceid)cf.sourceid=bZ.sourceid}this.rj(!bZ.play?"addto":"play",cf);if(jm=="song"&&bZ.hash&&bZ.hash.match(biZ)){this.rj(!bZ.play?"addto":"play",{type:RegExp.$1,id:RegExp.$2})}}}();be.bom=function(bE,cu,eh,DW){var cf={type:"song",wifi:0,download:0};var bhW={1:"ui",2:"playend",3:"interrupt",4:"exception"};cf.id=bE;cf.time=Math.round(cu);cf.end=bj.eT(DW)?DW:bhW[DW]||"";if(eh&&eh.fid){cf.source=this.UC(eh.fid);cf.sourceId=eh.fdata}this.rj("play",cf)};be.bou=function(bB,gS){if(!bB||!gS)return;if(Ee.test(bB))bB=this.qL(bB);if(bB!="playlist"&&bB!="dj")return;var bZ=bU.bG("plus-"+bB+"-count");if(!bZ)return!1;this.ek(bZ,{data:{id:gS}});var bI=this.XW("play-hist-"+bB,[]);if(bj.hj(bI,gS)<0){bI.push(gS);return!0}return!1};be.qL=function(bB){var cm={1:"user",2:"artist",13:"playlist",17:"dj",18:"song",19:"album",21:"mv",31:"toplist"};return cm[bB]};be.UC=function(qT){var cm={1:"user",2:"artist",13:"list",17:"dj",18:"song",19:"album",21:"mv",31:"toplist",32:"search",33:"search",34:"event",35:"msg"};return cm[qT]};be.boA=function(bdm){var ol=this.Xd(LOCAL_LOG_KEY,[]);ol.unshift(bdm);if(ol.length>200){ol.length=200}this.Rk(LOCAL_LOG_KEY,ol)};be.boB=function(){return this.EC(LOCAL_LOG_KEY)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bn=bf("nej.v"),bv=bf("nej.j"),bW=bf("nej.ut"),bc=bf("nej.e"),bj=bf("nej.u"),bF=bf("nm.l"),bk=bf("nm.x"),bU=bf("nm.d");if(!bU.yL)return;var bI=bU.yL.bL({onresourceload:bcv});var DS=bU.DZ.ux();function bcv(bB,gS,bh,bZ){var bm=[];switch(parseInt(bB)){case 2:bm=bh;break;case 13:bm=bh.tracks;break;case 18:bm.push(bh);break;case 19:bm=bh.songs;break;case 21:if(bh.mp&&bh.mp.fee&&bh.mp.pl<=0){bk.baB(bh.data.id,bh.mp.fee);return}break}if(bk.baz(bm,true,null,bB==19?{source:"album",sourceid:gS}:null)==0){return}bk.TD({clazz:"m-layer-w2",bubble:!1,message:bZ.message})}function bai(bg,nr,rX,gR){gR=gR||{};if(bg.action=="ok"){if(rX){location.href="/payfee?songId="+rX}else{location.href="/payfee?fee="+nr||1}DS.rj("click",{type:"tobuyvip",name:"box",source:gR.source||"song",sourceid:gR.sourceid||rX||0})}else if(bg.action=="song"){location.href="/payfee?singleSong=true&songId="+rX;DS.rj("click",{type:"tobuyone",name:"box",source:gR.source||"song",sourceid:gR.sourceid||rX||0})}}function RC(dC){bk.TD({clazz:"m-layer-w2",bubble:!1,message:dC,btntxt:"知道了"})}function Rm(dC,cf){RC((cf||cz).toast||dC)}bk.CO=function(dC,bE,bB,Wm,dp){dC=dC||"由于版权保护，您所在的地区暂时无法使用。";if(Wm&&dp&&dp.privilege&&dp.privilege.toast){bv.bV("/api/song/toast",{query:{id:dp.id},type:"json",onload:Rm.bl(this,dC),onerror:Rm.bl(this,dC)})}else if(bE&&bB){bI.bbU(bB,bE,{conf:{message:dC,useCache:bB!=18}})}else{RC(dC)}};bk.Ql=function(nr,rX,bB,gR,iY){var cN,hE="m-popup-info",DH="单首购买",DG="马上去开通",cX="唱片公司要求，当前歌曲须付费使用。",Vk=true;try{cN=top.api.feeMessage||{}}catch(e){cN={}}if(nr==1||nr==8||nr==16){if(bB=="song"){hE="m-popup-song-buy";cX=cN["vip2"]||cX;DG=cN["vip2button"]||"包月购买";DH=cN["vip2link"]||DH;if(iY&&iY.flag!==undefined){var bX=iY.flag.toString(2).split("");if(parseInt(bX.pop(),10)==1){Vk=false}}}else{cX=cN["vip"]||cX}}else if(nr==4){cX=cN["album"]||cX;DG="立即订购"}else{cX=cN["unknow"]||cX}bk.wn({clazz:"m-layer-w5",html:bc.fe(hE,{songTxt:DH,tip:cX,oktext:DG,cctext:"以后再说",showSongText:Vk}),onaction:bai.fH(null,nr,rX,gR)})};bk.boO=function(bfh,bcp){bk.fl({title:"提示",message:"唱片公司要求，该歌曲须下载后播放",btnok:"下载",btncc:"取消",okstyle:"u-btn2-w1",ccstyle:"u-btn2-w1",action:function(bB){if(bB=="ok"){bk.Yu({id:bfh,type:bcp})}}})};bk.baB=function(Sh,nr){var cN,cX="唱片公司要求，当前歌曲须付费使用。";try{cN=top.api.feeMessage||{}}catch(e){cN={}}if(nr==1||nr==8){cX=cN["vip"]||cX}else if(nr==4){cX=cN["album"]||cX}else{cX=cN["unknow"]||cX}return bk.wn({clazz:"m-layer-w5",html:bc.fe("m-popup-info",{tip:cX,oktext:"马上去开通",cctext:"以后再说"}),onaction:function(bg){if(bg.action=="ok"){location.href="/payfee?mvId="+Sh;DS.rj("click",{type:"tobuyone",name:"box",source:"mv",sourceid:Sh||0})}}})};bk.baz=function(){function compareFee(Wl,VJ){var cm={1:99,8:99,4:88,16:99};return(cm[Wl]||0)-(cm[VJ]||0)}return function(bm,cX,De,gR){De=De||{};var ps=[],tL={},Oh=0,MA=0,tJ=null;if(!bm||!bm.length)return ps;bj.ch(bm,function(dp){var hs=bk.bcn(dp);if(hs==0){ps.push(dp)}else if(hs==10){if(dp.privilege){dp.fee=dp.privilege.fee}if(compareFee(dp.fee,tL.fee)>0){tL=dp}}else if(hs==11){++Oh;if(!De.play)ps.push(dp)}else if(hs==1e3){++MA;if(!De.download)ps.push(dp)}else if(hs==100){tJ=dp}});if(ps.length==0&&cX){if(Oh==bm.length){var Qh=bm[0].privilege||{};if(Qh.payed){bk.CO("唱片公司要求，该歌曲须下载后播放")}else{bk.Ql(Qh.fee,null,null,gR)}}else if(MA==bm.length){bk.CO("因版权方要求，该歌曲不支持下载")}else if(tL.id){bk.Ql(tL.fee,tL.id,null,gR,tL.privilege)}else{if(tJ&&bm.length==1&&tJ.privilege&&tJ.privilege.st<0&&tJ.privilege.toast){bk.CO(null,null,null,true,tJ)}else{bk.CO()}}}return ps}}();bk.bcn=function(dp){if(!dp)return 0;var hs=dp.privilege;if(dp.program)return 0;if(window.GAbroad)return 100;if(hs){if(hs.st!=null&&hs.st<0){return 100}if(hs.fee>0&&hs.fee!=8&&hs.payed==0)return 10;if(hs.fee==16)return 11;if((hs.fee==0||hs.payed)&&hs.pl>0&&hs.dl==0)return 1e3;if(hs.pl==0&&hs.dl==0)return 100;return 0}else{var gl=dp.status!=null?dp.status:dp.st!=null?dp.st:0;if(dp.status>=0)return 0;if(dp.fee>0)return 10;return 100}}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bt=bf("nej.ui"),be,cl;if(!!bt.rB)return;bt.rB=NEJ.C();be=bt.rB.cg(bt.BI);cl=bt.rB.gO;bt.rB.boY=function(){var baj=function(bg,bE,en,he,kF){var dA,bz=bE+"-i",bI=en.oJ,Oe=!!he.noclear,Mu=!!he.toggled;if(bj.eH(he.onbeforeclick)){var Dt=he.noclear,Yo=he.toggled;try{he.onbeforeclick(he)}catch(e){}Oe=!!he.noclear;Mu=!!he.toggled;he.toggled=Yo;he.noclear=Dt}var tf=bI[bz];if(Mu&&!!tf){tf.cQ();return}bn.eC(bg);if(!Oe){bn.bR(document,"click");dA=en.bL(he)}else{dA=en.Tj(he,!0)}bI[bz]=dA;dA.uG("onbeforerecycle",function(){delete bI[bz]});dA.GH(kF)};return function(bi,bd){bi=bc.bG(bi);if(!bi)return this;if(!this.oJ)this.oJ={};var bE=bc.hH(bi);if(!!this.oJ[bE])return this;bd=NEJ.X({},bd);var kF=NEJ.EX({align:"",delta:null,fitable:!1},bd);kF.target=bE;bd.destroyable=!0;if(!bd.fixed){kF.fitable=!0;bd.parent=document.body}this.oJ[bE]=[bE,bd.event||"click",baj.fH(null,bE,this,bd,kF)];bn.bT.apply(bn,this.oJ[bE]);return this}}();bt.rB.boZ=function(bi){if(!this.oJ)return this;var bE=bc.hH(bi),bg=this.oJ[bE];if(!bg)return this;delete this.oJ[bE];bn.kA.apply(bn,bg);var dA=this.oJ[bE+"-i"];if(!!dA)dA.cQ();return this};be.IG=function(){return bt.xJ.bL(this.ht)};be.vX=function(){cl.vX.apply(this,arguments);this.ht.top=null;this.ht.left=null;this.ht.nostop=!1};be.GH=function(bd){if(!!this.og)this.og.GH(bd);return this}})();
(function(){var bf=NEJ.P,bM=bf("nej.ui"),bF=bf("nm.l"),be,cl;bF.tF=NEJ.C();be=bF.tF.cg(bM.rB);be.cO=function(bd){bd.nohack=true;this.cP(bd)}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bF=bf("nm.l"),be,cl;bF.fv=NEJ.C();be=bF.fv.cg(bF.tF);cl=bF.fv.gO;be.cO=function(bd){this.cP(bd);this.qc=bd.type||1};be.eB=function(){this.eO();this.bC=bc.pV(this.IO());var bm=bc.fs(this.bC);this.zS=bm[0];this.hI=bm[1]};be.IO=function(){return'<div class="sysmsg"><i class="u-icn u-icn-31"></i><span></span></div>'};be.oT=function(){var bA={},fM=this.bC.style,hf=bc.my(),jl={left:hf.scrollLeft,top:hf.scrollTop},di={left:hf.clientWidth-this.bC.offsetWidth,top:hf.clientHeight-this.bC.offsetHeight};bA.top=Math.max(0,jl.top+di.top/2);bA.left=Math.max(0,jl.left+di.left/2);this.og.nZ(bA)};be.cw=function(bd){cl.cw.call(this);this.oT();this.qc==1?bc.kB(this.zS,"u-icn-32","u-icn-31"):bc.kB(this.zS,"u-icn-31","u-icn-32");this.hI.innerHTML=bd.tip||""};bF.fv.cw=function(){var gJ;return function(bd){clearTimeout(gJ);if(bd.parent===undefined)bd.parent=document.body;if(bd.autoclose===undefined)bd.autoclose=true;bd.clazz="m-sysmsg";!!this.eV&&this.eV.cG();this.eV=this.bL(bd);this.eV.cw(bd);if(bd.autoclose)gJ=setTimeout(this.cQ.bl(this),2e3)}}();bF.fv.cQ=function(){!!this.eV&&this.eV.cQ()}})();
(function(){var bf=NEJ.P,bv=bf("nej.j"),bj=bf("nej.u");if(window["GRef"]&&window["GRef"]=="mail"){bv.bV=bv.bV.dT(function(bg){bd=bg.args[1];bd.query=bd.query||{};if(bj.eT(bd.query))bd.query=bj.iF(bd.query);bd.query.ref="mail"})}})();
(function(){var bf=NEJ.P,cj=NEJ.F,eX=NEJ.R,bW=bf("nej.ut"),bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bU=bf("nm.d"),bF=bf("nm.l"),bz="playlist-tracks_",be;bU.hy({"playlist_my-list":{url:"/api/user/playlist",type:"GET",format:function(cf,bd){this.bdH(cf.playlist);return{total:0,list:eX}},onerror:function(){this.bR("onlisterror")}},"playlist_new-add":{url:"/api/playlist/create",format:function(cf,bd){var iC=cf.playlist;iC.creator=GUser;iC.isHost=!0;iC.typeFlag="playlist";return iC},finaly:function(bg,bd){bn.bR(bU.nI,"listchange",bg)},onmessage:function(){var lo={507:"歌单数量超过上限！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(fG){bF.fv.cw({tip:lo[fG]||"创建失败",type:2})}}()},"playlist_new-del":{url:"/api/playlist/delete",type:"GET",filter:function(bd){bd.id=bd.data.pid},finaly:function(bg,bd){bn.bR(bU.nI,"listchange",bg)},onmessage:function(){var lo={404:"歌单不存在！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(fG){bF.fv.cw({tip:lo[fG]||"删除失败",type:2})}}()},"playlist_fav-add":{type:"GET",url:"/api/playlist/subscribe",filter:function(bd){var gR=bd.ext||{};bd.ext=NEJ.X(gR,bd.data);bd.data={id:bd.ext.id}},format:function(cf,bd){bF.fv.cw({tip:"收藏成功"+(cf.point>0?' 获得<em class="s-fc6">'+cf.point+"积分</em>":"")});var bw=bd.ext;bw.subscribedCount++;return bw},finaly:function(bg,bd){bn.bR(bU.bcu,"listchange",bg);bn.bR(bU.bcu,"itemchange",{attr:"subscribedCount",data:bg.data})},onmessage:function(){var lo={404:"歌单不存在！",501:"歌单已经收藏！",506:"歌单收藏数量超过上限！"};return function(fG){bF.fv.cw({type:2,tip:lo[fG]||"收藏失败，请稍后再试！"})}}()},"playlist_fav-del":{url:"/api/playlist/unsubscribe",type:"GET",filter:function(bd){bd.id=bd.data.id=bd.data.pid},finaly:function(bg,bd){bn.bR(bU.nI,"listchange",bg)},onmessage:function(){var lo={404:"歌单不存在！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(fG){bF.fv.cw({tip:lo[fG],type:2})}}()},"playlist_new-update":{url:["playlist-update-name","playlist-update-tag","playlist-update-desc"],filter:function(bd){var bh=bd.data,Dn={};Dn["playlist-update-name"]={id:bh.id,name:bh.name};Dn["playlist-update-tag"]={id:bh.id,tags:bh.tags.join(";")};Dn["playlist-update-desc"]={id:bh.id,desc:bh.description};bd.data=Dn;bd.ext=bh},format:function(bP,PN,oe,bd){if(bP.code==200&&PN.code==200&&oe.code==200){bd.ext.allSuccess=true;bF.fv.cw({tip:"保存成功"})}else if(bP.code==407||PN.code==407||oe.code==407){bd.ext.allSuccess=false;bF.fv.cw({type:2,tip:"输入内容包含关键字"})}else{bd.ext.allSuccess=false;bF.fv.cw({type:2,tip:"保存失败"})}return this.iE(bd.ext.id)},finaly:function(bg,bd){bn.bR(bU.nI,"listchange",bg)},onmessage:function(fG){bF.fv.cw({type:2,tip:"保存失败"})}},"playlist-update-name":{url:"/api/playlist/update/name",format:function(cf,bd){var bw=this.iE(bd.ext.id);if(cf.code==200)bw.name=bd.ext.name;return cf}},"playlist-update-tag":{url:"/api/playlist/tags/update",format:function(cf,bd){var bw=this.iE(bd.ext.id);if(cf.code==200)bw.tags=bd.ext.tags;return cf}},"playlist-update-desc":{url:"/api/playlist/desc/update",format:function(cf,bd){var bw=this.iE(bd.ext.id);if(cf.code==200)bw.description=bd.ext.description;return cf}},"playlist-update-cover":{url:"/api/playlist/cover/update",filter:function(bd){bd.url=bd.data.url;delete bd.data.url},format:function(cf,bd){bF.fv.cw({tip:"保存成功"});var bw=this.iE(bd.data.id);bw.coverImgUrl=bd.url;bd.ext=bw;return bw},onmessage:function(fG){bF.fv.cw({type:2,tip:"保存失败"})},finaly:function(bg,bd){bn.bR(bU.nI,"itemchange",{attr:"coverImgUrl",data:bd.ext})}},"playlist-upcount":{url:"/api/playlist/update/playcount",type:"GET",format:function(cf,bd){var iC=this.iE(bd.data.id);if(!iC)return;iC.playCount++;bn.bR(bU.nI,"itemchange",{attr:"playcount",data:iC})}}});bU.nI=NEJ.C();be=bU.nI.cg(bU.le);be.cZ=function(){this.dh()};be.boX=function(){var fD=GUser.userId;this.wK({limit:1001,key:"playlist_my-"+fD,data:{offset:0,limit:1001,uid:fD}})};be.bdH=function(bm){var fD=GUser.userId,Sm=[],LY=[];bj.ch(bm,function(bw){bw.typeFlag="playlist";if(bw.creator&&bw.creator.userId==fD){if(bw.specialType==5)bw.name="我喜欢的音乐";bw.isHost=!0;Sm.push(bw)}else{LY.push(bw)}});this.sU("playlist_new-"+fD,Sm);this.sU("playlist_fav-"+fD,LY)};be.boW=function(bh){this.ek("playlist-update-cover",{data:bh})};be.boV=function(){var zH=this.Yp.bG("host-plist");if(zH.length==0){return}if(zH.length==1&&zH[0].trackCount<=0){return}for(var i=0,len=zH.length;i<len;i++){var bw=zH[i];if(bw.trackCount>0)return bw.id}return this.Yp.bG("host-plist")[0].id};be.Ys=function(bE){if(GUser&&GUser.userId>0){this.ek("playlist-upcount",{data:{id:bE}})}};be.HE=function(){if(GUser&&GUser.userId>0){return!0}else{top.login();return!1}};be.boU=function(){return GUser.userId};be.Dz=function(bw){if(bw.userId==GUser.userId&&bw.specialType==5)bw.name="我喜欢的音乐";bn.bR(this.constructor,"itemchange",{data:this.pW(bw)});return bw};bW.jg.bL({element:bU.nI,event:["listchange","playcountchange","itemchange"]})})();
(function(){var bf=NEJ.P,eX=NEJ.R,cj=NEJ.F,cz=NEJ.O,bW=bf("nej.ut"),bn=bf("nej.v"),bj=bf("nej.u"),bk=bf("nm.x"),bU=bf("nm.d"),bF=bf("nm.l"),be,cl;bU.hy({"program-get":{url:"/api/dj/program/detail",format:function(cf){return cf.program}},"program_djradio-list":{type:"GET",url:"/api/dj/program/byradio",filter:function(bd){bd.data.limit=1e3;delete bd.data.id},format:function(cf,bd){return cf.programs}},"program_fav-list":{url:"/api/djprogram/subscribed/paged",format:function(cf,bd){return cf.programs},onerror:"onlisterror"},"program_fav-add":{url:"/api/djprogram/subscribe",filter:function(bd){bd.ext=bd.data;bd.data={id:bd.ext.id};bd.id=bd.data.id},format:function(cf,bd){bF.fv.cw({tip:"收藏成功"});var bw=bd.ext;bw.subscribedCount++;bw.subscribed=!0;return bw},finaly:function(bg,bd){bn.bR(bU.oL,"listchange",bg)},onmessage:function(){var lo={404:"节目不存在！",501:"节目已收藏！"};return function(fG){bF.fv.cw({type:2,tip:lo[fG]||"收藏失败！"})}}()},"program_fav-del":{url:"/api/djprogram/unsubscribe",finaly:function(bg,bd){bn.bR(bU.oL,"listchange",bg)},onmessage:function(){var lo={404:"节目不存在！",502:"没有收藏此节目！"};return function(fG){bk.DA({txt:lo[fG]||"取消收藏失败！"})}}()},"program-update-count":{type:"GET",url:"/api/dj/program/listen",filter:function(bd){var bw=this.iE(bd.data.id)||cz;bd.ext=(bw.listenerCount||0)+1},format:function(cf,bd){var bw=this.iE(bd.data.id);if(!!bw){bw.listenerCount=Math.max(bd.ext,bw.listenerCount||0)}},finaly:function(bg,bd){bn.bR(bU.oL,"itemchange",{attr:"playCount",data:this.iE(bd.data.id)})}},"program-like":{url:"/api/resource/like",filter:function(bd){bd.data={threadId:"A_DJ_1_"+bd.id}},format:function(cf,bd){var bw=bd.ext.data||this.iE(bd.id);bw.liked=true;bw.likedCount++;bd.ext.data=bw;try{top.player.setLike(bw)}catch(e){}return bw},finaly:function(bg,bd){bn.bR(bU.oL,"itemchange",{attr:"likedCount",data:bd.ext.data})}},"program-unlike":{url:"/api/resource/unlike",filter:function(bd){bd.data={threadId:"A_DJ_1_"+bd.id}},format:function(cf,bd){var bw=bd.ext.data||this.iE(bd.id);bw.liked=false;bw.likedCount--;bd.ext.data=bw;try{top.player.setLike(bw)}catch(e){}return bw},finaly:function(bg,bd){bn.bR(bU.oL,"itemchange",{attr:"likedCount",data:bd.ext.data})}}});bU.oL=NEJ.C();be=bU.oL.cg(bU.le);be.boT=function(){var fD=GUser.userId;this.wK({limit:1001,key:"program_fav-"+fD,data:{offset:0,limit:1e3,uid:fD}})};be.boS=function(iI){var pd=iI[this.od];bk.Wk(4,function(bI){bI.sU("track_program-"+pd,iI.songs)});delete iI.songs;var fZ=iI.mainSong;bk.Wk(4,function(bI){bI.sU("track_program_main-"+pd,!fZ?[]:[fZ])});iI.mainSong=(fZ||cz).id};be.boR=function(bE){var iI=this.iE(bE),fD=localCache.kX("host.profile.userId");return!!iI&&iI.dj.userId==fD};be.boQ=function(bE){return!1};be.Dz=function(bw){bn.bR(this.constructor,"itemchange",{attr:"detail",data:this.pW(bw)});return bw};be.Ys=function(bE){this.ek("program-update-count",{data:{id:bE}})};bk.boP=function(bd){var bI=bU.oL.bL({onitemadd:function(){(bd.onsuccess||cj)()},onerror:function(){(bd.onerror||cj)()}});if(bd.data.liked){bI.ZE(bd.data)}else{bI.RK(bd.data)}};be.RK=function(iI){if(!bk.RO())return;var gm={ext:{}};if(bj.ip(iI)){gm.id=iI.id;gm.ext.data=iI}else{gm.id=iI}this.ek("program-like",gm)};be.ZE=function(iI){if(!bk.RO())return;var gm={ext:{}};if(bj.ip(iI)){gm.id=iI.id;gm.ext.data=iI}else{gm.id=iI}this.ek("program-unlike",gm)};bW.jg.bL({element:bU.oL,event:["listchange","itemchange"]})})();
(function(){var bf=NEJ.P,cj=NEJ.F,eX=NEJ.R,bW=bf("nej.ut"),bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bU=bf("nm.d"),bF=bf("nm.l"),bk=bf("nm.x"),bz="playlist-tracks_",bk=bf("nm.x"),be;bU.hy({"track-get":{url:"/api/v3/song/detail",filter:function(bd){bd.data.c=JSON.stringify([{id:bd.data.id}])},format:function(cf,bd){var dp=bk.zC(cf.songs[0]);dp.privilege=cf.privileges[0];return dp}},"track_playlist-list":{url:"/api/v3/playlist/detail",filter:function(bd){bd.data.n=1e3},format:function(cf,bd){var zB=[];this.DE.Dz(cf.playlist);bj.ch(cf.playlist.tracks,function(fZ,bs){var Sr=bk.zC(fZ);Sr.privilege=cf.privileges[bs];zB.push(Sr)},this);return zB}},"track_album-list":{url:"/api/v1/album/{id}",format:function(cf,bd){var zB=[];bj.ch(cf.songs,function(dp){zB.push(bk.zC(dp))});return zB}},"track_playlist-add":{url:"/api/playlist/manipulate/tracks",filter:function(bd){var cm={},bh=bd.data,beL=this.kr(bd.key)||[];rz=[];bj.ch(beL,function(fZ){var bE=bj.ip(fZ)?fZ.id:fZ;cm[bE]=true});bd.ext=[];bj.ch(bh.tracks,function(fZ){var bE=bj.ip(fZ)?fZ.id:fZ;if(!cm[bE]){rz.push(bE);cm[bE]=true;bd.ext.push(fZ)}});bh.trackIds=JSON.stringify(rz);bh.op="add";if(!rz.length){bd.value={code:502}}},format:function(cf,bd){bF.fv.cw({tip:"已添加至歌单"});var iC=this.DE.iE(bd.data.pid);if(!!cf.coverImgUrl)iC.coverImgUrl=cf.coverImgUrl;bj.jT(bd.ext,function(fZ){this.yf(bd,bj.ip(fZ)?fZ:null);if(!!iC)iC.trackCount++},this);bn.bR(bU.nI,"itemchange",{data:iC||{},cmd:"add"});this.bR("onaddsuccess");return null},finaly:function(bg,bd){bn.bR(bU.zz,"listchange",{key:bd.key,action:"refresh"});var pd=bd.data.pid,dK=this.oB(bd.key)},onmessage:function(){var lo={502:"歌曲已存在！"};return function(fG){setTimeout(function(){bF.fv.cw({tip:lo[fG]||"添加失败，请稍后再试！",type:2})},0)}}()},"track_playlist-del":{url:"/api/playlist/manipulate/tracks",filter:function(bd){var bh=bd.data;bd.ext=bh.trackIds;bh.trackIds=JSON.stringify(bh.trackIds);bh.op="del"},format:function(cf,bd){var iC=this.DE.iE(bd.data.pid);bj.ch(bd.ext,function(bE){this.OS({id:bE,key:"track_playlist-"+bd.data.pid},!0);if(!!iC)iC.trackCount=Math.max(0,iC.trackCount-1)},this);bn.bR(bU.nI,"itemchange",{data:iC||{},cmd:"del"});return null},finaly:function(bg,bd){bn.bR(bU.zz,"listchange",{key:bd.key,action:"refresh"})},onmessage:function(fG){bk.DA({text:"歌曲删除失败！"})}},"track_program-list":{url:"/api/dj/program/detail",format:function(cf,bd){return this.bhB.Dz(cf.program).songs},onerror:"onlisterror"},"track_listen_record-list":{url:"/api/v1/play/record",format:function(cf,bd){var bm=[];if(bd.data.type==-1){if(cf.weekData&&cf.weekData.length){bd.data.type=1}else{bd.data.type=0}}if(bd.data.type==1){bm=this.Ug(cf.weekData)}else{bm=this.Ug(cf.allData)}return bm},onerror:"onlisterror"},"track_day-list":{url:"/api/v1/discovery/recommend/songs",format:function(cf){var ol=[];bj.ch(cf.recommend,function(dp,bs){ol.push({action:"recommendimpress",json:{alg:dp.alg,scene:"user-song",position:bs,id:dp.id}})});this.bii.Wj(ol);return cf.recommend},onerror:"onlisterror"},"track_lyric-get":{type:"GET",url:"/api/song/lyric",filter:function(bd){bd.data.lv=0;bd.data.tv=0},format:function(bo,bd){return bo},onload:"onlyricload",onerror:"onlyricerror"}});bU.zz=NEJ.C();be=bU.zz.cg(bU.le);be.cZ=function(){this.dh();this.DE=bU.nI.bL();this.bhB=bU.oL.bL();this.bii=bU.DZ.bL()};be.Ug=function(bm){var bo=[],cs=0;bj.ch(bm,function(bw,bs){var dp=bk.zC(bw.song);if(bs==0){cs=bw.score}dp.max=cs;dp.playCount=bw.playCount;dp.score=bw.score;bo.push(dp)});return bo};bW.jg.bL({element:bU.zz,event:["listchange"]})})();
(function(){var bf=NEJ.P,eo=bf("nej.g"),bv=bf("nej.j"),bj=bf("nej.u"),ni=bf("nm.x.ek");ni.emj={"色":"00e0b","流感":"509f6","这边":"259df","弱":"8642d","嘴唇":"bc356","亲":"62901","开心":"477df","呲牙":"22677","憨笑":"ec152","猫":"b5ff6","皱眉":"8ace6","幽灵":"15bb7","蛋糕":"b7251","发怒":"52b3a","大哭":"b17a8","兔子":"76aea","星星":"8a5aa","钟情":"76d2e","牵手":"41762","公鸡":"9ec4e","爱意":"e341f","禁止":"56135","狗":"fccf6","亲亲":"95280","叉":"104e0","礼物":"312ec","晕":"bda92","呆":"557c9","生病":"38701","钻石":"14af6","拜":"c9d05","怒":"c4f7f","示爱":"0c368","汗":"5b7a4","小鸡":"6bee2","痛苦":"55932","撇嘴":"575cc","惶恐":"e10b4","口罩":"24d81","吐舌":"3cfe4","心碎":"875d3","生气":"e8204","可爱":"7b97d","鬼脸":"def52","跳舞":"741d5","男孩":"46b8e","奸笑":"289dc","猪":"6935b","圈":"3ece0","便便":"462db","外星":"0a22b","圣诞":"8e7","流泪":"01000","强":"1","爱心":"0CoJU","女孩":"m6Qyw","惊恐":"8W8ju","大笑":"d"};ni.md=["色","流感","这边","弱","嘴唇","亲","开心","呲牙","憨笑","猫","皱眉","幽灵","蛋糕","发怒","大哭","兔子","星星","钟情","牵手","公鸡","爱意","禁止","狗","亲亲","叉","礼物","晕","呆","生病","钻石","拜","怒","示爱","汗","小鸡","痛苦","撇嘴","惶恐","口罩","吐舌","心碎","生气","可爱","鬼脸","跳舞","男孩","奸笑","猪","圈","便便","外星","圣诞"]})();
var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-8*(k%4)&255)<<24-8*((j+k)%4);else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-8*(j%4)&255;e.push((k>>>4).toString(16));e.push((k&15).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,2),16)<<24-4*(j%8);return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-8*(j%4)&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(a.charCodeAt(j)&255)<<24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this.bh=new r.init;this.yu=0},pe:function(a){"string"==typeof a&&(a=x.parse(a));this.bh.concat(a);this.yu+=a.sigBytes},kh:function(a){var c=this.bh,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b=a?u.ceil(b):u.max((b|0)-this.yl,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q<a;q+=k)this.yK(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);a.bh=this.bh.clone();return a},yl:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this.tj()},update:function(a){this.pe(a);this.kh();return this},finalize:function(a){a&&this.pe(a);return this.oQ()},blockSize:16,th:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},GE:function(a){return function(b,e){return(new n.HMAC.init(a,e)).finalize(b)}}});var n=d.algo={};return d}(Math);(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this.cm;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this.cm,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},cm:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({tj:function(){this.fU=new w.init([1732584193,4023233417,2562383102,271733878])},yK:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this.fU.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},oQ:function(){var b=this.bh,n=b.words,a=8*this.yu,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this.kh();b=this.fU;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b.fU=this.fU.clone();return b}});t.MD5=v.th(r);t.HmacMD5=v.GE(r)})(Math);(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,l)}})();CryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this.tl,e,a)},createDecryptor:function(e,a){return this.create(this.GD,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this.zl=e;this.bz=a;this.reset()},reset:function(){t.reset.call(this);this.tj()},process:function(e){this.pe(e);return this.kh()},finalize:function(e){e&&this.pe(e);return this.oQ()},keySize:4,ivSize:4,tl:1,GD:2,th:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({oQ:function(){return this.kh(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this.zr;c?this.zr=u:c=this.zF;for(var d=0;d<b;d++)e[a+d]^=c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this.zG=e;this.zr=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this.zG,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this.zF=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this.zG,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,e,a,c);this.zF=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this.zl==this.tl)var c=a.createEncryptor;else c=a.createDecryptor,this.yl=1;this.fi=c.call(a,this,b&&b.words)},yK:function(a,b){this.fi.processBlock(a,b)},oQ:function(){var a=this.cfg.padding;if(this.zl==this.tl){a.pad(this.bh,this.blockSize);var b=this.kh(!0)}else b=this.kh(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this.sz(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},sz:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,b.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this.sz(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,16,32,64,128,27,54],d=d.AES=p.extend({tj:function(){for(var a=this.bz,c=a.words,d=a.sigBytes/4,a=4*((this.GC=d+6)+1),e=this.GB=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this.GA=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this.zI(a,b,this.GB,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this.zI(a,c,this.GA,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},zI:function(a,b,c,d,e,j,l,f){for(var m=this.GC,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p.th(d)})();
function RSAKeyPair(a,b,c){this.e=biFromHex(a),this.d=biFromHex(b),this.m=biFromHex(c),this.chunkSize=2*biHighIndex(this.m),this.radix=16,this.barrett=new BarrettMu(this.m)}function twoDigit(a){return(10>a?"0":"")+String(a)}function encryptedString(a,b){for(var f,g,h,i,j,k,l,c=new Array,d=b.length,e=0;d>e;)c[e]=b.charCodeAt(e),e++;for(;0!=c.length%a.chunkSize;)c[e++]=0;for(f=c.length,g="",e=0;f>e;e+=a.chunkSize){for(j=new BigInt,h=0,i=e;i<e+a.chunkSize;++h)j.digits[h]=c[i++],j.digits[h]+=c[i++]<<8;k=a.barrett.powMod(j,a.e),l=16==a.radix?biToHex(k):biToString(k,a.radix),g+=l+" "}return g.substring(0,g.length-1)}function decryptedString(a,b){var e,f,g,h,c=b.split(" "),d="";for(e=0;e<c.length;++e)for(h=16==a.radix?biFromHex(c[e]):biFromString(c[e],a.radix),g=a.barrett.powMod(h,a.d),f=0;f<=biHighIndex(g);++f)d+=String.fromCharCode(255&g.digits[f],g.digits[f]>>8);return 0==d.charCodeAt(d.length-1)&&(d=d.substring(0,d.length-1)),d}function setMaxDigits(a){maxDigits=a,ZERO_ARRAY=new Array(maxDigits);for(var b=0;b<ZERO_ARRAY.length;b++)ZERO_ARRAY[b]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function BigInt(a){this.digits="boolean"==typeof a&&1==a?null:ZERO_ARRAY.slice(0),this.isNeg=!1}function biFromDecimal(a){for(var d,e,f,b="-"==a.charAt(0),c=b?1:0;c<a.length&&"0"==a.charAt(c);)++c;if(c==a.length)d=new BigInt;else{for(e=a.length-c,f=e%dpl10,0==f&&(f=dpl10),d=biFromNumber(Number(a.substr(c,f))),c+=f;c<a.length;)d=biAdd(biMultiply(d,lr10),biFromNumber(Number(a.substr(c,dpl10)))),c+=dpl10;d.isNeg=b}return d}function biCopy(a){var b=new BigInt(!0);return b.digits=a.digits.slice(0),b.isNeg=a.isNeg,b}function biFromNumber(a){var c,b=new BigInt;for(b.isNeg=0>a,a=Math.abs(a),c=0;a>0;)b.digits[c++]=a&maxDigitVal,a>>=biRadixBits;return b}function reverseStr(a){var c,b="";for(c=a.length-1;c>-1;--c)b+=a.charAt(c);return b}function biToString(a,b){var d,e,c=new BigInt;for(c.digits[0]=b,d=biDivideModulo(a,c),e=hexatrigesimalToChar[d[1].digits[0]];1==biCompare(d[0],bigZero);)d=biDivideModulo(d[0],c),digit=d[1].digits[0],e+=hexatrigesimalToChar[d[1].digits[0]];return(a.isNeg?"-":"")+reverseStr(e)}function biToDecimal(a){var c,d,b=new BigInt;for(b.digits[0]=10,c=biDivideModulo(a,b),d=String(c[1].digits[0]);1==biCompare(c[0],bigZero);)c=biDivideModulo(c[0],b),d+=String(c[1].digits[0]);return(a.isNeg?"-":"")+reverseStr(d)}function digitToHex(a){var b=15,c="";for(i=0;4>i;++i)c+=hexToChar[a&b],a>>>=4;return reverseStr(c)}function biToHex(a){var d,b="";for(biHighIndex(a),d=biHighIndex(a);d>-1;--d)b+=digitToHex(a.digits[d]);return b}function charToHex(a){var h,b=48,c=b+9,d=97,e=d+25,f=65,g=90;return h=a>=b&&c>=a?a-b:a>=f&&g>=a?10+a-f:a>=d&&e>=a?10+a-d:0}function hexToDigit(a){var d,b=0,c=Math.min(a.length,4);for(d=0;c>d;++d)b<<=4,b|=charToHex(a.charCodeAt(d));return b}function biFromHex(a){var d,e,b=new BigInt,c=a.length;for(d=c,e=0;d>0;d-=4,++e)b.digits[e]=hexToDigit(a.substr(Math.max(d-4,0),Math.min(d,4)));return b}function biFromString(a,b){var g,h,i,j,c="-"==a.charAt(0),d=c?1:0,e=new BigInt,f=new BigInt;for(f.digits[0]=1,g=a.length-1;g>=d;g--)h=a.charCodeAt(g),i=charToHex(h),j=biMultiplyDigit(f,i),e=biAdd(e,j),f=biMultiplyDigit(f,b);return e.isNeg=c,e}function biDump(a){return(a.isNeg?"-":"")+a.digits.join(" ")}function biAdd(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biSubtract(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,d=0,f=0;f<a.digits.length;++f)e=a.digits[f]+b.digits[f]+d,c.digits[f]=65535&e,d=Number(e>=biRadix);c.isNeg=a.isNeg}return c}function biSubtract(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biAdd(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,e=0,f=0;f<a.digits.length;++f)d=a.digits[f]-b.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);if(-1==e){for(e=0,f=0;f<a.digits.length;++f)d=0-c.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);c.isNeg=!a.isNeg}else c.isNeg=a.isNeg}return c}function biHighIndex(a){for(var b=a.digits.length-1;b>0&&0==a.digits[b];)--b;return b}function biNumBits(a){var e,b=biHighIndex(a),c=a.digits[b],d=(b+1)*bitsPerDigit;for(e=d;e>d-bitsPerDigit&&0==(32768&c);--e)c<<=1;return e}function biMultiply(a,b){var d,h,i,k,c=new BigInt,e=biHighIndex(a),f=biHighIndex(b);for(k=0;f>=k;++k){for(d=0,i=k,j=0;e>=j;++j,++i)h=c.digits[i]+a.digits[j]*b.digits[k]+d,c.digits[i]=h&maxDigitVal,d=h>>>biRadixBits;c.digits[k+e+1]=d}return c.isNeg=a.isNeg!=b.isNeg,c}function biMultiplyDigit(a,b){var c,d,e,f;for(result=new BigInt,c=biHighIndex(a),d=0,f=0;c>=f;++f)e=result.digits[f]+a.digits[f]*b+d,result.digits[f]=e&maxDigitVal,d=e>>>biRadixBits;return result.digits[1+c]=d,result}function arrayCopy(a,b,c,d,e){var g,h,f=Math.min(b+e,a.length);for(g=b,h=d;f>g;++g,++h)c[h]=a[g]}function biShiftLeft(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,0,d.digits,c,d.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=d.digits.length-1,h=g-1;g>0;--g,--h)d.digits[g]=d.digits[g]<<e&maxDigitVal|(d.digits[h]&highBitMasks[e])>>>f;return d.digits[0]=d.digits[g]<<e&maxDigitVal,d.isNeg=a.isNeg,d}function biShiftRight(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,c,d.digits,0,a.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=0,h=g+1;g<d.digits.length-1;++g,++h)d.digits[g]=d.digits[g]>>>e|(d.digits[h]&lowBitMasks[e])<<f;return d.digits[d.digits.length-1]>>>=e,d.isNeg=a.isNeg,d}function biMultiplyByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,b,c.digits.length-b),c}function biDivideByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,b,c.digits,0,c.digits.length-b),c}function biModuloByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,0,b),c}function biCompare(a,b){if(a.isNeg!=b.isNeg)return 1-2*Number(a.isNeg);for(var c=a.digits.length-1;c>=0;--c)if(a.digits[c]!=b.digits[c])return a.isNeg?1-2*Number(a.digits[c]>b.digits[c]):1-2*Number(a.digits[c]<b.digits[c]);return 0}function biDivideModulo(a,b){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,c=biNumBits(a),d=biNumBits(b),e=b.isNeg;if(d>c)return a.isNeg?(f=biCopy(bigOne),f.isNeg=!b.isNeg,a.isNeg=!1,b.isNeg=!1,g=biSubtract(b,a),a.isNeg=!0,b.isNeg=e):(f=new BigInt,g=biCopy(a)),new Array(f,g);for(f=new BigInt,g=a,h=Math.ceil(d/bitsPerDigit)-1,i=0;b.digits[h]<biHalfRadix;)b=biShiftLeft(b,1),++i,++d,h=Math.ceil(d/bitsPerDigit)-1;for(g=biShiftLeft(g,i),c+=i,j=Math.ceil(c/bitsPerDigit)-1,k=biMultiplyByRadixPower(b,j-h);-1!=biCompare(g,k);)++f.digits[j-h],g=biSubtract(g,k);for(l=j;l>h;--l){for(m=l>=g.digits.length?0:g.digits[l],n=l-1>=g.digits.length?0:g.digits[l-1],o=l-2>=g.digits.length?0:g.digits[l-2],p=h>=b.digits.length?0:b.digits[h],q=h-1>=b.digits.length?0:b.digits[h-1],f.digits[l-h-1]=m==p?maxDigitVal:Math.floor((m*biRadix+n)/p),r=f.digits[l-h-1]*(p*biRadix+q),s=m*biRadixSquared+(n*biRadix+o);r>s;)--f.digits[l-h-1],r=f.digits[l-h-1]*(p*biRadix|q),s=m*biRadix*biRadix+(n*biRadix+o);k=biMultiplyByRadixPower(b,l-h-1),g=biSubtract(g,biMultiplyDigit(k,f.digits[l-h-1])),g.isNeg&&(g=biAdd(g,k),--f.digits[l-h-1])}return g=biShiftRight(g,i),f.isNeg=a.isNeg!=e,a.isNeg&&(f=e?biAdd(f,bigOne):biSubtract(f,bigOne),b=biShiftRight(b,i),g=biSubtract(b,g)),0==g.digits[0]&&0==biHighIndex(g)&&(g.isNeg=!1),new Array(f,g)}function biDivide(a,b){return biDivideModulo(a,b)[0]}function biModulo(a,b){return biDivideModulo(a,b)[1]}function biMultiplyMod(a,b,c){return biModulo(biMultiply(a,b),c)}function biPow(a,b){for(var c=bigOne,d=a;;){if(0!=(1&b)&&(c=biMultiply(c,d)),b>>=1,0==b)break;d=biMultiply(d,d)}return c}function biPowMod(a,b,c){for(var d=bigOne,e=a,f=b;;){if(0!=(1&f.digits[0])&&(d=biMultiplyMod(d,e,c)),f=biShiftRight(f,1),0==f.digits[0]&&0==biHighIndex(f))break;e=biMultiplyMod(e,e,c)}return d}function BarrettMu(a){this.modulus=biCopy(a),this.k=biHighIndex(this.modulus)+1;var b=new BigInt;b.digits[2*this.k]=1,this.mu=biDivide(b,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod}function BarrettMu_modulo(a){var i,b=biDivideByRadixPower(a,this.k-1),c=biMultiply(b,this.mu),d=biDivideByRadixPower(c,this.k+1),e=biModuloByRadixPower(a,this.k+1),f=biMultiply(d,this.modulus),g=biModuloByRadixPower(f,this.k+1),h=biSubtract(e,g);for(h.isNeg&&(h=biAdd(h,this.bkplus1)),i=biCompare(h,this.modulus)>=0;i;)h=biSubtract(h,this.modulus),i=biCompare(h,this.modulus)>=0;return h}function BarrettMu_multiplyMod(a,b){var c=biMultiply(a,b);return this.modulo(c)}function BarrettMu_powMod(a,b){var d,e,c=new BigInt;for(c.digits[0]=1,d=a,e=b;;){if(0!=(1&e.digits[0])&&(c=this.multiplyMod(c,d)),e=biShiftRight(e,1),0==e.digits[0]&&0==biHighIndex(e))break;d=this.multiplyMod(d,d)}return c}var maxDigits,ZERO_ARRAY,bigZero,bigOne,dpl10,lr10,hexatrigesimalToChar,hexToChar,highBitMasks,lowBitMasks,biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998;setMaxDigits(20),dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),hexToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),highBitMasks=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),lowBitMasks=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);
!function(){function a(a){var d,e,b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c="";for(d=0;a>d;d+=1)e=Math.random()*b.length,e=Math.floor(e),c+=b.charAt(e);return c}function b(a,b){var c=CryptoJS.enc.Utf8.parse(b),d=CryptoJS.enc.Utf8.parse("0102030405060708"),e=CryptoJS.enc.Utf8.parse(a),f=CryptoJS.AES.encrypt(e,c,{iv:d,mode:CryptoJS.mode.CBC});return f.toString()}function c(a,b,c){var d,e;return setMaxDigits(131),d=new RSAKeyPair(b,"",c),e=encryptedString(d,a)}function d(d,e,f,g){var h={},i=a(16);return h.encText=b(d,g),h.encText=b(h.encText,i),h.encSecKey=c(i,e,f),h}function e(a,b,d,e){var f={};return f.encText=c(a+e,b,d),f}window.asrsea=d,window.ecnonasr=e}();
(function(){var bf=NEJ.P,eo=bf("nej.g"),bv=bf("nej.j"),bj=bf("nej.u"),ni=bf("nm.x.ek"),bk=bf("nm.x");if(bv.bV.redefine||!window.GEnc)return;var ty=function(Gz){var bo=[];bj.ch(Gz,function(Gy){bo.push(ni.emj[Gy])});return bo.join("")};var Gx=bv.bV;bv.bV=function(bD,bd){var bh={},bd=NEJ.X({},bd),lA=bD.indexOf("?");if(/(^|\.com)\/api/.test(bD)&&!(bd.headers&&bd.headers[eo.oM]==eo.sN)&&!bd.noEnc){if(lA!=-1){bh=bj.iF(bD.substring(lA+1));bD=bD.substring(0,lA)}if(bd.query){bh=NEJ.X(bh,bj.eT(bd.query)?bj.iF(bd.query):bd.query)}if(bd.data){bh=NEJ.X(bh,bj.eT(bd.data)?bj.iF(bd.data):bd.data)}bh["csrf_token"]=bv.CZ("__csrf");bD=bD.replace("api","weapi");bd.method="post";delete bd.query;var zO=window.asrsea(JSON.stringify(bh),ty(["流泪","强"]),ty(ni.md),ty(["爱心","女孩","惊恐","大笑"]));bd.data=bj.dv({params:zO.encText,encSecKey:zO.encSecKey})}Gx(bD,bd)};bv.bV.redefine=true})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),eU=bf("nej.p"),bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),Qu=bf("nm.u"),bk=bf("nm.x"),bU=bf("nm.d"),bF=bf("nm.l"),biv="http://s1.music.126.net/style/web2/emt/emoji_{ID}.png",bh={"大笑":"86","可爱":"85","憨笑":"359","色":"95","亲亲":"363","惊恐":"96","流泪":"356","亲":"362","呆":"352","哀伤":"342","呲牙":"343","吐舌":"348","撇嘴":"353","怒":"361","奸笑":"341","汗":"97","痛苦":"346","惶恐":"354","生病":"350","口罩":"351","大哭":"357","晕":"355","发怒":"115","开心":"360","鬼脸":"94","皱眉":"87","流感":"358","爱心":"33","心碎":"34","钟情":"303","星星":"309","生气":"314","便便":"89","强":"13","弱":"372","拜":"14","牵手":"379","跳舞":"380","禁止":"374","这边":"262","爱意":"106","示爱":"376","嘴唇":"367","狗":"81","猫":"78","猪":"100","兔子":"459","小鸡":"450","公鸡":"461","幽灵":"116","圣诞":"411","外星":"101","钻石":"52","礼物":"107","男孩":"0","女孩":"1","蛋糕":"337",18:"186","圈":"312","叉":"313"},biP=function(){if(bn&&bn.bR){bn.dispatchEventalias=bn.bR}};biP();bk.boN=function(fZ){if(!fZ||fZ.copyrightId===undefined||!!fZ.program)return false;if(window.GAbroad){fZ.fee=0;return true}if(fZ.status<0)return true;var zy;if(typeof GCopyrights!=="undefined")zy=GCopyrights;try{if(!zy&&!!top.GCopyrights)zy=top.GCopyrights}catch(e){}if(zy){var bs=bj.hj(zy,fZ.copyrightId);if(bs>=0)return true}return false};bk.boM=function(){var DF=/^\/m\/(song|album|artist|playlist|dj|search)\?/,qt={2:"artist",13:"playlist",17:"dj",19:"album",18:"song",31:"toplist",32:"searchsong",33:"searchlyric",34:"event",70:"djradio",24:"day",50:"record"},Xq={song:"单曲",album:"专辑",artist:"歌手",playlist:"歌单",dj:"电台节目",searchsong:"单曲搜索",searchlyric:"歌词搜索",toplist:"榜单",event:"动态",djradio:"电台",day:"每日歌曲推荐",record:"听歌排行榜"};var XG=function(bz,bh,zx){switch(bz){case"event":bh=bh.split("|");return"/event?id="+bh[0]+"&uid="+bh[1];case"searchsong":case"searchlyric":var bB=bz=="searchsong"?1:1006;return"/search/m/?s="+encodeURIComponent(bh)+"&type="+bB;case"toplist":return"/discover/toplist?id="+bh+"&_hash=songlist-"+zx;case"day":return"/discover/recommend/taste"+"?_hash=songlist-"+zx;;case"record":bh=bh.split("|");return"/user/songs/rank?id="+bh[0]+"&cat="+bh[1];break;default:return"/"+bz+"?id="+bh+"&_hash=songlist-"+zx}};return function(eh,zx){if(!eh)return null;var qT=eh.fid||(eh.type!=18?eh.type:null),Mk=eh.fdata||eh.rid,Mr=eh.page||eh.fhref;var bz=qt[qT];if(!bz){var Ms=(Mr||"").match(DF);if(Ms)bz=Ms[1]}if(!bz)return null;return{title:Xq[bz],link:!qt[qT]?Mr:XG(bz,Mk,zx),fid:qT,fdata:Mk}}}();bk.boL=function(iP){var rN=iP;if(typeof GUser!=="undefined"&&GUser.userId>0)rN=GUser;return rN};bk.RO=function(){if(typeof GUser!=="undefined"&&GUser.userId>0){return true}else{top.login();return false}};bk.boK=function(){var DF=/#(.*?)$/;return function(pQ){var gU=pQ===false?location:top.location;return DF.test(gU.href)?RegExp.$1:""}}();bk.boJ=function(){var Nt=bk.beZ().supported,NT=bc.jw("audio"),NZ=NT.canPlayType&&NT.canPlayType("audio/mpeg");if(eU.AC.mac){if(NZ)return 2;if(Nt)return 1;return 0}else{if(Nt)return 1;if(NZ)return 2;return 0}};bk.beZ=function(){var fj,DJ=!1,DK="";if(eU.gQ.browser=="ie"){try{fj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){fj=null}if(fj){DJ=!0;DK=fj.GetVariable("$version")}}else{if(navigator.plugins&&navigator.plugins.length>0){fj=navigator.plugins["Shockwave Flash"];if(fj){DJ=!0;DK=fj.description}}}return{supported:DJ,version:DK}};bk.boI=function(){return"网易云音乐"};bk.bhQ=function(){return bh};bk.OQ=function(dN){var bE=bh[dN];return bE==null?"":biv.replace("{ID}",bE)};bk.DL=function(cq,dZ,bij){if(!cq)return"";if(!!bij){cq=bk.bio(cq)}return bk.DM(bk.biA(cq,dZ))};bk.boH=function(){var DN={AT:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))/g,LINK:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|((http[s]{0,1}):\/\/[\-a-zA-Z0-9\.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(\/[a-zA-Z0-9\\\.\-~!@#$%\^&\*\+\?:_\/=<>]*)?)/g,ACT_NOLINK:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|(#[^\[\]\/\\\#\r\n]+?#)/g,ACT:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|((http[s]{0,1}):\/\/[\-a-zA-Z0-9\.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(\/[a-zA-Z0-9\\\.\-~!@#$%\^&\*\+\?:_\/=<>]*)?)|(#[^\[\]\/\\\#\r\n]+?#)/g,LING:/\n/g,BLANK:/\s/g,MLINE:/([ \f\r\t\v]*\n){2,}/g},DO={LINK:'<a href="${url}" class="${klass}">${value}</a>',AT:'<a href="${url}" class="${klass}">@${value}</a>',ACT:'<a href="javascript:;" class="${klass}" data-title="${value}" data-action="activity">${value}</a>'},VN={r:/\<|\>|\&lt;|\&gt;|\&|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","&lt;":"&lt;","&gt;":"&gt;"},Wb=["AT","LINK","ACT_NOLINK","ACT"];var Wg=function(eZ,DP){eZ=CR(eZ);if(!!DP){eZ=eZ.replace(DN.MLINE,"\n\n").replace(DN.LING,"</br>")}eZ=bk.DM(eZ);return eZ};var CR=function(cq){return bj.zh(VN,cq)};return function(eZ,bd,eg){bd=bd||{};eg=eg||{};eg.actHash={};var Wn=!!bd.parseLink,Wx=!!bd.parseAct,Wz=bd.linkTpl||DO.LINK,WI=bd.atTpl||DO.AT,WY=bd.actTpl||DO.ACT,DP=!!bd.keepSpace,DQ=bd.linkKlass||"s-fc7";boG=bd.actBiJson||"";if(!eZ)return"";eZ=eZ.trim().replace(/&amp;/g,"&").replace(/&nbsp;/g," ");var QM=Wb[Wn+2*Wx],dq=DN[QM],bX=null,tN=null,boF=0,boE="",boD="";var qX=[];dq.lastIndex=0;while(bX=dq.exec(eZ)){var lU={html:"",before:bX.index-1,after:bX.index+bX[0].length};if(bX[1]){var tN=bX[2].replace(/[^\x00-\xff]/g,"**");if(tN.length<4||tN.length>32){}else{var zn=bc.mi(WI);lU.html=bc.fe(zn,{value:CR(bX[2]),url:encodeURI("/user/home?nickname="+bX[2]),klass:DQ});qX.push(lU)}}else if(bX.length>8&&bX[4]){var zn=bc.mi(Wz);lU.html=bc.fe(zn,{value:CR(bX[4]),url:encodeURI(bX[4]),klass:DQ});qX.push(lU)}else{var RD=QM=="ACT_NOLINK"?4:9;var zn=bc.mi(WY);lU.html=bc.fe(zn,{value:CR(bX[RD]),klass:DQ});qX.push(lU);eg.actHash[bX[RD].slice(1,-1)]=true}}var bak=qX.length,iP={before:eZ.length-1,after:0},DR="";for(var i=0;i<=bak;i++){var kO,hw;kO=(qX[i-1]||iP).after;hw=(qX[i]||iP).before;if(hw>=kO&&kO>=0&&hw<=eZ.length-1){DR+=Wg(eZ.substring(kO,hw+1),DP)}if(qX[i]){DR+=qX[i].html}}return DR}}();bk.bio=function(){var dq=new RegExp("(http[s]{0,1})://[-a-zA-Z0-9.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(/[a-zA-Z0-9\\.\\-~!@#$%^&*+?:_/=<>]*)?","g");return function(cq){return(cq||"").replace(/&amp;/g,"&").replace(/&nbsp;/g," ").replace(dq,function($0,$1){return"<a href="+$0+' class="link u-link"><i class="u-dicn u-dicn-28"></i>网页链接</a>'})}}();bk.biA=function(){var dq=/@([a-zA-Z0-9_\-\u4E00-\u9FA5]+)/g;var mt=function(tN,dZ){return'<a href="/user/home?nickname='+encodeURIComponent(tN)+'" class="'+(dZ||"")+'">@'+tN+"</a>"};return function(cq,dZ){return(cq||"").replace(dq,function($0,$1){return mt($1,dZ)})}}();bk.DM=function(){var dq=/\[(.*?)\]/g;return function(cq){return(cq||"").replace(dq,function($1,$2){var bD=bk.OQ($2);return!bD?$1:'<img src="'+bD+'"/>'})}}();bk.Lz=function(bu,dZ){bc.dg(bu,dZ)?bc.bQ(bu,dZ):bc.bS(bu,dZ)};bk.PE=function(cC,hM){cC=bc.bG(cC);hM=bc.bG(hM);if(!cC||!hM)return!1;for(hM=hM.parentNode;!!hM&&hM!=cC;hM=hM.parentNode);return hM==cC};bk.oK=function(){var zJ=function(dW){return(dW<10?"0":"")+dW};return function(ny){ny=parseInt(ny)||0;if(!ny)return"00:00";var Gm=Math.floor(ny%60),Gl=Math.floor(ny/60);return zJ(Gl)+":"+zJ(Gm)}}();bk.CI=function(kK,qU){if(!kK||kK.length==0)return"";qU=qU||"/";var bX=[];for(var i=kK.length-1;i>=0;i--){bX.unshift(kK[i].name)}return bX.join(qU)};bk.boC=function(){var RU=function(tP,dZ,cC){if(!tP||!tP.name)return"";if(!tP.id)return'<span class="'+dZ+'">'+bj.hd(tP.name)+"</span>";return"<a"+(cC?' target="_blank"':"")+' class="'+dZ+'" href="/artist?id='+tP.id+'" hidefocus="true">'+bj.hd(tP.name)+"</a>"};return function(kK,bP,qU,cC){if(!kK||!kK.length)return"";qU=qU||"/";bP=bP||"";var gE=[];for(var i=0,bm=[],CE=[],kL;i<kK.length;++i){gE.push(kK[i].name);if(!kK[i]||kK[i].id<=0){CE.push(kK[i]);continue}if(bj.eH(bP)){kL=bP(kK[i])}else{kL=RU(kK[i],bP,cC)}!!kL&&bm.push(kL)}for(var i=0,kL;i<CE.length;++i){if(bj.eH(bP)){kL=bP(CE[i])}else{kL=RU(CE[i],bP,cC)}!!kL&&bm.push(kL)}return'<span title="'+gE.join(qU)+'">'+bm.join(qU)+"</span>"}}();bk.DT=function(hT){return!!hT&&/^[0-9]{11}$/.test(hT)};bk.boz=function(hT){if(!bk.DT(hT))return hT;return hT.substring(0,3)+"****"+hT.substr(7)};bk.Qc=function(){var dq=/^\s+$/g;return function(fI){return!fI||dq.test(fI)}}();bk.Gj=function(){var tq=/[^\x00-\xfff]/g;return function(fI){var Gi=fI.match(tq)||[],hn=Gi.length;return fI.length+hn}}();bk.Gk=function(){var tq=/[^\x00-\xfff]/;return function(fI,gu){for(var i=0,len=fI.length;i<len&&gu>0;i++){if(tq.test(fI.charAt(i))){gu-=2;if(gu<0){break}}else{gu-=1}}return fI.substring(0,i)}}();bk.Gh=function(fI,gu,pn){gu=gu||10;pn=pn||nej.p.gQ.engine=="trident"&&parseInt(nej.p.gQ.release)<5;if(pn&&bk.Gj(fI)>gu){return bk.Gk(fI,gu)+"..."}else{return fI}};bk.XL=function(bi){return bi===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(bi.type||bi.href||~bi.tabIndex)};bk.XH=function(bg,cC){if(!bg||!cC)return!0;var bi,bB=bg.type.toLowerCase();if(bB=="mouseout"){bi=bg.relatedTarget||bg.toElement}else if(bB=="mouseover"){bi=bg.relatedTarget||bg.fromElement}return!bi||bi!==cC&&!bk.PE(cC,bi)};bk.UQ=function(){bI={};return function(bi,df){var bE=bc.hH(bi),bz="hover-"+bE;if(!df||!bE||!!bI[bz])return;bI[bz]=!0;bn.bT(bE,"mouseover",function(){var DU=bc.bN(bi,"hshow")||[];var DV=bc.bN(bi,"icn-dislike")||[];bc.bS(bE,"z-hover");bc.cD(DU[0],"display","block");bc.cD(DV[0],"display","block")});bn.bT(bE,"mouseout",function(){var DU=bc.bN(bi,"hshow")||[];var DV=bc.bN(bi,"icn-dislike")||[];bc.bQ(bE,"z-hover");bc.cD(DU[0],"display","none");bc.cD(DV[0],"display","none")})}}();bk.boy=function(){var cm={r:/\(|\)|\[|\]|\{|\}|\*|\+|\^|\$|\?|\!|\\|\||\./gi,"(":"\\(",")":"\\)","[":"\\[","]":"\\]","{":"\\{","}":"\\}","*":"\\*","+":"\\+","^":"\\^",$:"\\$","?":"\\?","!":"\\!","\\":"\\\\","|":"\\|",".":"\\."};return function(fI){return bj.zh(cm,fI)}}();bk.PB=function(cu){if(bj.FD(cu))cu=cu.getTime();var fF=new Date,lQ=fF.getTime()-cu;if(lQ<=6e4)return"刚刚";var pr=fF.getHours()*36e5+fF.getMinutes()*6e4+fF.getSeconds()*1e3;if(Math.floor(lQ/1e3)<=Math.floor(pr/1e3)){if(lQ<36e5){var FZ=Math.floor(lQ/6e4);return FZ+"分钟前"}return bj.fX(cu,"HH:mm")}else{if(Math.floor(lQ/1e3)<=Math.floor(pr/1e3)+86400){return"昨天"+bj.fX(cu,"HH:mm")}else{var FY=fF.getFullYear(),FW=new Date(FY,0,1);var pr=fF.getTime()-FW.getTime();if(Math.floor(lQ/1e3)<=Math.floor(pr/1e3)){return bj.fX(cu,"M月d日 HH:mm")}return bj.fX(cu,"yyyy年M月d日")}}};bk.bgZ=function(){var dq=/\{(.*?)\}/gi;return function(hE,bh){return(hE||"").replace(dq,function($1,$2){var bA=bh[$2];return bA==null?$1:bA})}}();bk.hy=function(){var bO=Array.prototype.slice.call(arguments,0),hE=bO.shift();if(hE){return hE.replace(/{(\d+)}/g,function($1,$2){return $2<bO.length?bO[$2]:$1})}return""};bk.bow=function(bm,dZ,hB){return"";hB=hB||" - ";if(bm&&bm.length){return hB+(!!dZ?'<span class="'+dZ+'">'+bm[0]+"</span>":bm[0])}return""};bk.bov=function(){if(window.getSelection){var CA=window.getSelection();if(CA&&CA.focusNode&&CA.focusNode.tagName){var SS=bc.fs(CA.focusNode);for(var i=0,oR;i<SS.length;++i){oR=SS[i].tagName;if(!oR)continue;oR=oR.toLowerCase();if(oR=="textarea"||oR=="input")return!0}}}else if(document.selection){var sg=document.selection.createRange();if(sg){var bi=sg.parentElement();if(bi&&bi.tagName){var oR=bi.tagName.toLowerCase();if(oR=="textarea"||oR=="input")return!0}}}return!1};bk.bot=function(pg){if(/^[A-Z]\:\\/i.test(pg)){pg=pg.split("\\")}else{pg=pg.split("/")}pg=pg[pg.length-1];return pg};bk.bos=function(){var rl=[13,17,34,19,18,21];return function(bE){var bX=(bE||"").split("_");return{type:rl[bX[2]]||-1,id:bX[3]||""}}}();bk.bor=function(rN){if(4==rN.userType){return'<sup class="icn u-icn2 u-icn2-music2"></sup>'}else if(rN.authStatus==1){return'<sup class="u-icn u-icn-1"></sup>'}else if(rN.expertTags&&rN.expertTags.length){return'<sup class="u-icn u-icn-84"></sup>'}};bk.Dl=function(dW){dW+="";if(dW){return dW.substr(0,3)+"****"+dW.substr(dW.length-4)}};bk.boq=function(bs,dK){return(bs%dK+dK)%dK};bk.bop=function(){var rl=["playlist","program","event","album","song","mv","topic"];return function(bE){var bX=(bE||"").split("_"),bo={type:rl[bX[2]]||-1,id:bX[3]||""};if(bo.type=="event"){bo.uid=bX[4]||"";return"/"+bo.type+"?id="+bo.id+"&uid="+bo.uid}return"/"+bo.type+"?id="+bo.id}}();bk.boo=function(){var rl=["歌单","电台节目","动态","专辑","单曲","MV","专栏文章"];return function(bE){var bX=(bE||"").split("_");return rl[bX[2]]||"资源"}}();bk.xC=function(dn){var qs=dn.length>0?dn.substring(1):"",args={},items=qs.length?qs.split("&"):[],item=null,name=null,value=null,i=0,len=items.length;for(i=0;i<len;i++){item=items[i].split("=");name=decodeURIComponent(item[0]);value=decodeURIComponent(item[1]);if(name.length){args[name]=value}}return args};bk.bon=function(nS,zd){var Cv=0,gl=new Array;bj.ch(nS,function(bD,bs){var hW=bc.jw("img");hW.src=bD;bn.bT(hW,"load",function(bs,bg){gl[bs]=1;Cv++;if(Cv==nS.length)zd(nS,gl)}.bl(this,bs));bn.bT(hW,"error",function(bg,bs){gl[bs]=0;Cv++;if(Cv==nS.length)zd(nS,gl)}.bl(this,bs))})};bk.UD=function(bm,fJ){var bo=[];bj.ch(bm,function(bw,bs,gF){bo.push(fJ(bw,bs,gF))});return bo};bk.bok=function(cq){return bj.hd((cq||"").replace(/\s{2,}/g," ").trim())};bk.boj=function(dp){if(dp.transNames&&dp.transNames.length){return dp.transNames[0]}else if(dp.alias&&dp.alias.length){return dp.alias[0]}};bk.boi=function(oe){if(oe){return oe.replace(/\n{2,}/g,"<br/><br/>").replace(/\n/g,"<br/>").replace(/(<br\/?>){2,}/g,"<br/><br/>")}};bk.boh=function(bi){var bi=bc.bG(bi),dN=bi&&bi.getElementsByTagName("textarea")[0],bz=bc.bJ(bi,"key"),tg=bc.bJ(bi,"simple")=="1",LR=bU.zz.ux();if(!(bi&&dN&&bz))return;if(tg){LR.sU(bz,bk.zC(JSON.parse(dN.value)))}else{LR.sU(bz,JSON.parse(dN.value||dN.defaultValue))}bi.innerHTML="";return bz};bk.Di=function(kZ){if(!kZ.onbeforelistload){kZ.onbeforelistload=function(bg){bg.value='<div class="u-load s-fc4"><i class="icn"></i> 加载中...</div>'}}if(!kZ.onemptylist){kZ.onemptylist=function(bg){bg.value='<div class="n-nmusic"><h3 class="f-ff2"><i class="u-icn u-icn-21"></i>'+(kZ.emptyMsg||"暂时还没有数据")+"</h3></div>"}}return kZ};bk.zC=function(cI){if(bj.eD(cI)){var eg=[];bj.ch(cI,function(tg){eg.push(qM(tg))});return eg}else{return qM(cI)}function qM(cI){if(!cI)return null;var eg={album:cI.al,alias:cI.alia||cI.ala||[],artists:cI.ar||[],commentThreadId:"R_SO_4_"+cI.id,copyrightId:cI.cp||0,duration:cI.dt||0,id:cI.id,mvid:cI.mv||0,name:cI.name||"",cd:cI.cd,position:cI.no||0,ringtone:cI.rt,rtUrl:cI.rtUrl,status:cI.st||0,pstatus:cI.pst||0,fee:cI.fee||0,version:cI.v||0,eq:cI.eq,songType:cI.t||0,mst:cI.mst,score:cI.pop||0,ftype:cI.ftype,rtUrls:cI.rtUrls,transNames:cI.tns,privilege:cI.privilege,lyrics:cI.lyrics};return eg}};bk.bof=function(){var bi=bc.pV('<div class="u-mask u-mask-light"></div>'+'<div class="m-opentip">'+'<div class="lay">'+'<div class="note">'+"<h3>分享打不开？</h3>"+'<p>请点击右上角<br>选择<span class="s-fc5">“分享到...”</span></p>'+"</div></div></div>");document.body.appendChild(bi);bn.bT(bi,"click",function(bg){bn.eC(bg);bc.it(bi)})};bk.boe=function(dI){if(dI<1e5){return dI}else{return Math.floor(dI/1e4)+"万"}};bk.bod=function(dI,dN){return"<i>"+(dI?"("+dI+")":dN)+"</i>"};bk.boc=function(bB,gL){var bd={};if(!bj.ip(gL)){return bd}switch(parseInt(bB)){case 17:bd.title=gL.name;bd.author=(gL.radio||[]).name;bd.picUrl=gL.coverUrl;bd.category=gL.radio.category;break;case 19:bd.title=gL.name;bd.author=bk.CI(gL.artists);bd.authors=bk.CI(gL.artists," / ");bd.picUrl=gL.picUrl;break;case 13:bd.title=gL.name;bd.author=(gL.creator||[]).nickname;bd.picUrl=gL.coverImgUrl;break;case 18:bd.title=gL.name;bd.author=bk.CI(gL.artists);bd.picUrl=(gL.album||[]).picUrl;break;case 20:bd.title=gL.name;bd.author="";bd.picUrl=gL.img1v1Url;break;case 21:bd.title=gL.name;bd.author=gL.artistName;bd.authors=bk.CI(gL.artists," / ");bd.picUrl=gL.newCover||gL.cover;break;case 70:bd.title=gL.name;bd.author=(gL.dj||[]).nickname;bd.picUrl=gL.picUrl;bd.category=gL.category;break;default:break}return bd};bk.WH=function(){return location.hostname.indexOf("igame.163.com")>=0};bk.boa=function(mt,Mo,bd){var fR,bO,bo;var oF=null;var yS=0;if(!bd)bd={};var WW=function(){yS=bd.leading===false?0:+(new Date);oF=null;bo=mt.apply(fR,bO);if(!oF)fR=bO=null};return function(){var fF=+(new Date);if(!yS&&bd.leading===false)yS=fF;var Ef=Mo-(fF-yS);fR=this;bO=arguments;if(Ef<=0||Ef>Mo){if(oF){clearTimeout(oF);oF=null}yS=fF;bo=mt.apply(fR,bO);if(!oF)fR=bO=null}else if(!oF&&bd.trailing!==false){oF=setTimeout(WW,Ef)}return bo}};bk.bnY=function(bi,cn){if(bi){var bi=bi.firstElementChild;if(bi){bi.firstElementChild&&(bi=bi.firstElementChild);bi.setAttribute("xlink:href","/style/pc/svg/"+cn)}}};bk.bnX=function(gE){if(!gE||!gE.length){return}gE=/^#(.+?)#$/.exec(gE)[1];gE=gE.replace(/\s/g," ");bv.bV("/api/act/detail",{type:"json",method:"post",data:bj.dv({actname:gE}),onload:function(cf){if(!cf||cf.code!=200||!cf.act){bF.fv.cw({type:2,tip:"该话题暂未创建"})}else{location.href="/activity?id="+cf.act.actId}},onerror:function(dY){bF.fv.cw({type:2,tip:"操作失败，请稍后再试"})}})}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bn=bf("nej.v"),bW=bf("nej.ut"),bj=bf("nej.u"),bk=bf("nm.x"),bF=bf("nm.l"),be,cl;bF.Eg=NEJ.C();be=bF.Eg.cg(bF.pF);cl=bF.Eg.gO;be.eB=function(){this.eO();bn.bT(this.bC,"click",this.pi.bl(this));bn.bT(document,"mousewheel",this.Mx.bl(this));if(!!document.body.addEventListener)document.body.addEventListener("DOMMouseScroll",this.Mx.bl(this))};be.cO=function(bd){this.cP(bd);if(bd.jst){this.bC.innerHTML=bc.fe(bd.jst,bd.data)}else if(bd.ntp){this.bC.appendChild(bc.oZ(bd.ntp))}else if(bd.txt){this.bC.innerHTML=bc.gA(bd.txt)}else if(bd.html){this.bC.innerHTML=bd.html}var yj=this.bC.getElementsByTagName("form");if(yj.length){this.eN=bW.rg.bL({form:yj[0]})}this.Eh=bc.fs(this.bC)[0]};be.du=function(){this.bR("ondestroy");this.dG();this.bC.innerHTML="";delete this.Eh};be.pi=function(bg){var bi=bn.cL(bg,"d:action"),bh=this.eN?this.eN.uo():null,bg={action:bc.bJ(bi,"action")};if(bh)bg.data=bh;if(bg.action){this.bR("onaction",bg);if(bg.stopped)return;this.cQ()}};be.Mx=function(bg){if(!this.Eh)return;bn.eC(bg);var di=bg.wheelDelta||-bg.detail;this.Eh.scrollTop-=di};bk.wn=function(bd){bd.destroyable=bd.destroyable||true;bd.title=bd.title||"提示";bd.draggable=true;bd.parent=document.body;bd.mask=bd.mask||true;var wd=bF.Eg.bL(bd);wd.cw();return wd}})();
(function(){var bf=NEJ.P,eo=window,cj=NEJ.F,bv=bf("nej.j"),bk=bf("nm.x"),bU=bf("nm.d"),be,cl;bU.hy({"netease-login":{url:"/api/login",onload:"onlogin",onerror:"onloginerror"},"captcha-send":{url:"/api/sms/captcha/sent",onload:"onsendcaptcha",onerror:"onsendcaptchaerror",format:function(bo,bd){bo.mobile=bd.data.cellphone;return bo}},"captcha-verify":{url:"/api/sms/captcha/verify",onload:"onverifycaptcha",onerror:"onverifycaptchaerror",format:function(bo,bd){bo.mobile=bd.data.cellphone;bo.captcha=bd.data.captcha;return bo}},"mobile-login":{url:"/api/login/cellphone",onload:"onmobilelogin",onerror:"onmobileloginerror"},"mobile-check":{url:"/api/cellphone/existence/check",onload:"onmobilecheck",onerror:"onmobilecheckerror",format:function(bo,bd){bo.mobile=bd.data.cellphone;bo.captcha=bd.data.captcha;return bo}},"mobile-regist":{url:"/api/register/cellphone",onload:"onmobileregist",onerror:"onmobileregisterror"},"mobile-updatepwd":{url:"/api/login/password/update",onload:"onmobileupdatepwd",onerror:"onmobileupdatepwderror",format:function(bo,bd){bo.mobile=bd.data.phone;bo.password=bd.data.password;return bo}},"mobile-resetpwd":{url:"/api/login/password/reset",onload:"onmobileresetpwd",onerror:"onmobileresetpwderror",format:function(bo,bd){bo.mobile=bd.data.phone;bo.password=bd.data.password;return bo}},"nickname-set":{url:"/api/activate/initProfile",onload:"onactive",onerror:"onactiveerror"},logout:{url:"/api/logout",onload:"onlogout"},"logout-quiet":{url:"/api/logout"},"oauth-nickname":{url:"/oauth/init_profile",onload:"onactive",onerror:"onactiveerror"},"mobile-nickname":{url:"/oauth/register/cellphone",onload:"onmobileregist",onerror:"onmobileregisterror"},"mobile-bind":{url:"/api/user/bindingCellphone",onload:"onmobilebind",onerror:"onmobilebinderror",format:function(bo,bd){bo.mobile=bd.data.phone;bo.captcha=bd.data.captcha;return bo}},"mobile-relogin":{url:"/api/mainAccount/set",onload:"onmobilelogin",onerror:"onmobileloginerror"},"mainaccount-replace":{url:"/api/user/replaceMainAccount",onload:"onmainaccountreplace",onerror:"onmainaccountreplaceerror"},"binding-delete":{url:"/api/user/deleteBinding",onload:"ondeletebinding",onerror:"ondeletebindingerror"},"mobile-change":{url:"/api/v1/user/replaceCellphone",onload:"onchangemobile",onerror:"onchangemobileerror"},"urs-bind":{url:"/api/user/bindingUrs",onload:"onbindurs",onerror:"onbindurserror"}});bU.Ei=NEJ.C();be=bU.Ei.cg(bU.le);be.bnW=function(bd){bd=bd||{};this.ek(bU.bG("logout"),bd)};be.bnV=function(bd){bd=bd||{};this.ek(bU.bG("logout-quiet"),bd)};be.bnU=function(bd){this.ek(bU.bG("netease-login"),bd)};be.MP=function(bd){this.ek(bU.bG("captcha-send"),bd)};be.YB=function(bd){this.ek(bU.bG("captcha-verify"),bd)};be.bnT=function(bd){this.ek(bU.bG("mobile-login"),bd)};be.bnS=function(bd){this.ek(bU.bG("mobile-check"),bd)};be.bnR=function(bd){this.ek(bU.bG("mobile-regist"),bd)};be.bnQ=function(bd){this.ek(bU.bG("mobile-resetpwd"),bd)};be.bnP=function(bd){this.ek(bU.bG("mobile-updatepwd"),bd)};be.bnM=function(bd){this.ek(bU.bG("nickname-set"),bd)};be.bnL=function(bd){this.ek(bU.bG("oauth-nickname"),bd)};be.bnK=function(bd){this.ek(bU.bG("mobile-nickname"),bd)};be.bnJ=function(bd){this.ek(bU.bG("mobile-bind"),bd)};be.bnI=function(bd){this.ek(bU.bG("mobile-relogin"),bd)};be.bnH=function(bd){this.ek(bU.bG("mainaccount-replace"),bd)};be.bnF=function(bd){this.ek(bU.bG("binding-delete"),bd)};be.ZR=function(bd){this.ek(bU.bG("mobile-change"),bd)};be.bnE=function(bd){this.ek(bU.bG("urs-bind"),bd)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bU=bf("nm.d"),bF=bf("nm.l"),bk=bf("nm.x"),be,cl;bF.yR=NEJ.C();be=bF.yR.cg(bF.pF);cl=bF.yR.gO;be.cO=function(bd){this.cP(bd);this.cW=bU.Ei.bL();this.cW.bT("onsendcaptcha",this.Ek.bl(this));this.cW.bT("onsendcaptchaerror",this.El.bl(this));this.cW.bT("onverifycaptcha",this.ban.bl(this));this.cW.bT("onverifycaptchaerror",this.bao.bl(this));if(this.fu)this.fu=clearInterval(this.fu)};be.du=function(){this.dG();this.cW.cG()};be.fw=function(){this.gv="ntp-verifycaptcha"};be.eB=function(){this.eO();this.hI=bc.bN(this.bC,"js-tip")[0];var Nx=bc.bN(this.bC,"js-mobwrap");this.Ny=Nx[0];this.NB=Nx[1];this.baD=bc.bN(this.bC,"js-mob")[0];this.baF=bc.bN(this.bC,"js-lbl")[0];var gH=bc.bN(this.bC,"js-txt");this.lO=gH[0];this.qI=gH[1];bc.wT(this.lO,"holder");bc.wT(this.qI,"holder");bn.bT(this.lO,"focus",this.bbr.bl(this));bn.bT(this.lO,"keypress",this.bbv.bl(this));bn.bT(this.lO,"keyup",this.bbw.bl(this));bn.bT(this.qI,"focus",this.bbK.bl(this));bn.bT(this.qI,"keypress",this.bbM.bl(this));this.Ch=bc.bN(this.bC,"js-cd")[0];this.yM=bc.bN(this.bC,"js-send")[0];this.pm=bc.bN(this.bC,"u-err")[0];this.NR=bc.bN(this.bC,"js-next")[0];this.Em=bc.bN(this.bC,"js-btmbar")[0];this.vl=bc.bN(this.bC,"js-back")[0];this.NX=bc.bN(this.bC,"js-skip")[0];bn.bT(this.bC,"click",this.cH.bl(this))};be.bbr=function(){bc.bQ(this.lO,"u-txt-err")};be.bbK=function(){bc.bQ(this.qI,"u-txt-err")};be.bbv=function(bg){if(bg.keyCode==0){if(bg.charCode<48||bg.charCode>57)bn.jP(bg)}else if(bg.charCode==0){if(bg.keyCode==13)return this.BX()}else{if(bg.keyCode==13)return this.BX();if(bg.keyCode<48||bg.keyCode>57)bn.jP(bg)}};be.bbw=function(bg){if(/[^\d]/.test(this.lO.value))this.lO.value=this.lO.value.replace(/[^\d]/g,"")};be.bbM=function(bg){if(bg.keyCode==13)this.BX()};be.cw=function(bd){cl.cw.apply(this,arguments);this.dL=bd;this.oc(false);this.tS(false);if(bd.tip){this.hI.innerHTML=bd.tip;bc.bQ(this.hI,"f-hide")}else{bc.bS(this.hI,"f-hide")}this.BG=bd.mobile||"";if(this.BG){this.baD.innerText=bk.Dl(this.BG)||"";bc.bS(this.NB,"f-hide");bc.bQ(this.Ny,"f-hide");this.Op()}else{this.baF.innerHTML=bd.mobileLabel||"手机号：";this.yM.innerHTML="<i>获取验证码</i>";bc.bS(this.Ny,"f-hide");bc.bQ(this.NB,"f-hide");bc.bS(this.Ch,"f-hide");bc.bQ(this.yM,"f-hide")}this.lO.value="";this.qI.value="";bd.okbutton=bd.okbutton||"下一步";this.NR.innerHTML="<i>"+bd.okbutton+"</i>";bc.bS(this.Em,"f-hide");bc.bS(this.vl,"f-hide");bc.bS(this.NX,"f-hide");if(bd.backbutton){this.vl.innerHTML=bd.backbutton||"";bc.bQ(this.vl,"f-hide");bc.bQ(this.Em,"f-hide")}if(bd.canskip){bc.bQ(this.NX,"f-hide");bc.bQ(this.Em,"f-hide")}};be.cH=function(bg){var bu=bn.cL(bg,"d:action");if(!bu)return;var fq=bc.bJ(bu,"action");switch(fq){case"next":this.BX(bg);break;case"send":this.bdI(bg);break;case"back":this.bdK(bg);break;case"skip":this.bed(bg);break}};be.bdK=function(bg){bn.jP(bg);this.cQ();if(this.dL.onback)return this.dL.onback()};be.bed=function(bg){bn.jP(bg);this.cQ();if(this.dL.onskip)return this.dL.onskip()};be.bdI=function(bg){bn.jP(bg);if(!!this.fu)return;var hT=this.bes();if(!hT)return;this.cW.MP({data:{cellphone:hT}})};be.Ek=function(bo){this.Op()};be.El=function(bo){this.tS(false);this.oc("验证码发送失败")};be.BX=function(bg){bn.jP(bg);if(this.tS())return;var Eq=this.beS();if(!Eq)return;this.tS(true);this.cW.YB({data:{cellphone:Eq.mobile,captcha:Eq.captcha}})};be.ban=function(bo){if(this.dL.onok)this.dL.onok(bo)};be.bao=function(bo){this.tS(false);if(bo.code==503){this.oc("验证码错误","captcha")}else if(this.dL.onerror){this.dL.onerror(bo)}};be.bes=function(){var hT=this.BG||this.lO.value.trim();if(!hT)return this.oc("请输入手机号","mobile");if(!bk.DT(hT))return this.oc("请输入11位数字的手机号","mobile");return hT};be.beS=function(){var hT=this.BG||this.lO.value.trim(),OJ=this.qI.value.trim();if(!hT)return this.oc("请输入手机号","mobile");if(!OJ)return this.oc("请输入验证码","captcha");if(!bk.DT(hT))return this.oc("请输入11位数字的手机号","mobile");this.oc(false);return{mobile:hT,captcha:OJ}};be.Op=function(){var cu;var ON=function(){cu--;this.Ch.innerText=" 00:"+(cu>=10?cu:"0"+cu)+" ";if(cu==0){this.fu=clearInterval(this.fu);this.yM.innerHTML="<i>重新发送</i>";bc.bS(this.Ch,"f-hide");bc.bQ(this.yM,"f-hide")}};return function(){cu=60;this.fu=clearInterval(this.fu);this.fu=setInterval(ON.bl(this),1e3);ON.call(this);bc.bS(this.yM,"f-hide");bc.bQ(this.Ch,"f-hide")}}();be.oc=function(dC,xQ){this.mU(this.pm,dC);bc.bQ(this.lO,"u-txt-err");bc.bQ(this.qI,"u-txt-err");if(xQ=="mobile"){bc.bS(this.lO,"u-txt-err")}else if(xQ=="captcha"){bc.bS(this.qI,"u-txt-err")}};be.tS=function(ln){return this.uM(this.NR,ln,this.dL.okbutton,"验证中...")}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bM=bf("nej.ui"),bW=bf("nej.ut"),bj=bf("nej.u"),bk=bf("nm.x"),bU=bf("nm.d"),br=bf("nm.w"),be;br.jO=NEJ.C();be=br.jO.cg(bM.jt);be.eB=function(){this.eO();var bm=bc.fs(this.bC);this.of=bm[0];this.ns=bm[1];this.eI=bm[2]};be.fw=function(){this.gv="g-select"};be.cO=function(bd){this.cP(bd);this.gg([[this.ns,"click",this.uJ.bl(this)],[this.eI,"click",this.Au.bl(this)],[document,"click",this.iZ.bl(this)]]);this.sn=bd.filter||this.Ih;this.hN(bd.list)};be.du=function(){this.dG();delete this.fE;delete this.pT;delete this.sn};be.hN=function(bm,iP){if(!bm){this.of.innerText="－请选择－";return}this.fE=bm;bc.de(this.eI,"g-select-item",{options:bm},{filter:this.sn});this.nC(iP||bm[0])};be.wK=function(){return this.fE};be.gP=function(){return this.pT};be.nC=function(bA){if(this.pT!=bA){this.pT=bA;this.of.innerText=this.sn(bA);this.bR("onchange",bA)}};be.uJ=function(bg){bn.eC(bg);if(bc.dg(this.eI,"f-hide")){if(!this.fE||!this.fE.length)return;bc.bQ(this.eI,"f-hide")}else{bc.bS(this.eI,"f-hide")}};be.iZ=function(){bc.bS(this.eI,"f-hide")};be.Au=function(bg){var bi=bn.cL(bg,"d:index"),bs=bc.bJ(bi,"index");if(bi){this.nC(this.fE[bs])}};be.Ih=function(lS){return lS.name}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),fS=bf("nm.ut");fS.pw=function(dQ){var dw={text:"",start:0,end:0};if(dQ.setSelectionRange){dw.start=dQ.selectionStart;dw.end=dQ.selectionEnd;dw.text=dw.start!=dw.end?dQ.value.substring(dw.start,dw.end):""}else if(document.selection){var i,pz=document.selection.createRange(),im=document.body.createTextRange();im.moveToElementText(dQ);dw.text=pz.text;dw.bookmark=pz.getBookmark();for(i=0;im.compareEndPoints("StartToStart",pz)<0&&pz.moveStart("character",-1)!==0;i++){if(dQ.value.charAt(i)=="\n"){i++}}dw.start=i;dw.end=dw.text.length+dw.start}return dw};fS.yh=function(dQ,dw){var im;if(!dw){dw={text:"",start:0,end:0}}dQ.focus();if(dQ.setSelectionRange){dQ.setSelectionRange(dw.start,dw.end)}else if(dQ.createTextRange){im=dQ.createTextRange();if(dQ.value.length===dw.start){im.collapse(false);im.select()}else{im.moveToBookmark(dw.bookmark);im.select()}}};fS.yg=function(dQ,dw,dN){var dw=dw||{text:"",start:0,end:0};var ti,yd,im,mC,xZ,xX,nM;this.yh(dQ,dw);if(dQ.setSelectionRange){ti=dQ.value;yd=ti.substring(0,dw.start)+dN+ti.substring(dw.end);xZ=xX=dw.start+dN.length;nM=dQ.scrollTop;dQ.value=yd;if(dQ.scrollTop!=nM){dQ.scrollTop=nM}dQ.setSelectionRange(xZ,xX)}else if(dQ.createTextRange){mC=document.selection.createRange();mC.text=dN;mC.setEndPoint("StartToEnd",mC);mC.select()}bn.bR(dQ,"keyup")}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),eU=bf("nej.p"),bj=bf("nej.u"),jL=bf("nej.ut"),br=bf("nm.w"),fS=bf("nm.ut"),be;br.OY=NEJ.C();be=br.OY.cg(jL.fP);be.cZ=function(bd){this.dh(bd)};be.cO=function(bd){this.cP(bd);this.gq=bd.txt;this.sR=bd.sgtsContainer;this.Pg=bd.sgtsList[0];this.Bd=bd.sgtsItem;this.mz=bd.rangeData;this.uc=bd.atIndex;bc.bS(this.Bd[0],"selected-item");this.Ev()};be.du=function(){this.dG();bn.kA(document.body,"keyup",this.Pu.bl(this));bn.kA(document.body,"click",this.Pv.bl(this))};be.Ev=function(){this.gg([[document.body,"keyup",this.Pu.bl(this)],[document.body,"click",this.Pv.bl(this)],[this.gq,"keydown",this.PC.bl(this)],[this.gq,"keypress",this.PC.bl(this)],[this.Pg,"click",this.PJ.bl(this)],[this.Pg,"mouseover",this.biF.bl(this)]])};be.biF=function(bg){var ml=bn.cL(bg);var bw=bc.bN(this.sR,"selected-item");if(bc.dg(ml,"j-sgt")){bc.bQ(bw[0],"selected-item");bc.bS(ml,"selected-item")}};be.Pu=function(bg){var bw=bc.bN(this.sR,"selected-item");var dc=this.Bd.length;var jN=bg.keyCode||bg.which;var bs,bh;switch(jN){case 38:bs=bc.gV(bw[0],"data-index")-1<0?dc-1:bc.gV(bw[0],"data-index")-1;bc.bQ(bw[0],"selected-item");bc.bS(this.Bd[bs],"selected-item");break;case 40:bs=parseInt(bc.gV(bw[0],"data-index"))+1>=dc?0:parseInt(bc.gV(bw[0],"data-index"))+1;bc.bQ(bw[0],"selected-item");bc.bS(this.Bd[bs],"selected-item");break;case 13:this.PJ(bg);break;case 27:this.iZ();break;case 32:var cq=this.gq.value;var bs=fS.pw(this.gq);if(cq.charAt(bs.start-1)!==" ")return;this.iZ();break}};be.PC=function(bg){var jN=bg.keyCode||bg.which;if(jN===13||jN===38||jN===40){bn.jP(bg);bg.keyCode=0;bg.which=0;bg.returnvalue=false}};be.Pv=function(bg){var ml=bg.target||bg.srcElement;if(ml===this.gq)return;this.iZ()};be.PJ=function(bg){bn.eC(bg);var bw=bc.bN(this.sR,"selected-item")[0];var lD=bg.target||bg.srcElement;var bB=bg.type;if(bc.dg(lD,"lst"))return;if(bB=="click"){bc.bQ(bw,"selected-item");bc.bS(lD,"selected-item")}else lD=bw;var bh=lD.innerHTML+" ";this.iZ();var dw=this.mz;dw.start=this.uc+1;if(eU.gQ.browser=="ie"&&eU.gQ.version<"9.0"){this.gq.value=this.gq.value.substring(0,dw.start)+this.gq.value.substring(dw.end,this.gq.value.length);dw.end=dw.start}fS.yg(this.gq,dw,bh);bn.bR(this.gq,"keyup")};be.iZ=function(bg){if(!!this.sR)bc.cD(this.sR,"display","none");this.cG()};be.xF=function(bg){if(!!this.sR)bc.cD(this.sR,"display","block")}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bv=bf("nej.j"),br=bf("nm.w"),jL=bf("nej.ut"),jG=bf("nej.ui"),be;var bje=".u-atlist{position: absolute;z-index: 10000;}.f-thide.selected-item{background-color: #eee;}";var bjf=bc.mi("m-wgt-atlist");var jC=bc.oH(bje);br.PQ=NEJ.C();be=br.PQ.cg(jG.jt);be.cZ=function(bd){this.eW={};this.dh()};be.cO=function(bd){this.eW.txt=bc.bG(bd.target);this.eW.data=bd.data;this.eW.offset=bd.offset;this.eW.rangeData=bd.rangeData;this.eW.atIndex=bd.atIndex;this.bjD(bd);this.cP(bd);this.eW.sgtsContainer=this.bC;this.eW.sgtsList=bc.bN(this.bC,"lst");this.eW.sgtsItem=bc.bN(this.bC,"f-thide");this.Vo(bd);this.bjY=br.OY.bL(this.eW)};be.du=function(bd){this.dG();this.bjY.cG()};be.fw=function(){this.kY=jC};be.eB=function(){this.eO()};be.bjD=function(bd){this.bC=bc.oZ(bc.sw(bc.fe(bjf,bd.data)))};be.Vo=function(bd){var PT=bc.bN(this.bC,"selected-item")[0];if(PT)bc.bQ(PT,"selected-item");var dm=bd.offset.x+"px";var gi=bd.offset.y+"px";bc.cD(this.bC,"left",dm);bc.cD(this.bC,"top",gi)}})();
(function(){var bf=NEJ.P,bv=bf("nej.j"),fS=bf("nm.ut");fS.bkd=function(cq){if(!GUser||!GUser.userId||GUser.userId<=0)return;var dq=/@([a-zA-Z0-9_\-\u4E00-\u9FA5]+)/g;var ui=cq.match(dq)||[];for(var bM=0;bM<ui.length;bM++){ui[bM]=ui[bM].split("@")[1]}ui=ui.reverse();var iD=GUser.userId;var bks=bv.mD("mentioners"+iD)||[];var eJ=ui.concat(bks);if(eJ.length>10)eJ=eJ.slice(0,10);bv.kP("mentioners"+iD,eJ)};fS.Vz=function(){if(!GUser||!GUser.userId||GUser.userId<=0)return;var iD=GUser.userId;return bv.mD("mentioners"+iD)||[]}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),eU=bf("nej.p"),bv=bf("nej.j"),bj=bf("nej.u"),jL=bf("nej.ut"),br=bf("nm.w"),fS=bf("nm.ut"),be;br.PW=NEJ.C();be=br.PW.cg(jL.fP);be.cZ=function(bd){this.dh(bd);this.Qf()};be.cO=function(bd){this.cP(bd);this.gq=bd.txt;this.bC=bd.body;this.Qg=bd.before;this.xv=bd.flag;this.VU=bd.after;this.kG=[];if(eU.gQ.browser!="ie"){setTimeout(function(){this.nt()}.bl(this),0)}this.Ev()};be.du=function(){this.dG();if(this.nf)this.nf.cG();delete this.nf};be.Ev=function(){this.gg([[this.gq,"keyup",this.Qp.bl(this,this.gq)],[this.gq,"click",this.Qp.bl(this,this.gq)],[this.gq,"focus",this.nt.bl(this)]])};be.nt=function(bg){this.mz=fS.pw(this.gq)};be.Qf=function(){if(!GUser||!GUser.userId||GUser.userId<=0){window.GFollowers=[];return}var fD=window.GUser.userId;var bD="/api/user/getfollows/"+fD;var eP=bv.bV(bD,{sync:false,method:"get",query:"offset = 0&limit=1000&order=true",onload:function(bh){window.GFollowers=JSON.parse(bh).follow}.bl(this),onerror:function(bh){},onbeforerequest:function(bh){}})};be.Qw=function(index){var bA=this.gq.value,cB,Ez,EA,QG;this.Qg.innerHTML=bj.hd(bA.substr(0,index)).replace(/\n/g,"<br/>").replace(/\s/g,'<span class="j-test" style="display:inline-block;white-space: pre-wrap; font-family:Arial, Helvetica, sans-serif;"></span>');var jJ=bc.bN(this.Qg,"j-test");for(var bM=0;bM<jJ.length;bM++){jJ[bM].innerText=" "}this.xv.innerHTML=bA.charAt(index);this.VU.innerHTML=bj.hd(bA.substr(index+1,bA.length));QG=parseInt(bc.fo(this.gq,"lineHeight"));bc.cD(this.bC,"display","block");Ez=bc.jZ(this.xv,this.bC);EA=bc.jZ(this.gq);bc.cD(this.bC,"display","none");var dm=Ez.x+EA.x;var gi=Ez.y+EA.y+QG;cB={x:dm,y:gi};this.Ww(cB)};be.Qp=function(dQ,bg){bn.jP(bg);var dQ=dQ;var bA=dQ.value;var dc=bA.length;var bs=fS.pw(dQ).start;var QH=0;var jN=bg.keyCode||bg.which;var eJ;this.mz=fS.pw(dQ);var QJ=false;for(var i=1;i<20;i++){eJ=bs-i;if(bA.charAt(eJ)===" ")break;if(bA.charAt(eJ)==="@"){QJ=true;this.uc=QH=eJ;break}}if(QJ&&bg.shiftKey===false&&jN!==38&&jN!==40){if(jN!==27&&jN!==13){this.nf?this.nf.cG():null;this.Qw(QH)}}else if(jN!==38&&jN!==40&&bg.keyCode!==32){this.nf?this.nf.cG():null}};be.Ww=function(cB){var cB=cB;var bh=this.EB();var bd={parent:document.body,offset:cB,data:bh,target:this.gq,rangeData:this.mz,atIndex:this.uc};this.nf?this.nf.cG():null;this.nf=br.PQ.bL(bd)};be.EB=function(){var WB=fS.pw(this.gq).start;var WC=this.uc+1;var QU=fS.Vz()||[];var QW=[];var dn=this.gq.value.substring(WC,WB).toLowerCase();dn=dn.replace(/\[/g,"\\[");dn=dn.replace(/\]/g,"\\]");if(window.GFollowers){this.kG=window.GFollowers[0]?window.GFollowers:[]}else this.kG=[];if(!this.kG[0])this.Qf();for(var bM=0;bM<QU.length;bM++){for(var bv=0;bv<this.kG.length;bv++){if(this.kG[bv].nickname==QU[bM])QW.push(this.kG[bv])}}this.kG=bj.XQ(this.kG,QW,{union:true,begin:true});var WV=this.kG.length;var AB=[];var xr,xq;if(!this.kG[0])return{suggests:AB};for(var i=0;i<WV;i++){xr=this.kG[i].nickname.toLowerCase().search(dn);xq=this.kG[i].py?this.kG[i].py.toLowerCase().search(dn):-1;if(xr!==-1||xq!=-1)AB.push(this.kG[i]);if(AB.length===10)break}return{suggests:AB}};be.ED=function(){var dw=this.mz||{text:"",start:0,end:0};bn.bR(this.gq,"focus");fS.yg(this.gq,dw,"@");this.mz=fS.pw(this.gq);this.uc=dw.start;this.Qw(this.uc)};be.xp=function(){if(this.nf)this.nf.cG()}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bv=bf("nej.j"),br=bf("nm.w"),jL=bf("nej.ut"),jG=bf("nej.ui"),be;var Xl="#shadow-box{position: absolute;display: block;left: 450px;top: 1020px;border: 1px solid black;word-wrap: break-word;display:none;opacity: 0;filter: Alpha(opacity=0);z-index: -1000;}";var Xo='<div id="shadow-box" style="word-wrap:break-word"><span  class="node-before"></span><span>@</span><span  class="node-after"></span></div>';var oq=bc.sw(Xo);var jC=bc.oH(Xl);br.Rr=NEJ.C();be=br.Rr.cg(jG.jt);be.cZ=function(bd){this.eW={};this.dh()};be.cO=function(bd){this.cP(bd);this.eW.txt=bc.bG(bd.target);this.xo();this.EE=br.PW.bL(this.eW)};be.du=function(bd){this.dG();this.EE.cG()};be.fw=function(){this.gv=oq;this.kY=jC};be.eB=function(){this.eO();var bm=bc.fs(bc.bG(this.bC));this.eW.body=this.bC;this.eW.before=bm[0];this.eW.flag=bm[1];this.eW.after=bm[2]};be.xo=function(){var kD=["width","borderWidth","border-style","outline","marginLeft","marginTop","marginRight","marginBottom","height","paddingLeft","paddingTop","fontSize","wordWrap","fontFamily","lineHeight","overflowX","overflowY"];for(var i=0;i<kD.length;i++){if(kD[i]==="width"&&bc.fo(this.eW.txt,kD[i])=="100%"){bc.cD(this.bC,kD[i],this.eW.txt.offsetWidth+"px");continue}bc.cD(this.bC,kD[i],bc.fo(this.eW.txt,kD[i]))}};be.ED=function(){this.EE.ED()};be.xp=function(){this.EE.xp()}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bn=bf("nej.v"),bk=bf("nm.x"),bF=bf("nm.l"),be,cl;bF.Av=NEJ.C();be=bF.Av.cg(bF.tF);cl=bF.Av.gO;be.cO=function(){var rP;var XV=function(bA,bz){rP=rP||[];if(bz!="18")rP.push({key:bz,value:bA})};return function(bd){this.cP(bd);if(!rP){var cm=bk.bhQ();bj.cY(cm,XV)}var dc=rP.length;rP.splice(dc-2,0,{key:"18",value:"186"});this.At=rP}}();be.fw=function(){this.gv="ntp-portrait"};be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.eI=bm[0];this.XY=bm[1];this.Yg=bm[2];this.Yn=bm[3];bn.bT(this.eI,"click",this.xk.bl(this));bn.bT(this.XY,"click",this.RG.bl(this,1));bn.bT(this.Yn,"click",this.RG.bl(this,2))};be.EG=function(bs){this.Ao=bs;var cB=(bs-1)*50;var bm=this.At.slice(cB,Math.min(cB+50,this.At.length));this.eI.innerHTML=bc.fe("jst-portrait",{plist:bm},{purl:bk.OQ});this.Yg.innerText=bs+"/"+Math.ceil(this.At.length/50)};be.RG=function(bs){var Yv=Math.ceil(this.At.length/50);if(bs==1&&this.Ao==1||bs==2&&this.Ao==Yv)return;bs==1?this.EG(this.Ao-1):this.EG(this.Ao+1)};be.xk=function(bg){var bu=bn.cL(bg,"d:text");if(!bu)return;var bg={url:bc.bJ(bu,"url"),text:bc.bJ(bu,"text")};this.bR("onselect",bg);if(!bg.stopped)this.cQ()};be.cw=function(){cl.cw.call(this);this.EG(1)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),eU=bf("nej.p"),bM=bf("nej.ui"),bv=bf("nej.j"),bk=bf("nm.x"),bU=bf("nm.d"),bF=bf("nm.l"),br=bf("nm.w"),fS=bf("nm.ut"),be,cl;br.EH=NEJ.C();be=br.EH.cg(bM.jt);cl=br.EH.gO;be.cO=function(bd){this.cP(bd);this.qc=bd.type||1;this.bnw=bd.resource||{};this.An=bc.pV(bc.fe("m-wgt-input-"+this.qc,{placeholder:bd.placeholder||""}));this.RV=bd.type==2?true:false;var bm=bc.bN(this.An,"j-flag");this.fc=bm[0];this.YI=bc.bN(this.An,"btns")[0];this.pO=bm[3];this.ck=bm[4];bc.wT(this.fc,"holder");if(bc.dg(this.fc.parentNode,"holder-parent")){bc.cD(this.fc.parentNode,"display","block")}this.fc.value=bd.input||"";this.bC.appendChild(this.An);this.mz={start:0,end:0};if(!bd.nomention){this.qd=br.Rr.bL({parent:document.body,target:this.fc})}else{bc.cD(bm[2],"display","none")}this.EL=bd.numLimit||140;this.pM();this.YU();this.gg([[this.pO,"click",this.YZ.bl(this)],[bm[2],"click",this.Za.bl(this)],[bm[1],"click",this.Zb.bl(this)],[this.fc,"focus",this.EN.bl(this)],[this.fc,"input",this.qh.bl(this)],[this.fc,"keyup",this.EO.bl(this)],[this.fc,"click",this.nt.bl(this)]]);if(!bj.eH(bd.onbeforesubmit))this.bT("onbeforesubmit",this.Zk.bl(this));if(!bj.eH(bd.onloading))this.bT("onloading",this.Zm.bl(this))};be.du=function(){this.fc.value="";if(this.lE){this.lE.cG();delete this.lE}if(this.qd){this.qd.cG();delete this.qd}this.dG();bc.it(this.An)};be.Zk=function(){var bA=this.fc.value;if(this.pO.className.indexOf("dis")>=0)return;if(!this.HE()||!this.wX())return;if(bk.Qc(bA)){bF.fv.cw({type:2,tip:"输入点内容再提交吧"});return}if(bj.hh(bA)>2*this.EL){bF.fv.cw({type:2,tip:"输入不能超过"+this.EL+"个字符"});return}return!0};be.Zm=function(){bc.bS(this.pO,"u-btn-1-dis");if(this.pO.innerText.indexOf("...")<0){this.pO.innerText=this.pO.innerText+"..."}this.SJ=!0};be.ZC=function(){if(!this.SJ)return;this.SJ=!1;bc.bQ(this.pO,"u-btn-1-dis");var dN=this.pO.innerText;this.pO.innerText=dN.substring(0,dN.length-3)};be.nt=function(){this.mz=fS.pw(this.fc)};be.YZ=function(ZD){bn.eC(ZD);var bA=this.fc.value;if(!this.bR("onbeforesubmit",{value:bA}))return;if(this.qc!=4)this.bR("onloading");fS.bkd(bA);if(this.qd){this.qd.xp()}this.bR("onsubmit",bA);this.pM();return false};be.bnt=function(){this.fc.value="";this.pM()};be.gP=function(){return this.fc.value||""};be.Lv=function(){if(!this.wX())return;var dc=this.gP().length;this.fc.focus();fS.yh(this.fc,{start:dc,end:dc});this.nt()};be.Za=function(bg){bn.eC(bg);if(!this.wX())return;!!this.lE&&this.lE.cQ();this.qd.ED();this.pM()};be.Zb=function(bg){bn.eC(bg);if(!this.wX())return;if(!this.lE){this.lE=bF.Av.bL({parent:this.YI});this.lE.bT("onselect",this.xk.bl(this));bc.cD(this.lE.IJ().parentNode,"position","relative")}this.lE.cw()};be.xk=function(bg){var cq="["+bg.text+"]";bn.bR(this.fc,"focus");this.fc.focus();fS.yg(this.fc,this.mz,cq);this.pM();bn.bR(this.fc,"keyup")};be.qh=function(bg){eU.gQ.browser=="ie"&&eU.gQ.version<"7.0"?setTimeout(this.pM.bl(this),0):this.pM()};be.EO=function(bg){this.nt();if(this.RV)this.ZF();this.qh()};be.HE=function(){if(!GUser||!GUser.userId||GUser.userId<0){top.login();return}return true};be.EN=function(){if(!this.HE()){this.fc.blur();return}if(!this.wX()){this.fc.blur();return}};be.pM=function(){var dc=this.EL-Math.ceil(bj.hh(this.fc.value)/2);this.ck.innerHTML=dc>=0?dc:'<em class="s-fc6">'+dc+"</em>"};be.ZF=function(){var SL=76;var ZI=function(){if(parseInt(hk)>SL){bc.cD(this.fc,"height","auto");bc.cD(this.fc,"height",SL+"px");bc.cD(this.fc,"overflowY","scroll")}else{bc.cD(this.fc,"height","auto");bc.cD(this.fc,"height",hk);bc.cD(this.fc,"overflowY","hidden")}}.bl(this);var ZJ=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};this.uy.innerHTML=this.fc.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return ZJ("&nbsp;",space.length-1)+" "})+"&nbsp";var hk=this.uy.offsetHeight>this.SQ?this.uy.offsetHeight:this.SQ;hk+="px";var bns=bc.fo(this.fc,"height");setTimeout(ZI,10)};be.xo=function(){var kD=["overflowX","overflowY","fontSize","fontFamily","lineHeight"];for(var i=0;i<kD.length;i++){bc.cD(this.uy,kD[i],bc.fo(this.fc,kD[i]))}var hi=this.fc.offsetWidth-parseInt(bc.fo(this.fc,"paddingLeft"))-parseInt(bc.fo(this.fc,"paddingRight"))+"px";bc.cD(this.uy,"width",hi)};be.YU=function(){if(this.RV){if(!bc.bN(document.body,"shadow-textarea")[0]){var jq='<div style="position:absolute;border: none;left:-10000px;word-wrap: break-word;overflow: hidden;resize:none" class="shadow-textarea"></div>';var bi=bc.pV(jq);document.body.appendChild(bi);this.uy=bc.bN(document.body,"shadow-textarea")[0]}else{this.uy=bc.bN(document.body,"shadow-textarea")[0]}this.SQ=parseInt(bc.fo(this.fc,"height"));bc.cD(this.fc,"overflow","hidden");this.xo()}};be.wX=function(){var bg={};this.bR("oncheckvalid",bg);return!bg.stopped}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),eU=bf("nej.p"),bv=bf("nej.j"),jL=bf("nej.ut"),jG=bf("nej.ui"),br=bf("nm.w"),be,cl;var ZS=".j-item.j-selected a{background:#eee;text-decoration:none;color:#333;}";br.uB=NEJ.C();be=br.uB.cg(jG.jt);var oq=bc.mi("m-wgt-receiverInput");var ZY=bc.mi("m-wgt-receiverList");var jC=bc.oH(ZS);var ZZ=bc.mi('<div data-id=${userId} class="blk s-fc3 j-receiver">${username}<a href="#" class="cls" title="删除">&times;</a></div>');be.cZ=function(bd){this.dS=[];this.baa=bd.receiver||null;this.bad=bd.unique||false;this.zW=bd.err;this.ST(this.SU,bd.uid);this.dh(bd)};be.cO=function(bd){this.cP(bd);this.xo();this.wQ();this.Du();if(bd.receiver)this.ES(bd.receiver.nickname,bd.receiver.userId);bc.cD(this.qW,"display","block");bc.cD(this.ET,"cursor","text");bc.cD(this.qW,"cursor","text")};be.fw=function(){var bh=this.Tx();this.gv=bc.sw(bc.fe(oq,{receiver:this.baa,users:bh}));this.kY=jC};be.eB=function(){this.eO();var mq=bc.bN(this.bC,"j-flag");var mT=bc.bN(this.bC,"j-item");this.ET=mq[0];this.TG=mq[1];this.gf=mq[2];this.qW=mq[3];this.Do=mq[4];this.EV=mq[5];this.ig=mT;bc.bS(this.ig[0],"j-selected");bn.bT(this.gf,"keyup",this.baJ.bl(this));bn.bT(this.gf,"keydown",this.baK.bl(this));bn.bT(this.gf,"focus",this.EN.bl(this));bn.bT(this.Do,"click",this.baN.bl(this));bn.bT(this.ET,"click",this.baT.bl(this));bn.bT(document.body,"click",this.iZ.bl(this));bn.bT(this.gf,"input",this.qh.bl(this));bn.bT(this.gf,"blur",this.bba.bl(this))};be.du=function(bd){bn.kA(document.body,"click",this.iZ.bl(this));this.dG();this.Du();this.bbc();this.iZ()};be.baJ=function(bg){bn.eC(bg);var jN=bg.keyCode||bg.which;var cq=this.gf.value;var dc=this.ig.length;var lD=bc.bN(this.bC,"j-selected")[0];switch(jN){case 13:var uI=bc.gV(lD,"data-username");var iD=bc.gV(lD,"data-userId");this.ES(uI,iD);this.iZ();this.gf.value="";break;case 38:var bs=bc.gV(lD,"data-index")-1<0?dc-1:bc.gV(lD,"data-index")-1;bc.bQ(lD,"j-selected");bc.bS(this.ig[bs],"j-selected");break;case 40:var bs=parseInt(bc.gV(lD,"data-index"))+1>=dc?0:parseInt(bc.gV(lD,"data-index"))+1;bc.bQ(lD,"j-selected");bc.bS(this.ig[bs],"j-selected");break;default:this.xF()}};be.baK=function(bg){var jN=bg.keyCode||bg.which;var cq=this.gf.value;var bs=bc.bN(this.bC,"j-receiver").length-1;if(jN===8&&cq==="")this.bbn(bs)};be.qh=function(bg){var cq=this.gf.value;if(cq.length>10){this.gf.value=cq.substring(0,10);return}eU.gQ.browser=="ie"&&eU.gQ.version<"7.0"?setTimeout(this.EZ.bl(this),0):this.EZ();this.wQ()};be.EN=function(){if(this.dS[0])this.xF();else this.ST(this.bbs);bc.cD(this.qW,"display","none")};be.bba=function(){var dc=bc.bN(this.bC,"j-receiver").length;if(this.gf.value.trim()==""&&dc<=0)bc.cD(this.qW,"display","block")};be.ES=function(uI,iD){var Fc=this.Dk();if(Fc.length>=10){this.mU();return}var bM;for(bM=0;bM<Fc.length;bM++){if(Fc[bM]==iD){this.iZ();return}}if(!uI||!iD)return;var bi=bc.oZ(bc.sw(bc.fe(ZZ,{username:uI,userId:iD})));var cK=this.TG.parentNode;if(this.bad){this.Du()}cK.insertBefore(bi,this.TG);this.gf.value="";var dc=bc.bN(this.bC,"j-receiver").length;if(dc>1)bc.cD(this.qW,"display","none");this.EZ();this.wQ()};be.Du=function(){var wE=bc.bN(this.bC,"j-receiver");var bM;if(wE.length>0){for(bM=0;bM<wE.length;bM++){bc.it(wE[bM],false)}}};be.bbc=function(){this.gf.value=""};be.bbn=function(bs){this.mU(!0);var wE=bc.bN(this.bC,"j-receiver");bc.it(wE[bs],false);this.wQ()};be.xF=function(){var cq=this.gf.value;var dn=cq.trim().toLowerCase();var bh;dn=dn.replace(/\[/g,"\\[");dn=dn.replace(/\]/g,"\\]");bh=this.Tx(dn);this.bbH(bh)};be.iZ=function(bg){bc.cD(this.Do,"display","none")};be.mU=function(lS){if(lS&&this.zW){bc.cD(this.zW,"display","none");return}if(this.zW)bc.cD(this.zW,"display","block")};be.baN=function(bg){bn.jP(bg);var ml=bg.target||bg.srcElement;if(bc.dg(ml,"j-flag"))return;var cK=ml.nodeName.toLowerCase()=="a"?ml.parentNode:ml.parentNode.parentNode;var uI=bc.gV(cK,"data-username");var iD=bc.gV(cK,"data-userId");this.ES(uI,iD);this.iZ();bc.cD(this.qW,"display","none")};be.baT=function(bg){bn.eC(bg);var ml=bg.target||bg.srcElement;if(bc.dg(ml.parentNode,"j-receiver")){bc.it(ml.parentNode,false);this.mU(!0);this.wQ()}else this.gf.focus()};be.EZ=function(){this.EV.innerHTML=this.gf.value;var hi=this.EV.offsetWidth+2;bc.cD(this.gf,"width",hi+"px")};be.wQ=function(){var ll=bc.jZ(this.gf,this.bC).y;var UZ=Math.floor((ll-8)/27);if(UZ<0)return;bc.cD(this.ET,"height",19+UZ*29+"px")};be.xo=function(){var kD=["height","paddingLeft","paddingTop","paddingRight","paddingBottom","fontSize","fontFamily","lineHeight"];for(var i=0;i<kD.length;i++){bc.cD(this.EV,kD[i],bc.fo(this.gf,kD[i]))}};be.ST=function(dJ,bE){var fD=bE?bE:window.GUser.userId;var bD="/api/user/getfollows/"+fD;var eP=bv.bV(bD,{sync:false,method:"get",query:"offset = 0&limit=1000&order=true",onload:dJ.bl(this),onerror:function(bh){this.dS=[]},onbeforerequest:function(bh){}})};be.SU=function(bh){this.dS=JSON.parse(bh).follow||[];var bE=GUser.userId;for(var i=0;i<this.dS.length;i++){if(this.dS[i].userId==bE){this.dS.splice(i,1);continue}this.dS[i].avatarUrl=this.dS[i].avatarUrl+"?param=30y30"}};be.bbs=function(bh){if(this.dS[0])return;this.SU(bh);this.xF()};be.Tx=function(dn){var dn=dn?dn:"";this.dS=this.dS[0]?this.dS:[];var dc=this.dS.length;var wA=this.Dk();var pE=[];var xr,xq,Ff;if(!this.dS[0])return pE;for(var bM=0;bM<dc;bM++){Ff=false;for(var bv=0;bv<wA.length;bv++){if(this.dS[bM].userId==wA[bv]){Ff=true;break}}if(Ff)continue;xr=this.dS[bM].nickname.toLowerCase().search(dn);xq=this.dS[bM].py?this.dS[bM].py.toLowerCase().search(dn):-1;if(xr!==-1||xq!=-1)pE.push(this.dS[bM])}return pE};be.bbH=function(bh){bc.de(this.Do,ZY,{users:bh});bc.bS(bc.bN(this.bC,"j-item")[0],"j-selected");this.ig=bc.bN(this.bC,"j-item");bc.cD(this.Do,"display","block")};be.Dk=function(){var pE=bc.bN(this.bC,"j-receiver")||[];var iD=[];for(var i=0;i<pE.length;i++){iD.push(bc.gV(pE[i],"data-id"))}return iD};be.bnq=function(){var iD=this.Dk();var pE=[];for(var i=0;i<iD.length;i++){for(var j=0;j<this.dS.length;j++){if(iD[i]==this.dS[j].userId)pE.push(this.dS[j])}}return pE};be.bnp=function(){this.Du()};br.uB.cw=function(bd){if(!GUser||!GUser.userId||GUser.userId<=0){bF.bno.cw({title:"登录"});return}bd=bd||{};if(bd.parent===undefined)bd.parent=document.body;!!this.eV&&this.eV.cG();this.eV=this.bL(bd)};br.uB.cQ=function(){!!this.eV&&this.eV.cG()};br.uB.xp=function(){return this.iZ()};br.uB.bnn=function(){return this.xF()}})();
(function(){var bf=NEJ.P,bj=bf("nej.u"),bn=bf("nej.v"),bW=bf("nej.ut"),bk=bf("nm.x"),bU=bf("nm.d"),bF=bf("nm.l"),be,cl;bU.hy({"message_chat-add":{url:"/api/msg/private/send",filter:function(bd){this.Fi(bd,0)},format:function(bo,bd){this.Fj(bo.newMsgs);if(bd.justSend){return bo}else{return bo.newMsgs.reverse()}},finaly:function(bg,bd){bn.bR(bU.oC,"listchange",{key:bd.key,action:"refresh"})},onmessage:function(fG){var cX="";if(fG==407){cX="发送内容中不得包含非法字符"}else if(fG==406||fG==405){cX="输入过于频繁，请稍后再试"}else if(fG==408){cX="请不要重复发送"}else if(fG==315){cX="根据对方设置，你没有该操作权限"}if(!!cX)bF.fv.cw({tip:cX,type:2})}},"message_chat-del":{url:"/api/msg/private/delete/single",format:function(cf,bd){return cf.code==200},finaly:function(bg,bd){bn.bR(bU.oC,"listchange",{key:bd.key,action:"refresh"})},onmessage:function(fG){}},"message_chat-list":{url:"/api/msg/private/history",filter:function(bd){},format:function(bo,bd){this.Fj(bo.msgs);bo.msgs.length=bd.limit;return{total:bo.size,list:bo.msgs}}},"message_chat-pull":{url:"/api/msg/private/new",filter:function(bd){this.Fi(bd,0)},format:function(bo){return bo.msgs}},"message_private-list":{url:"/api/msg/private/users",filter:function(bd){},format:function(bo,bd){var dK=bo.size||0,bm=bo.msgs;this.Fk(bm);if(bd.offset+bd.limit<dK){bm.length=bd.limit}return{total:dK,list:bm}}},"message_private-pull":{url:"/api/msg/private/users",filter:function(bd){bd.data.time=-1},format:function(bo,bd){this.Es(bd.key);this.Fk(bo.msgs);return bo.msgs}},"message_private-del":{type:"GET",url:"/api/msg/private/delete",filter:function(bd){var bE=bd.id;if(bE)bd.data={userId:bE.split("-")[1]}},format:function(cf,bd){return cf},finaly:function(bg,bd){bn.bR(bU.oC,"listchange",{key:bd.key,action:"refresh"})},onmessage:function(fG){}},"message_comment-list":{url:"/api/v1/user/comments/{uid}",format:function(bo,bd){if(bd.data.offset==0)this.bR("onnewcount",bo.newCount);this.bcD(bo);return{total:bo.total||0,list:bo.comments}}},"message_comment-del":{url:"/api/user/comments/delete",finaly:function(bg,bd){bn.bR(bU.oC,"listchange",bg)}},"message_user_comment-reply":{url:"/api/user/comments/reply",format:function(cf){this.bR("onreply");bF.fv.cw({tip:"回复成功"});return cf},onmessage:function(){bF.fv.cw({tip:"回复失败，请稍后再试",type:2})}},"message_resource_comment-reply":{url:"/api/resource/comments/reply"},"message_notify-list":{url:"/api/msg/notices",filter:function(bd){},format:function(bo,bd){if(bd.data.offset==0)this.bR("onnewcount",bo.newCount);this.bcL(bo);return{total:bo.size||0,list:bo.notices}}},"message_notify-del":{url:"TODO",format:function(cf,bd){return bd.ext},finaly:function(bg,bd){bn.bR(bU.oC,"listchange",{key:bd.key,action:"refresh"})},onmessage:function(fG){bk.DA({txt:"通知删除失败！"})}},"message_at-list":{url:"/api/forwards/get",filter:function(bd){},format:function(bo,bd){bj.ch(bo.forwards,function(bw,bs){bw.isNew=bs<bo.newCount});bo.forwards.length=bd.limit;return{total:bo.size,list:bo.forwards}}},"message_at-pull":{url:"/api/forwards/get",filter:function(bd){this.Fi(bd,0)},format:function(bo,bd){return bo.forwards}},"message_at-del":{url:"TODO",format:function(cf,bd){return bd.ext},finaly:function(bg,bd){bn.bR(bU.oC,"listchange",{key:bd.key,action:"refresh"})},onmessage:function(fG){bk.DA({txt:"@消息删除失败！"})}},"event-like":{url:"/api/resource/like",onload:"oneventlike",filter:function(bd,bZ){if(bd.like){bZ.url="/api/resource/like";bZ.onload="oneventlike"}else{bZ.url="/api/resource/unlike";bZ.onload="oneventunlike"}},format:function(bo,bd){bo.id=bd.id;bo.isInner=!!bd.isInner;return bo}}});bU.oC=NEJ.C();be=bU.oC.cg(bU.le);cl=bU.oC.gO;be.yf=function(bd,bw){if(!bj.eD(bw)){cl.yf.apply(this,arguments);return}bj.ch(bw,function(bh){cl.yf.apply(this,[bd,bh])},this)};be.bcP=function(bw){if(!bj.eD(bw)){if(bw.type==1){bw.json=this.Mi(bw.json,bw.id)}else if(bw.type==2){bw.json=JSON.parse(bw.json);bw.json.resource=this.Mi(bw.json.resource)}else if(bw.type==3){bw.json=JSON.parse(bw.json)}return}bj.ch(bw,this.bcP,this)};be.Mi=function(ls){if(bj.eT(ls)){ls=JSON.parse(ls)}if(!!ls.json&&bj.eT(ls.json)){ls.json=JSON.parse(ls.json);if(!!ls.json.event&&!!ls.json.event.json&&bj.eT(ls.json.event.json)){ls.json.event.json=JSON.parse(ls.json.event.json)}}return ls};be.Fj=function(bw){if(!bj.eD(bw)){bw.msg=JSON.parse(bw.msg);return}bj.ch(bw,this.Fj,this)};be.Fk=function(bw){if(!bj.eD(bw)){bw.id=bw.toUser.userId+"-"+bw.fromUser.userId;bw.lastMsg=JSON.parse(bw.lastMsg);return}bj.ch(bw,this.Fk,this)};be.bcD=function(bh){var cm={0:"/playlist?id={id}",1:"/dj?id={id}",2:"/event?id={id}&uid={userId}",3:"/album?id={id}",4:"/song?id={id}",5:"/mv?id={id}",6:"/topic?id={id}"};bj.ch(bh.comments,function(bw,bs){bw.resourceJson=JSON.parse(bw.resourceJson);bw.resUrl=bk.bgZ(cm[bw.resourceType],bw.resourceJson)},this)};be.bcL=function(){var bcY=function(fZ){var cf,dE="";try{cf=JSON.parse(fZ.json)}catch(e){cf={}}switch(fZ.type){case 12:dE="我创建了歌单";dE=dE+"「"+cf.playlist.name+"」by "+cf.playlist.creator.nickname;break;case 13:dE="我分享了歌单";dE=dE+"「"+bj.hd(cf.playlist.name)+"」by "+cf.playlist.creator.nickname;break;case 14:dE="我收藏了歌单";dE=dE+"「"+bj.hd(cf.playlist.name)+"」by "+cf.playlist.creator.nickname;break;case 15:case 16:dE="我创建了节目";dE=dE+"「"+cf.program.name+"」by "+cf.program.dj.nickname;break;case 17:dE="我分享了节目";dE=dE+"「"+cf.program.name+"」by "+cf.program.dj.nickname;break;case 18:dE="我分享了歌曲";dE=dE+"「"+cf.song.name+"」by ";for(var i=0,l=cf.song.artists.length;i<l;i++){dE=dE+cf.song.artists[i].name;if(i<l-1)dE=dE+"/"}break;case 19:dE="我分享了专辑";dE=dE+"「"+cf.album.name+"」by "+cf.album.artist.name;break;case 36:dE="我分享了歌手";dE=dE+"「"+cf.resource.name+"」";break;case 21:dE="我分享了MV";dE=dE+"「"+cf.mv.name+"」by "+cf.mv.artistName;break;case 22:dE="我的动态:"+(bk.DL(bj.hd(cf.msg),"s-fc3")||"转发");break;case 23:dE="我收藏了节目";dE=dE+"「"+cf.program.name+"」by "+cf.program.dj.nickname;break;case 24:dE="我分享了专栏文章";dE=dE+"「"+cf.topic.mainTitle+"」";break;case 28:dE="我分享了电台";dE=dE+"「"+cf.djRadio.name+"」by "+cf.djRadio.dj.nickname;break;case 31:dE="我分享了评论：";dE=dE+bk.DL(cf.resource.content);break;case 35:dE="我的动态:"+bk.DL(bj.hd(cf.msg),"s-fc3")+(fZ.pics&&fZ.pics.length?"[图片]":"")}cf.str=dE;return cf};var bda=function(bdi){var cm={A_PL_0:"playlist",R_MV_5:"mv",A_TO_6:"topic",A_DJ_1:"dj",A_EV_2:"event",R_AL_3:"album",R_SO_4:"song",A_DR_14:"radio"};if(/^(\w_\w{2}_\d+)+_(.+)$/.test(bdi)){var bB=cm[RegExp.$1],gd=RegExp.$2.split("_");return"/"+bB+"?id="+gd[0]+(bB=="event"?"&uid="+gd[1]:"")+"&_hash=comment-box"}};var bdj=function(dM){var dM=JSON.parse(dM);switch(dM.type){case 1:if(!dM.track)return;dM.msg="赞了你的动态";dM.url="/event?id="+dM.track.id+"&uid="+GUser.userId;dM.track=bcY(dM.track);break;case 2:dM.msg="收藏了你的歌单";dM.url="/playlist?id="+dM.playlist.id;dM.res=dM.playlist;break;case 3:dM.msg="分享了你的歌单";dM.url="/playlist?id="+dM.playlist.id;dM.res=dM.playlist;break;case 4:dM.msg="分享了你的节目";dM.url="/dj?id="+dM.program.id;dM.res=dM.program;break;case 5:dM.msg="收藏了你的节目";dM.url="/dj?id="+dM.program.id;dM.res=dM.program;break;case 6:dM.msg="赞了你的评论";dM.url=bda(dM.comment.threadId);dM.comment=dM.comment;break;case 7:dM.msg="赞了你的节目";dM.url="/dj?id="+dM.program.id;dM.res=dM.program;break;case 8:dM.msg="订阅了你的电台";dM.url="/radio?id="+dM.djRadio.id;dM.res=dM.djRadio;break;case 9:dM.msg="赞了你的专栏文章";dM.url="/topic?id="+dM.topic.id;dM.topic=dM.topic;break;case 10:if(!dM.generalNotice)return;dM.msg=dM.generalNotice.actionDesc;dM.url=dM.generalNotice.webUrl;dM.generalContent=dM.generalNotice.content;break}return dM};return function(bh){bj.ch(bh.notices,function(bw,bs){bw.notice=bdj(bw.notice)},this)}}();be.Fi=function(bd,bs,bz){var cu=-1,bm=this.kr(bd.key),cB=bd.offset,cB=cB!=null?cB:bm.length;if(bm.length>0){cu=bm[bs!=null?bs:cB-1][bz||"time"]}bd.data.time=cu};be.bnm=function(bd){bd.onload=this.bdn.bl(this);this.ek("message_resource_comment-reply",bd)};be.bdn=function(bg){this.bR("onreply2",bg)};be.bnl=function(bd){this.ek("message_user_comment-reply",bd)};be.bnk=function(bg){this.bR("onreply",bg)};be.JI=function(bd){bd.onload=this.Fm.bl(this);this.ek("message_chat-add",bd)};be.Fm=function(bg){this.bR("onsend",bg)};be.RK=function(bd){this.ek("event-like",bd)};bW.jg.bL({element:bU.oC,event:"listchange"})})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bv=bf("nej.j"),cz=bf("nej.o"),bj=bf("nej.u"),bn=bf("nej.v"),eU=bf("nej.p"),br=bf("nm.w"),bk=bf("nm.x"),jG=bf("nej.ui"),bU=bf("nm.d"),bF=bf("nm.l"),be,cl;bF.Mq=NEJ.C();be=bF.Mq.cg(bF.pF,!0);cl=bF.Mq.prototype;be.fw=function(){this.gv="m-msg-private-send"};be.eB=function(){this.eO();var mq=bc.bN(this.bC,"j-flag");this.wr={parent:mq[1],err:mq[0]};this.eF={parent:mq[2],type:4,nomention:true,numLimit:200,onsubmit:this.bdX.bl(this)};if(eU.gQ.browser=="ie"&&eU.gQ.version<"8.0"){bc.cD(mq[0],"position","relative");bc.cD(mq[0],"zIndex","10")}};be.cO=function(bd){bd.parent=document.body;bd.clazz="";bd.onclose=function(){this.du()}.bl(this);bd.mask=true;this.cP(bd);!!bd.receiver&&(this.wr.receiver=bd.receiver);this.gj=br.uB.bL(this.wr);this.gf=br.EH.bL(this.eF);this.cW=bU.oC.bL({onsend:this.Fm.bl(this),onerror:function(){this.gf.ZC()}.bl(this)})};be.du=function(){this.dG();if(!!this.gj){this.gj.cG();delete this.gj}if(!!this.gf){this.gf.cG();delete this.gf}};be.bdX=function(bA){if(!!bA){var wA=this.gj.Dk();if(!!wA.length){this.cW.JI({data:{type:"text",msg:bA,userIds:JSON.stringify(wA)},justSend:true});this.gf.bR("onloading")}else{bk.ep({title:"提示",message:"请选择私信发送对象"})}}else{bk.ep({title:"提示",message:"私信内容不能为空"})}};be.Fm=function(bo){this.cQ();if(bo.code==200){bF.fv.cw({tip:"发送成功"})}else{bF.fv.cw({tip:"发送失败",type:2})}}})();
(function(){var p=NEJ.P("nej.u");var iR=8;var CC=function(dW,dI){return dW<<dI|dW>>>32-dI};var ji=function(x,y){var Mv=(x&65535)+(y&65535),beM=(x>>16)+(y>>16)+(Mv>>16);return beM<<16|Mv&65535};var beO=function(t,b,c,d){if(t<20)return b&c|~b&d;if(t<40)return b^c^d;if(t<60)return b&c|b&d|c&d;return b^c^d};var beR=function(t){if(t<20)return 1518500249;if(t<40)return 1859775393;if(t<60)return-1894007588;return-899497514};var mS=function(){var rv=function(i){return i%32},ry=function(i){return 32-iR-i%32};return function(dE,rA){var vN=[],hu=(1<<iR)-1,oG=rA?rv:ry;for(var i=0,l=dE.length*iR;i<l;i+=iR)vN[i>>5]|=(dE.charCodeAt(i/iR)&hu)<<oG(i);return vN}}();var vK=function(){var MC="0123456789abcdef",rv=function(i){return i%4},ry=function(i){return 3-i%4};return function(gC,rA){var bX=[],oG=rA?rv:ry;for(var i=0,l=gC.length*4;i<l;i++){bX.push(MC.charAt(gC[i>>2]>>oG(i)*8+4&15)+MC.charAt(gC[i>>2]>>oG(i)*8&15))}return bX.join("")}}();var BR=function(){var rv=function(i){return i%32},ry=function(i){return 32-iR-i%32};return function(vN,rA){var bX=[],hu=(1<<iR)-1,oG=rA?rv:ry;for(var i=0,l=vN.length*32;i<l;i+=iR)bX.push(String.fromCharCode(vN[i>>5]>>>oG(i)&hu));return bX.join("")}}();var uA=function(){var bfp="=",bfU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rv=function(i){return i%4},ry=function(i){return 3-i%4};return function(gC,rA){var bX=[],oG=rA?rv:ry;for(var i=0,ME;i<gC.length*4;i+=3){ME=(gC[i>>2]>>8*oG(i)&255)<<16|(gC[i+1>>2]>>8*oG(i+1)&255)<<8|gC[i+2>>2]>>8*oG(i+2)&255;for(var j=0;j<4;j++)bX.push(i*8+j*6>gC.length*32?bfp:bfU.charAt(ME>>6*(3-j)&63))}return bX.join("")}}();var BQ=function(q,a,b,x,s,t){return ji(CC(ji(ji(a,q),ji(x,t)),s),b)};var jI=function(a,b,c,d,x,s,t){return BQ(b&c|~b&d,a,b,x,s,t)};var jV=function(a,b,c,d,x,s,t){return BQ(b&d|c&~d,a,b,x,s,t)};var jK=function(a,b,c,d,x,s,t){return BQ(b^c^d,a,b,x,s,t)};var jM=function(a,b,c,d,x,s,t){return BQ(c^(b|~d),a,b,x,s,t)};var vt=function(x,y){x[y>>5]|=128<<y%32;x[(y+64>>>9<<4)+14]=y;var a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(var i=0,l=x.length,MK,ML,MN,MO;i<l;i+=16){MK=a;ML=b;MN=c;MO=d;a=jI(a,b,c,d,x[i+0],7,-680876936);d=jI(d,a,b,c,x[i+1],12,-389564586);c=jI(c,d,a,b,x[i+2],17,606105819);b=jI(b,c,d,a,x[i+3],22,-1044525330);a=jI(a,b,c,d,x[i+4],7,-176418897);d=jI(d,a,b,c,x[i+5],12,1200080426);c=jI(c,d,a,b,x[i+6],17,-1473231341);b=jI(b,c,d,a,x[i+7],22,-45705983);a=jI(a,b,c,d,x[i+8],7,1770035416);d=jI(d,a,b,c,x[i+9],12,-1958414417);c=jI(c,d,a,b,x[i+10],17,-42063);b=jI(b,c,d,a,x[i+11],22,-1990404162);a=jI(a,b,c,d,x[i+12],7,1804603682);d=jI(d,a,b,c,x[i+13],12,-40341101);c=jI(c,d,a,b,x[i+14],17,-1502002290);b=jI(b,c,d,a,x[i+15],22,1236535329);a=jV(a,b,c,d,x[i+1],5,-165796510);d=jV(d,a,b,c,x[i+6],9,-1069501632);c=jV(c,d,a,b,x[i+11],14,643717713);b=jV(b,c,d,a,x[i+0],20,-373897302);a=jV(a,b,c,d,x[i+5],5,-701558691);d=jV(d,a,b,c,x[i+10],9,38016083);c=jV(c,d,a,b,x[i+15],14,-660478335);b=jV(b,c,d,a,x[i+4],20,-405537848);a=jV(a,b,c,d,x[i+9],5,568446438);d=jV(d,a,b,c,x[i+14],9,-1019803690);c=jV(c,d,a,b,x[i+3],14,-187363961);b=jV(b,c,d,a,x[i+8],20,1163531501);a=jV(a,b,c,d,x[i+13],5,-1444681467);d=jV(d,a,b,c,x[i+2],9,-51403784);c=jV(c,d,a,b,x[i+7],14,1735328473);b=jV(b,c,d,a,x[i+12],20,-1926607734);a=jK(a,b,c,d,x[i+5],4,-378558);d=jK(d,a,b,c,x[i+8],11,-2022574463);c=jK(c,d,a,b,x[i+11],16,1839030562);b=jK(b,c,d,a,x[i+14],23,-35309556);a=jK(a,b,c,d,x[i+1],4,-1530992060);d=jK(d,a,b,c,x[i+4],11,1272893353);c=jK(c,d,a,b,x[i+7],16,-155497632);b=jK(b,c,d,a,x[i+10],23,-1094730640);a=jK(a,b,c,d,x[i+13],4,681279174);d=jK(d,a,b,c,x[i+0],11,-358537222);c=jK(c,d,a,b,x[i+3],16,-722521979);b=jK(b,c,d,a,x[i+6],23,76029189);a=jK(a,b,c,d,x[i+9],4,-640364487);d=jK(d,a,b,c,x[i+12],11,-421815835);c=jK(c,d,a,b,x[i+15],16,530742520);b=jK(b,c,d,a,x[i+2],23,-995338651);a=jM(a,b,c,d,x[i+0],6,-198630844);d=jM(d,a,b,c,x[i+7],10,1126891415);c=jM(c,d,a,b,x[i+14],15,-1416354905);b=jM(b,c,d,a,x[i+5],21,-57434055);a=jM(a,b,c,d,x[i+12],6,1700485571);d=jM(d,a,b,c,x[i+3],10,-1894986606);c=jM(c,d,a,b,x[i+10],15,-1051523);b=jM(b,c,d,a,x[i+1],21,-2054922799);a=jM(a,b,c,d,x[i+8],6,1873313359);d=jM(d,a,b,c,x[i+15],10,-30611744);c=jM(c,d,a,b,x[i+6],15,-1560198380);b=jM(b,c,d,a,x[i+13],21,1309151649);a=jM(a,b,c,d,x[i+4],6,-145523070);d=jM(d,a,b,c,x[i+11],10,-1120210379);c=jM(c,d,a,b,x[i+2],15,718787259);b=jM(b,c,d,a,x[i+9],21,-343485551);a=ji(a,MK);b=ji(b,ML);c=ji(c,MN);d=ji(d,MO)}return[a,b,c,d]};var Ft=function(bz,bh){var mL=mS(bz,!0);if(mL.length>16)mL=vt(mL,bz.length*iR);var vF=Array(16),vM=Array(16);for(var i=0;i<16;i++){vF[i]=mL[i]^909522486;vM[i]=mL[i]^1549556828}var fU=vt(vF.concat(mS(bh,!0)),512+bh.length*iR);return vt(vM.concat(fU),512+128)};var vn=function(x,dc){x[dc>>5]|=128<<24-dc%32;x[(dc+64>>9<<4)+15]=dc;var w=Array(80),a=1732584193,b=-271733879,c=-1732584194,d=271733878,e=-1009589776;for(var i=0,l=x.length,Nh,Ni,Dt,Nj,Nk;i<l;i+=16){Nh=a;Ni=b;Dt=c;Nj=d;Nk=e;for(var j=0;j<80;j++){w[j]=j<16?x[i+j]:CC(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var t=ji(ji(CC(a,5),beO(j,b,c,d)),ji(ji(e,w[j]),beR(j)));e=d;d=c;c=CC(b,30);b=a;a=t}a=ji(a,Nh);b=ji(b,Ni);c=ji(c,Dt);d=ji(d,Nj);e=ji(e,Nk)}return[a,b,c,d,e]};var Fu=function(bz,bh){var mL=mS(bz);if(mL.length>16)mL=vn(mL,bz.length*iR);var vF=Array(16),vM=Array(16);for(var i=0;i<16;i++){vF[i]=mL[i]^909522486;vM[i]=mL[i]^1549556828}var fU=vn(vF.concat(mS(bh)),512+bh.length*iR);return vn(vM.concat(fU),512+160)};p.bng=function(bz,bh){return vK(Fu(bz,bh))};p.bne=function(bz,bh){return uA(Fu(bz,bh))};p.bnd=function(bz,bh){return BR(Fu(bz,bh))};p.bnc=function(bz,bh){return vK(Ft(bz,bh),!0)};p.bnb=function(bz,bh){return uA(Ft(bz,bh),!0)};p.bmZ=function(bz,bh){return BR(Ft(bz,bh),!0)};p.bmY=function(bh){return vK(vn(mS(bh),bh.length*iR))};p.bmW=function(bh){return uA(vn(mS(bh),bh.length*iR))};p.bmV=function(bh){return BR(vn(mS(bh),bh.length*iR))};p.Bs=function(bh){return vK(vt(mS(bh,!0),bh.length*iR),!0)};p.bmU=function(bh){return uA(vt(mS(bh,!0),bh.length*iR),!0)};p.bmT=function(bh){return BR(vt(mS(bh,!0),bh.length*iR),!0)};p.bmS=function(bh){return vK(mS(bh,!0),!0)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bn=bf("nej.v"),bc=bf("nej.e"),bv=bf("nej.j"),bj=bf("nej.u"),bF=bf("nm.l"),br=bf("nm.w"),jG=bf("nej.ui"),bU=bf("nm.d"),bk=bf("nm.x"),be,cl;bF.FB=NEJ.C();be=bF.FB.cg(bF.pF);cl=bF.FB.gO;be.fw=function(){this.gv="m-question"};be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.kW=bm[1];this.fd=bm[2];this.gj=br.jO.bL({filter:this.pY,parent:bm[0]});bn.bT(this.bC,"click",this.cH.bl(this))};be.cO=function(bd){bd.parent=bd.parent||document.body;bd.title="回答安全问题";bd.draggable=!0;bd.destroyalbe=!0;bd.mask=true;this.cP(bd);this.gj.hN(bd.data||[])};be.du=function(){this.dG();this.kW.value=""};be.YD=function(){this.cQ()};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"back":this.bR("onback");this.cQ();break;case"next":var vS=this.kW.value.trim();if(!vS){this.dz("请输入回答");return}var bh={questionId:this.gj.gP().id,answer:bj.Bs(vS)};this.dz(null);bv.bV("/store/api/security/validateAnswer",{type:"json",method:"post",data:bj.dv(bh),onload:this.NJ.bl(this),onerror:this.NJ.bl(this)});break}};be.pY=function(bw){return bw.question};be.dz=function(cX){if(cX){this.fd.innerHTML='<i class="u-icn u-icn-25"></i>'+cX;bc.bQ(this.fd,"f-hide")}else{bc.bS(this.fd,"f-hide")}};var vj=function(bg){try{window.open("//music.163.com/#/msg/m/private_detail?id=253335632&nickname=%E4%BA%91%E9%9F%B3%E4%B9%90%E5%AE%A2%E6%9C%8D")}catch(e){}};be.NJ=function(bg){if(bg&&bg.code==200){this.bR("onnext");this.cQ()}else{var cm={"-3":"回答错误，您还有"+bg.times+"次机会！"};if(bg.code==-2||bg.code==-4){bk.ep({clazz:"m-layer-w2",title:"更换手机号",message:"<p>帐号已被锁定</p>"+'<p class="f-mgt10">回答错误的次数过多，您的帐号已被锁定，将无法进行任何商城交易，<br/>'+'请私信<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁。</p>',btntxt:"知道了",onaction:vj});this.cQ()}else{this.dz(cm[bg.code]||"回答出错")}}};bk.NK=function(bd){var NL=function(bg){if(bg&&bg.code==200){bd.data=bg.data;bF.FB.bL(bd).cw()}else{bk.ep({clazz:"m-layer-w2",message:'私信 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',onaction:vj})}};bv.bV("/store/api/security/getQuestion",{type:"json",method:"get",onload:NL,onerror:NL})}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.t"),bF=bf("nm.l"),bk=bf("nm.x"),be,cl;bF.biT=NEJ.C();be=bF.biT.cg(bM.xJ);be.fw=function(){this.kY="m-mesg"};be.cO=function(bd){this.cP(bd);this.bC.innerHTML=bd.html};be.du=function(){this.bR("ondestroy");this.dG()};be.oT=function(){var bA={},hf=bc.my(),jl={left:hf.scrollLeft,top:hf.scrollTop},di={left:hf.clientWidth-this.bC.offsetWidth,top:hf.clientHeight-this.bC.offsetHeight};bA.top=Math.max(0,jl.top+di.top/2);bA.left=Math.max(0,jl.left+di.left/2);this.nZ(bA)};bk.gs=function(){var tip,tid;return function(bd){if(tip)tip.cG();tip=bF.GG.bL({destroyable:true,parent:document.body,html:bd.html||bc.fe("g-mesg-tip",bd),ondestroy:bd.ondestroy});tip.cw();window.clearTimeout(tid);tid=window.setTimeout(function(){if(tip)tip.cG();tip=null},1e3)}}()})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),jL=bf("nej.ut"),bk=bf("nm.x"),bU=bf("nm.d"),bF=bf("nm.l"),be,cl;bF.NM=NEJ.C();be=bF.NM.cg(jL.fP);be.cO=function(bd){this.cP(bd);this.dL=bd;this.NO=bd.mobile;this.cW=bU.Ei.bL();this.cW.bT("onsendcaptcha",this.Ek.bl(this));this.cW.bT("onsendcaptchaerror",this.El.bl(this));this.cW.bT("onchangemobile",this.bjb.bl(this));this.cW.bT("onchangemobileerror",this.bjd.bl(this));this.FC()};be.du=function(){this.dG();this.cW.cG();if(this.oW)this.oW.cG();if(this.Bk)this.Bk.cG()};be.FC=function(){if(this.oW)this.oW.cQ();if(this.Bk)this.Bk.cG();this.Bk=bk.wn({title:"更换手机号",clazz:"m-layer-find",txt:"txt-mobilestatus",onaction:function(bg){if(bg.action=="valid"){this.cW.MP({data:{cellphone:this.NO}})}else{bk.NK({title:"更换手机号",onback:this.FC.bl(this),onnext:this.NU.bl(this)})}}.bl(this)})};be.Ek=function(gM){this.oW=bF.yR.cw({title:"更换手机号",mobile:this.NO,okbutton:"下一步",onok:this.NU.bl(this),backbutton:"&lt;&nbsp;&nbsp;上一步",onback:this.FC.bl(this)})};be.El=function(){bk.gs({type:"error",message:"更换失败，请重试"})};be.NU=function(cT){this.bmN=cT.captcha||"";this.oW=bF.yR.cw({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.bjG.bl(this,cT.captcha)})};be.bjG=function(bjK,gM){this.Od=gM.mobile;this.bkb=gM.captcha;this.cW.ZR({data:{phone:this.Od,captcha:this.bkb,oldcaptcha:bjK}})};be.bjb=function(gM){this.oW.cQ();bk.gs({type:"error",message:"更换成功"});if(this.dL.onsuccess)this.dL.onsuccess({mobile:this.Od})};be.bjd=function(gM){if(gM.code==506){this.oW.tS(false);this.oW.oc(gM.message,"mobile")}else{this.oW.cQ();bk.gs({type:"error",message:"更换失败，请重试"})}}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bv=bf("nej.j"),bW=bf("nej.ut"),bj=bf("nej.u"),bk=bf("nm.x"),bF=bf("nm.l"),wc=bf("api"),br=bf("nm.w");var FH=null,Oi=null;var bkf=function(hT,Oj){if(FH)FH.cG();FH=bF.NM.bL({title:"更换手机号",mobile:hT,onsuccess:function(gM){if(Oj)Oj({cellphone:gM.mobile})}})};var bkr=function(bd){bv.bV("/api/sms/captcha/sent",{type:"json",query:{cellphone:bd.mobile,channel:"new"},onload:function(bg){if(bg.code!=200){bk.gs({type:"error",message:"验证码发送失败"});return}Oi=bF.yR.cw({title:bd.title||"验证手机号",mobile:bd.mobile,okbutton:bd.ntext||"下一步",onok:function(gM){Oi.cQ();if(bd.onnext)bd.onnext(gM)}})},onerror:function(){bk.gs({type:"error",message:"验证码发送失败"})}})};wc.changePhone=bkf;wc.phoneCode=bkr;wc.validateQuestion=bk.NK})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bv=bf("nej.j"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),br=bf("nm.w"),uU=bf("nm.h"),bk=bf("nm.x"),be;bF.vd=NEJ.C();be=bF.vd.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.cH.bl(this))};be.cO=function(bd){bd.clazz="m-rechareg";this.cP(bd);this.tA=bd.songPrice;this.oP=parseInt(bd.goodQuantity)||1;this.cA=bd.sku;this.bq=bd.product;this.dy=bd.order;this.hO=bd.extJson;this.jE=bd.friendId;this.mH=bd.sku.activityType;this.Oz=bd.couponList;this.rL=bd.couponList&&bd.couponList[0];if(bd.productExtInfo){this.AJ=bd.productExtInfo.userCouponId||null,this.OD=bd.productExtInfo.discountMoney||0}else if(bd.order&&bd.order.extJsonInfo){this.AJ=bd.order.extJsonInfo.userCouponId||null,this.OD=bd.order.extJsonInfo.discountMoney||0}if(bd.order){this.fr=bd.order.address||bd.address}else{this.fr=bd.address}this.lV=bj.eH(bd.orderCallback)?bd.orderCallback:null;this.nO=bd.toorderpage;this.VO(bd);bc.de(this.bC,"g-order",{multSkyu:(this.bq.skus||[]).length>1,sku:this.cA,product:this.bq,goodQuantity:this.oP,couponList:this.Oz,couponUse:this.rL,options:bd,orderCoupon:{userCouponId:this.AJ,discountMoney:this.OD},price:function(){if(bd.product.specialType==6||bd.product.specialType==21){if(this.rL){return this.rL.finalMoney}else if(bd.order&&bd.order.tradeAmount){return bd.order.tradeAmount}}var originPrice=this.cA.price*1e6*this.oP/1e6;if(bd.isNewAlbum&&bd.discount>0){return(originPrice*1e6-bd.discount*1e6)/1e6}else{return originPrice}}.call(this),isNewAlbum:bd.isNewAlbum},{toPriceText:bk.lI,toRmb:this.jj,toJifen:this.kf});var bm=bc.bN(this.bC,"j-flag");this.uH=bm[0];this.km=bm[1];this.oS=bm[2];if(bm[3]){this.fy=bW.kv.bL({list:bc.fs(bm[3]),selected:"z-sel",dataset:"method"});this.mF(3,bd)}if(this.bq.specialType==14){this.wW()}else{if(this.bq.type==2){bv.bV("/store/api/point/listaddress",{method:"get",type:"json",onload:function(gM){if(gM.code==200){this.pf=this.Wi(gM.data);this.kC=br.Fe.bL({parent:this.uH,list:this.pf.reverse(),onchange:this.FO.bl(this)})}}.bl(this),onerror:function(){}})}}if(this.bq.priceType==0&&bd.cards&&bd.cards.length){bc.bQ(this.oS,"f-hide");bd.cards.unshift({id:0,name:"不使用积分券",price:0});this.gj=br.jO.bL({parent:this.oS,list:bd.cards,onchange:this.FP.bl(this),filter:function(bw){return bw.name+(bw.price>0?"(抵扣"+bw.price+"积分)":"")}})}if(this.bq.specialType==6){this.FQ=bc.bN(this.bC,"j-viptip")[0];this.pp=bc.bN(this.bC,"j-vipcheckbox")[0];bc.bQ(this.FQ,"f-hide")}this.lY=bc.bG("confirmbtn");this.dL=bd;if(this.dL.showNumber){this.Wv()}};be.Wv=function(){var bi=bc.bG("order-counter"),bm;if(bi){bm=bc.bN(bi,"j-x");this.fN=bm[0];this.fh=bm[2];this.ck=bm[1];this.mP=bm[3];bn.bT(this.ck,"input",function(bg){window.setTimeout(function(){var bA=this.ck.value.trim().replace(/[^\d]/g,"");if(bA.length>4){this.ck.value=bA.slice(0,bA.length-1)}else if(bA<=0){this.ck.value=1}else{this.ck.value=bA}this.ku()}.bl(this))}.bl(this))}};be.ku=function(){var dI=parseInt(this.ck.value.trim())||0;if(dI>=9999){bc.bS(this.fh,"btn-dis")}else{bc.bQ(this.fh,"btn-dis")}if(dI<=1){bc.bS(this.fN,"btn-dis")}else{bc.bQ(this.fN,"btn-dis")}this.km.innerText=dI*1e6*this.cA.price*1e6/1e12};be.VO=function(bd){if(!bd.isNewAlbum||!bd.order||bd.isNewOrder)return;var quantity=bd.order.extJsonInfo.quantity;var singleAmount=bd.order.extJsonInfo.singleAmount;var totalAmount=bd.order.extJsonInfo.totalAmount;bd.discount=(singleAmount*1e6*quantity-totalAmount*1e6)/1e6};be.Wi=function(list){var def={},isHasSlted=false;bj.ch(list,function(bw){if(bw.prop===1){def=bw}bw.prop=0;if(this.fr.addressId===bw.id){bw.prop=1;isHasSlted=true}}.bl(this));if(!isHasSlted){bj.ch(list,function(bw){if(def.id===bw.id){bw.prop=1}}.bl(this))}return list};be.du=function(){this.dG();if(this.fy){this.fy.cG();delete this.fy}if(this.gj){this.gj.cG();delete this.gj}if(this.kC){this.kC.cG();delete this.kC}delete this.km;delete this.oS;delete this.dy;delete this.hO};be.Pe=function(){var quantity=this.oP;if(this.dL.showNumber){quantity=this.ck.value}var bh={goodId:this.bq.id,goodSKUId:this.cA.id,goodSnapshootId:this.cA.snapshotId,goodQuantity:quantity};if(this.bq.specialType==9){bh.songId=this.bq.extInfo.songId}if(this.bq.specialType==6||this.bq.specialType==21){if(this.rL){bh.userCouponId=this.rL.userCouponId}else if(this.AJ){bh.userCouponId=this.AJ}}if(this.fr){bh.address=JSON.stringify({idCardNo:this.fr.idCardNo||"",username:this.fr.name,cellphone:this.fr.cellphone,addressId:this.fr.id||"",address:this.fr.provinceCity+this.fr.detailAddress})}if(this.hO){bh.extJson=JSON.stringify(this.hO)}if(this.jE>0){bh.extJson=JSON.stringify({doneeId:parseInt(this.jE)})}if(this.dy){bh.orderId=this.dy.id;bh.newAddress=bh.address;delete bh.address}if(this.bq.specialType==6&&this.mH==2){bh.draw=1}if(this.bq.priceType==0){if(this.gj){bh[!this.dy?"pointCardId":"newPointCardId"]=this.gj.gP().id}}if((this.bq.specialType==7||this.bq.specialType==9)&&this.tA&&!this.dy){bh={business:"Songs",paymentMethod:this.kt,digitalResources:JSON.stringify([{business:"Songs",productID:this.bq.id,skuID:this.cA.id,resourceID:this.bq.extInfo.songId,price:this.tA,quantity:quantity}]),from:"web"}}return bh};be.Ph=function(query){var bh=this.Pe();if(query&&query.captchaId){bh.captchaId=query.captchaId;bh.captcha=query.captcha}this.WD(this.dy,"/store/api/order/create/point",bh)};be.WD=function(order,bD,bh){if(order){this.sd(bh,{code:200,orderId:order.id})}else{bv.bV(bD,{type:"json",method:"post",data:bj.dv(bh),onload:this.sd.bl(this,bh),onerror:this.sd.bl(this,bh)})}};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"down":if(bc.dg(this.fN,"btn-dis"))break;this.ck.value=(parseInt(this.ck.value)||0)-1;this.ku();break;case"plus":if(bc.dg(this.fh,"btn-dis"))break;this.ck.value=(parseInt(this.ck.value)||0)+1;this.ku();break;case"ok":if(this.lY&&bc.dg(this.lY,"z-dis")){return}bc.bS(this.lY,"z-dis");var pay=function(){if(this.bq.specialType==17){bk.cF("click",{type:"pay",name:"payingconcert",sourceid:this.bq.concertId})}bn.eC(bg);var bD={rmb:this.bq.specialType==17?"/store/api/order/new/create_and_pay/rmb":"/store/api/order/create_and_pay/rmb",jf:"/store/api/order/create/point"},bh=this.Pe();if(this.bq.specialType==6&&this.bq.skus&&this.bq.skus.length>1){bk.cF("click",{type:"topay",name:"vipgood"})}if(this.dy){bD.rmb="/api/ordering/web/customer/order/repay"}else if(this.tA){bD.rmb="/api/ordering/web/digital"}if(this.bq.priceType==0){this.Ph()}else if(!this.dy&&this.dL.isNewAlbum){var albumPayData={business:"Album",paymentMethod:this.kt,digitalResources:JSON.stringify([{business:"Album",resourceID:this.dL.albumId,quantity:this.dL.goodQuantity}]),from:"web"};bv.bV("/api/ordering/web/digital",{sync:true,type:"json",method:"post",data:bj.dv(albumPayData),onload:this.nk.bl(this),onerror:this.nk.bl(this)})}else if(!this.dy&&this.dL.isVip){var vipPayData={business:"Vip",paymentMethod:this.kt,from:"web",orderType:this.dL.friendId?1:0,digitalResources:JSON.stringify([{business:"Vip",quantity:this.dL.goodQuantity,skuID:this.dL.sku.id}])};if(this.dL.friendId){vipPayData.ext=JSON.stringify({doneeId:this.dL.friendId})}if(bh.userCouponId){vipPayData.marketingType=[1].join(",");vipPayData.marketingId=[bh.userCouponId].join(",")}bv.bV("/api/ordering/web/digital",{sync:true,type:"json",method:"post",data:bj.dv(vipPayData),onload:this.nk.bl(this),onerror:this.nk.bl(this)})}else{bh.payMethod=this.kt;bh.sync=true;bh.vipSource=1;bv.bV(bD.rmb,{sync:true,type:"json",method:"post",data:bj.dv(bh),onload:this.nk.bl(this),onerror:this.nk.bl(this)})}this.cQ()};setTimeout(function(){pay.call(this)}.bind(this),200);break;case"cc":this.cQ();break;case"method":this.mF(bc.bJ(bi,"method"));break;case"changeAddress":if(this.bq.specialType==14){bF.vq.bL({info:this.hO,onok:function(kw){this.hO=kw;this.wW()}.bl(this)}).cw()}else{bF.jB.bL({needId:this.bq.specialType==13,title:"修改收货地址",address:this.fr,onok:this.WJ.bl(this)}).cw()}break;case"vipcheckbox":if(!this.pp||!this.lY)return;if(bc.dg(this.pp,"z-checked")){bc.bQ(this.pp,"z-checked");bc.bS(this.lY,"z-dis")}else{bc.bS(this.pp,"z-checked");bc.bQ(this.lY,"z-dis")}break;case"orderSelectVipCoupon":{var containerId="coupon-select-box-container";var container=document.getElementById(containerId);if(!container){container=document.createElement("div");container.id=containerId;document.body.appendChild(container)}jStore.couponSelectBox.init(container,{couponList:this.Oz,selectedCoupon:this.rL,onChange:function(coupon){this.rL=coupon;var couponElement=document.getElementById("coupon-vip-use-info");var priceElement=document.getElementById("confirm-pay-price");if(!coupon){if(couponElement)couponElement.innerHTML="优惠券: 不使用 >";if(priceElement)priceElement.innerText=this.cA.price}else{var discountPrice=coupon.effectAction.effectType==1?"立减￥"+coupon.effectAction.effectValue:coupon.effectAction.effectType==2?"立享"+coupon.effectAction.effectValue+"折":"";if(couponElement){couponElement.innerHTML="优惠券: "+coupon.couponName+"&nbsp;&nbsp;"+discountPrice+"&nbsp;>"}if(priceElement)priceElement.innerText=coupon.finalMoney}}.bind(this)});break}}};be.WK=function(skuId,originPrice,callback){var skuKey="skuid_"+skuId;var prices={};prices[skuKey]=originPrice;var bh={source:7,prices:JSON.stringify(prices).replace(/"/g,"")};bv.bV("/store/api/storecoupon/getUserCouponsForce",{type:"json",method:"post",timeout:800,data:bj.dv(bh),onload:this.Pm.fH(this,callback,bh,skuKey),onerror:this.Pm.bl(this,null,callback,bh,skuKey)})};be.Pm=function(res,callback,bh,skuKey){if(res&&res.code==200){callback(res.data[skuKey])}else{callback([])}};be.nk=function(bg){if(bg.code==200){if(this.kt==3){bv.bV("/api/web/qrcode/get",{sync:true,type:"json",method:"get",data:bj.dv({url:bg.payUrl,size:220}),onload:this.xI.fH(this,bg.orderId||bg.orderID),onerror:this.xI.bl(this)})}else{bF.Fp.bL({method:this.kt,title:"网上支付提示",orderId:bg.orderId||bg.orderID,friendId:this.jE,toorderpage:this.nO,orderCallback:this.lV,activityType:this.mH,notGotoResult:this.dL.notGotoResult}).cw();window.open(bg.payUrl)}}else{if(/msg:(.*)/.test(bg.msg)){var msg=/msg:(.*)/.exec(bg.msg)[1]}bk.ci({type:"error",message:msg||bg.message||bg.msg||"失败"});if(bg.code==1006||bg.code==600){window.setTimeout(function(){location.href="/store/my/orderdetail?id="+(bg.duplicateOrderId||bg.pendingOrderID)},1500)}}};be.xI=function(bg,orderId){if(bg.code==200&&bg.qrcodeImageUrl.length>0){bF.Fn.bL({title:"微信支付",QRCodeImgUrl:bg.qrcodeImageUrl,orderId:orderId,friendId:this.jE,toorderpage:this.nO,orderCallback:this.lV,activityType:this.mH}).cw()}else{bk.ci({type:"error",message:"获取二维码失败"})}};be.WS=function(){this.Dp=new br.bby;this.Dp.$inject("#module-root");this.Dp.$on("verifycapt",this.WU.bl(this));this.Dp.$on("close",this.Pn.bl(this))};be.Pn=function(){if(this.Dp)var pops=bc.bN("module-root","m-popwin-antiover");for(var i=0,len=pops.length;i<len;i++){bc.jW(pops[i])}};be.WU=function(data){this.Pn();this.Ph(data)};be.sd=function(bh,bg){if(bg.code==200){var Po=localCache.kX("appInfo.cellphone");window.api.phoneCode({title:"积分支付验证手机号",mobile:Po,noback:true,widthFind:true,onnext:function(bo){if(bo.cellphone&&bo.cellphone!=Po){location.href="/store/my/orderdetail?id="+bg.orderId+"&r="+bj.pt(3);return}bh.captcha=bo.captcha;this.FV({newAddress:bh.address||bh.newAddress,newPointCardId:bh.pointCardId,captcha:bo.captcha,orderId:bg.orderId})}.bl(this)})}else{if(bg.code==2001){bk.fl({message:"您的积分不足，暂时不能兑换",ok:"去赚积分",cc:"取消",onaction:function(bg){if(bg.action=="ok"){location.href="/store/gain/index"}}})}if(bg.code==5002){this.WS()}else{bk.ci({type:"error",message:bg.message||"订单创建失败"});if(bg.code==1006){window.setTimeout(function(){location.href="/store/my/orderdetail?id="+bg.duplicateOrderId},1500)}}this.cQ()}};be.FV=function(bh){if(!bh.newAddress)delete bh.newAddress;if(!bh.newPointCardId)delete bh.newPointCardId;bv.bV("/store/api/order/pay/point",{type:"json",method:"post",data:bj.dv(bh),onload:this.xN.fH(this,bh),onerror:this.xN.bl(this)})};be.xN=function(bg,bh){if(bg.code==200){bk.ci({message:"交易成功",ondestroy:function(){location.href="/store/my/orderdetail?id="+bh.orderId}})}else{bk.ci({type:"error",message:"支付失败"})}this.cQ()};be.mF=function(iU,bd){var FX=bd?1:0;var options=this.dL||bd;options&&options.onMethodChange&&options.onMethodChange(iU,FX);this.kt=iU;this.fy.ii(iU)};be.FO=function(eY){if(eY!="-1"){this.fr=eY}else{bF.jB.bL({needId:this.bq.specialType==13,onok:function(eY){this.fr=eY;if(eY.setdefault){bj.ch(this.pf,function(bw){bw.prop=0});eY.prop=1}this.pf.unshift(eY);this.kC.hN(this.pf);this.kC.nC(eY)}.bl(this),title:"填写收货地址"}).cw()}};be.wW=function(){if(this.hO){bc.de(this.uH,"g-order-addr-msc",{name:this.hO.realName,cellphone:this.hO.cellphone,idNum:this.hO.idNumber})}};be.Xe=function(qj){var bX=qj.split(" ");bj.ch(bX,function(bw,bs,bm){bm[bs]="<em>"+bw+"</em>"});return bX.join("")};be.FP=function(bA){this.km.innerText=Math.max(this.cA.price*this.oP-bA.price,0)};be.jj=function(bB){return bB==0?"":"¥"};be.kf=function(bB){return bB==0?"积分":""};var vj=function(){try{window.open("//music.163.com/#/msg/m/private_detail?id=253335632&nickname=%E4%BA%91%E9%9F%B3%E4%B9%90%E5%AE%A2%E6%9C%8D")}catch(e){}};be.Xi=function(order){return order&&order.goodSpecialType==18};be.Xk=function(order,event){if(this.Xi(order))return order.extJsonInfo&&order.extJsonInfo.singleAmount;else return event&&event.price};bk.gp=function(bd){if(bd.order){var iu=bd.order;bd.address=iu.address;bd.product={id:iu.goodId,exchangeType:0,coverUrl:iu.goodSimpleInfo.coverImgUrl,name:iu.goodSimpleInfo.name,specialType:iu.goodSpecialType,type:iu.goodType,priceType:iu.tradeAmountType,levelLimit:0};if(bd.order.extJsonInfo&&bd.order.extJsonInfo.doneeId){bd.friendId=bd.order.extJsonInfo.doneeId}if(bd.isNewAlbum){bd.sku=NEJ.X(bd.order.goodSimpleInfo,bd.sku)}else{bd.sku=NEJ.X(bd.order.goodSimpleInfo,{price:iu.tradeAmount,id:iu.goodSKUId})}if(bd.order.draw==1){bd.sku.activityType=2}bd.goodQuantity=iu.extJsonInfo.quantity||1}if(bd.product.levelLimit>0){bk.bG("/store/api/point/userRating",null,{cache:true}).then(function(bo){if(bo.data.level>=bd.product.levelLimit){doPay(bd)}else{bk.ci({type:"error",message:"您的等级不够，暂时不能兑换"})}})}else if(bd.isNewAlbum){bF.vd.bL(bd).cw()}else{doPay(bd)}function doPay(bd){bk.iy("/store/api/point/canBuy",{skuId:bd.sku.id}).then(function(bg){bd.address=bg.address;bd.cards=bg.pointCardList;bd.sku.price=be.Xk(bd&&bd.order,bg);if(bd.songPrice)bd.sku.price=bd.songPrice;bd.payMethod=bg.payMethod;if(bd.product.specialType==14&&!bd.order){bF.vq.bL({onok:function(kw){bd.extJson=kw;bF.vd.bL(bd).cw()}}).cw()}else if(!bd.order&&(bd.product.specialType==6||bd.product.specialType==21)){be.WK(bd.sku.id,bd.sku.price,function(res){bd.couponList=res;bF.vd.bL(bd).cw()})}else{bF.vd.bL(bd).cw()}},function(bg){if(bg.code==-5||bg.code==-6){bd.address=bg.address;bd.cards=bg.pointCardList;bd.sku.price=bg.price;bd.payMethod=bg.payMethod;bF.jB.bL({isOneAddrs:true,needId:bd.product.specialType==13,address:bg.address,onok:function(eY){bd.address=eY;bF.vd.bL(bd).cw()},title:"填写收货地址"}).cw()}else if(bg.code==-3){bk.ep({title:"提示",message:'您的帐号存在异常，为保障帐号安全，已将其临时锁定。</br>请私信联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁',onaction:vj})}else if(bg.code==-2){bk.Dm().then(function(){doPay(bd)})}else{var eZ=uU.Md(bg.code,bg.message);bk.ci({type:"error",message:eZ})}})}}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bt=bf("nej.ui"),be;if(!!bt.Gc)return;bt.Gc=NEJ.C();be=bt.Gc.cg(bt.jt);be.cZ=function(){this.qC=this.PD();this.dh()};be.cO=function(bd){this.cP(bd);this.fA=bd.index;this.iA=bd.total;this.XJ=bd.range;this.iS(bd.data)};be.du=function(){this.dG();delete this.dS;delete this.fA;delete this.iA;delete this.XJ};be.Gd=cj;be.PD=function(){var ey=+(new Date);return function(){return"itm-"+ ++ey}}();be.IN=function(){return this.qC};be.jy=function(){return this.dS};be.iS=function(bh){this.dS=bh||{};this.Gd(this.dS)}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),bt=bf("nej.ui"),be,cl;if(!!bt.Ge)return;bt.Ge=NEJ.C();be=bt.Ge.cg(bt.Gc);cl=bt.Ge.gO;be.cO=function(bd){this.XP=bd.pkey||"id";this.cP(bd)};be.bmH=function(bh){this.bR("ondelete",{ext:bh,id:this.IN(),data:this.jy(),body:this.IJ()})};be.bmG=function(bh){this.bR("onupdate",{ext:bh,id:this.IN(),data:this.jy(),body:this.IJ()})};be.iS=function(bh){cl.iS.apply(this,arguments);this.qC=this.dS[this.XP]||this.PD()}})();
(function(){var bf=NEJ.P,cz=NEJ.O,eX=NEJ.R,bc=bf("nej.e"),bj=bf("nej.u"),bt=bf("nej.ui"),be,jC,Gf;if(!!bt.Gg)return;bt.Gg=NEJ.C();be=bt.Gg.cg(bt.jt);be.cO=function(bd){this.CU=NEJ.X({},bd);this.eW=NEJ.X({},bd);delete this.CU.onchange;this.eW.onchange=this.zk.bl(this);this.cP(bd);this.Yf({number:bd.number,label:bd.label||cz})};be.du=function(){this.dG();if(!!this.hR){this.hR.cG();delete this.hR}delete this.CU;delete this.eW;this.Yk();this.bC.innerHTML="&nbsp;"};be.fw=function(){this.kY=jC};be.Yf=function(bh){bc.de(this.bC,Gf,bh);var ey=bc.Kh();this.eW.list=bc.bN(this.bC,"js-i-"+ey);this.eW.pbtn=(bc.bN(this.bC,"js-p-"+ey)||eX)[0];this.eW.nbtn=(bc.bN(this.bC,"js-n-"+ey)||eX)[0]};be.eB=function(){this.eO()};be.bmF=function(bh){return bc.fe(Gf,bh)};be.zk=function(bg){if(this.xv)return;var bs=bg.index,dK=bg.total;this.xv=!0;this.zw(bs,dK);bj.ch(this.CN,function(mn){mn.zw(bs,dK)});this.xv=!1;this.bR("onchange",bg)};be.bl=function(cK){cK=bc.bG(cK);if(!cK)return this;var gm=NEJ.X({},this.CU);gm.parent=cK;gm.index=this.ts();gm.total=this.oB();var mn=this.constructor.bL(gm);mn.uG("onchange",this.eW.onchange);if(!this.CN)this.CN=[];this.CN.push(mn);return this};be.Yk=function(){var FL=function(mn,bs,bm){mn.cG();bm.splice(bs,1)};return function(){bj.jT(this.CN,FL)}}();be.Gn=function(bs){if(!this.hR)return;this.hR.Gn(bs)};be.ts=function(){if(!this.hR)return 1;return this.hR.ts()};be.oB=function(){if(!this.hR)return 1;return this.hR.oB()};be.zw=function(bs,dK){if(!this.hR)return;this.hR.zw(bs,dK)};be.Go=function(dK){if(!this.hR)return;this.hR.Go(dK)};jC=bc.oH(".#<uispace>{font-size:12px;line-height:160%;}.#<uispace> a{margin:0 2px;padding:2px 8px;color:#333;border:1px solid #aaa;text-decoration:none;}.#<uispace> .js-disabled{cursor:default;}.#<uispace> .js-selected{cursor:default;background:#bbb;}");Gf=bc.mi('{trim}{if !defined("noprv")||!noprv}<a href="#" class="zbtn zprv ${\'js-p-\'|seed}">${label.prev||"上一页"}</a>{/if}{list 1..number as x}<a href="#" class="zpgi zpg${x} ${\'js-i-\'|seed}"></a>{/list}{if !defined("nonxt")||!nonxt}<a href="#" class="zbtn znxt ${\'js-n-\'|seed}">${label.next||"下一页"}</a>{/if}{/trim}')})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bt=bf("nej.ut"),be;if(!!bt.Gp)return;bt.Gp=NEJ.C();be=bt.Gp.cg(bt.fP);be.cO=function(bd){this.cP(bd);this.CF=bd.pbtn;this.ns=bd.nbtn;this.CD=bd.sbtn;this.CB=bd.ebtn;this.vu=bd.event||"click";this.qN=bd.selected||"js-selected";this.nU=bd.disabled||"js-disabled";this.YC(bd.list);this.zw(bd.index||1,bd.total||1)};be.du=function(){this.dG();delete this.fE;delete this.vu;delete this.CF;delete this.ns;delete this.CD;delete this.CB;delete this.Qy;delete this.iA;delete this.fA;delete this.qN;delete this.nU};be.YC=function(){var YF=function(bi){this.fE.push(bi);this.gg([[bi,this.vu,this.tD.fH(this,0)]])};return function(bm){this.fE=[];this.gg([[this.CF,"click",this.tD.fH(this,-1)],[this.ns,"click",this.tD.fH(this,1)],[this.CD,"click",this.tD.fH(this,-2)],[this.CB,"click",this.tD.fH(this,2)]]);bj.ch(bm,YF,this)}}();be.tE=function(bi,bs){if(bs==null){bi.innerText="";bc.cD(bi,"display","none");bc.bQ(bi,this.qN)}else{bi.innerText=bs;bc.cD(bi,"display","");bs==this.fA?bc.bS(bi,this.qN):bc.bQ(bi,this.qN)}};be.QD=function(){if(this.fA<=1){bc.bS(this.CF,this.nU);bc.bS(this.CD,this.nU)}else{bc.bQ(this.CF,this.nU);bc.bQ(this.CD,this.nU)}if(this.fA>=this.iA){bc.bS(this.ns,this.nU);bc.bS(this.CB,this.nU)}else{bc.bQ(this.ns,this.nU);bc.bQ(this.CB,this.nU)}};be.Gs=cj;be.Gt=function(){this.Gs();this.QD();this.bR("onchange",{last:this.Qy,total:this.iA,index:this.fA,ext:this.Gu})};be.QI=function(bs){bs=parseInt(bs);if(isNaN(bs)||this.iA==null)return!1;bs=Math.max(1,Math.min(bs,this.iA));this.Qy=this.fA;this.fA=bs;return!0};be.Gv=function(dK){dK=parseInt(dK);if(isNaN(dK)||dK<1)return!1;this.iA=dK;return!0};be.tD=function(bg,ho){bn.jP(bg);var bu=bn.cL(bg);if(!bu||bc.dg(bu,this.qN)||bc.dg(bu,this.nU))return;var bs=bu.innerText;switch(ho){case 1:case-1:bs=this.fA+ho;break;case 2:bs=this.iA;break;case-2:bs=1;break}this.Gn(bs)};be.ts=function(){return this.fA};be.Gn=function(bs){var YW=this.fA;this.QI(bs);if(YW!=this.fA)this.Gt();return this};be.oB=function(){return this.iA};be.Ew=function(dK){if(this.Gv(dK)&&this.fA!=null){this.fA=1;this.Gt()}return this};be.Go=function(dK){if(this.Gv(dK)){this.Gs();this.QD()}return this};be.zw=function(bs,dK){if(!this.Gv(dK)||!this.QI(bs))return this;this.Gt();return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bj=bf("nej.u"),dm=bf("nej.x"),bt=bf("nej.ut"),be;if(!!bt.wM)return;bt.wM=NEJ.C();be=bt.wM.cg(bt.Gp);be.cZ=function(){this.dh();var bi=bc.jw("span","zdot");bi.innerText="...";this.Cs=[bi.cloneNode(true),bi]};be.du=function(){this.dG();this.QT()};be.QT=function(){bc.jW(this.Cs[0]);bc.jW(this.Cs[1])};be.Gs=function(){this.Gu={last:!1,first:!1,list:this.fE};this.QT();this.tE(this.fE[0],1);var gD=1,dc=this.fE.length;if(this.iA<dc){for(var kN;gD<dc;gD++){kN=gD+1;this.tE(this.fE[gD],kN>this.iA?null:kN)}return}if(this.fA>1){var dI=Math.floor((dc-2)/2),Ze=this.iA-dc+2,kO=Math.max(2,this.fA-dI);if(this.iA>=dc){kO=Math.min(kO,Ze)}if(kO>2){this.fE[0].insertAdjacentElement("afterEnd",this.Cs[0]);this.Gu.first=!0}for(var bs;;gD++){bs=kO+gD-1;if(bs>this.fA)break;this.tE(this.fE[gD],bs)}}if(this.fA<this.iA){var bs,kO=this.fA+1;for(var i=0,l=dc-2;;i++,gD++){bs=kO+i;if(gD>l||bs>this.iA)break;this.tE(this.fE[gD],bs)}if(bs<this.iA){this.fE[gD].insertAdjacentElement("beforeBegin",this.Cs[1]);this.Gu.last=!0}if(bs<=this.iA){this.tE(this.fE[gD++],this.iA)}}for(;gD<dc;gD++){this.tE(this.fE[gD])}};bc.Zf=dm.Zf=function(cK,bd){var bE=bc.hH(cK);if(!bE)return null;if(!bt.Sz(bE,bt.wM)){bd=bd||{};var bm=!bd.clazz?bc.fs(bE):bc.bN(bE,bd.clazz);bd.pbtn=bm.shift();bd.nbtn=bm.pop();bd.list=bm;delete bd.clazz}return bt.Sz(bE,bt.wM,bd||cz)};dm.isChange=!0})();
(function(){var bf=NEJ.P,cz=NEJ.O,eX=NEJ.R,bc=bf("nej.e"),bj=bf("nej.u"),bW=bf("nej.ut"),bt=bf("nej.ui"),be,cl,oq;if(!!bt.zM)return;bt.zM=NEJ.C();be=bt.zM.cg(bt.Gg);cl=bt.zM.gO;be.cO=function(bd){bd.number=parseInt(bd.number)||9;this.cP(bd);this.hR=bW.wM.bL(this.eW)};be.zk=function(bg){if(!!this.CU.noend){var Rg=bg.ext||cz,bm=Rg.list||eX;if(Rg.last){bc.cD(bm[bm.length-1],"display","none")}}cl.zk.apply(this,arguments)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bM=bf("nej.ui"),bt=bf("nej.ut"),be;if(!!bt.Cn)return;bt.Cn=NEJ.C();be=bt.Cn.cg(bt.fP);be.cO=function(bd){this.gI={};this.cP(bd);this.iq=bc.bG(bd.parent);this.eF={parent:this.iq};this.lu=parseInt(bd.limit)||10;this.oN=parseInt(bd.first)||this.lu;this.Zy(bd.item);this.Zz(bd.cache||cz);this.ZA(bd.pager||cz);this.iS()};be.du=function(){this.bR("onbeforerecycle");this.yN();this.dG();if(this.gI.clear){this.cW.Es(this.gI.key)}this.cW.cG();if(!!this.ie){this.ie.cG();delete this.ie}delete this.RE;delete this.eW;delete this.Bw;delete this.cW;delete this.iq;delete this.xY;delete this.eF;delete this.gI};be.RJ=function(bE){return bE+""+bc.Kh()};be.qD=function(gD,cB,cV,dc){var bo={index:1,total:1};if(cB>=gD){bo.index=Math.floor((cB-gD)/cV)+2}if(dc>gD){bo.total=Math.ceil((dc-gD)/cV)+1}return bo};be.RN=function(bz){delete this.xY;this.tW=bz;this.gg([[this.iq,"click",this.ZM.bl(this)]])};be.Zy=function(bw){if(bj.eT(bw)){this.RN(bw);return}NEJ.X(this.eF,bw);var dZ=this.eF.klass;delete this.eF.klass;if(bj.eT(dZ)){this.RN(dZ);return}delete this.tW;this.xY=dZ;this.eF.ondelete=this.bR.bl(this,"ondelete");this.eF.onupdate=this.bR.bl(this,"onupdate")};be.Zz=function(bI){var dZ=bI.klass,he=NEJ.X({},bI);this.gI.key=he.lkey;this.gI.data=he.data||{};this.gI.clear=!!he.clear;this.eF.pkey=he.key||"id";he.onlistload=this.GJ.bl(this);he.onpullrefresh=this.ZP.bl(this);if(!!dZ&&"onlistchange"in dZ){this.gg([[dZ,"listchange",this.GK.bl(this)]])}else{he.onitemadd=this.Br.bl(this);he.onitemdelete=this.Bq.bl(this);he.onitemupdate=this.Se.bl(this)}this.cW=(dZ||bt.xw).bL(he);if(bI.total!=null){this.cW.Ew(this.gI.key,bI.total)}if(!!bI.list){this.cW.sU(this.gI.key,bI.list)}};be.ZA=function(mn){this.RE=mn.klass||bM.zM;this.eW=NEJ.X({},mn);if(bj.eD(mn.parent)){this.eW.parent=mn.parent[0];this.xO=mn.parent.slice(1);if(!this.xO||!this.xO.length){delete this.xO}}delete this.eW.klass};be.yN=function(){var eS=/^(?:table|tr|tbody|ul|ol|select)$/i;return function(){this.bR("onbeforelistclear",{parent:this.iq});if(!!this.ig&&this.ig.length>0){this.ig=this.xY.cG(this.ig);delete this.ig}if(eS.test(this.iq.tagName)){bc.Uk(this.iq)}else{this.iq.innerHTML=""}}}();be.GN=function(Bl){if(!!this.eW.fixed)return;bc.cD(this.eW.parent,"display",Bl);bj.ch(this.xO,function(cK){bc.cD(cK,"display",Bl)},this)};be.GO=function(){var bs=this.eW.index||1;delete this.eW.index;if(!!this.ie){bs=this.ie.ts()}this.qx({last:bs,index:bs})};be.qx=function(bg){this.bR("onpagechange",bg)};be.So=function(cB){this.gI.offset=cB;this.ym()};be.Sp=function(bd){return bd};be.ym=function(){this.GQ();var bh=this.gI.data;bh.offset=this.gI.offset;var Ss=bh.offset==0;bh.total=Ss;this.gI.limit=Ss?this.oN:this.lu;bh.limit=this.gI.limit;this.cW.wK(this.Sp(NEJ.X({},this.gI)))};be.GJ=function(bd){if(bd.key!=this.gI.key||bd.offset!=this.gI.offset)return;this.Bf();var bm=this.cW.kr(bd.key);if(!bm||!bm.length){this.GR();return}var cV=bd.limit,cB=bd.offset;if(this.GS(bm,cB,cV))return;this.bR("onbeforelistrender",{list:bm,offset:cB,parent:this.iq});if(!!this.tW){this.eF.xlist=bm;this.eF.beg=cB;this.eF.end=Math.min(bm.length,cB+cV)-1;this.eF.act="list";var jq=bc.fe(this.tW,this.eF);this.Be(jq)}else{this.eF.limit=cV;this.eF.offset=cB;var mT=bc.OI(bm,this.xY,this.eF);this.Bc(mT)}this.bR("onafterlistrender",{list:bm,offset:cB,parent:this.iq})};be.ZP=function(bd){if(!this.Bw)return;delete this.Bw;this.Bf("onafterpullrefresh");this.iS()};be.Sw=function(bs,dK){if(!!this.ie){var vm=this.ie.ts(),bay=this.ie.oB();if(vm>dK||dK!=bay){this.ie.cG();delete this.ie;this.qx({last:vm,index:Math.min(bs,dK)});return!0}}else{this.eW.index=bs;this.eW.total=dK;this.ie=this.RE.bL(this.eW);this.ie.uG("onchange",this.qx.bl(this));bj.ch(this.xO,function(cK){this.ie.bl(cK)},this)}};be.Sy=function(){var ey=+(new Date);return function(bh){var bE=bh[this.eF.pkey];if(!bE){bh["dirty-data"]=!0;bh[this.eF.pkey]="dirty-"+ey++}return bh}}();be.SA=function(bh){var bE=bh[this.eF.pkey];if(!!bh["dirty-data"]){delete bh["dirty-data"];delete bh[this.eF.pkey]}return bE};be.SB=function(){var baC=function(ld,oj){this.iq.insertAdjacentElement(ld,oj)};return function(ld,bh){var vc=[bh];if(!!this.tW){this.eF.xlist=vc;this.eF.beg=0;this.eF.end=0;this.eF.act="add";this.Be(bc.fe(this.tW,this.eF),ld)}else{this.eF.limit=1;this.eF.offset=0;this.eF.parent=baC.bl(this,ld);var mT=bc.OI(vc,this.xY,this.eF);this.eF.parent=this.iq;this.Bc(mT)}}}();be.GQ=cj;be.Bf=function(bP){var bg={parent:this.iq};this.bR(bP||"onafterlistload",bg);if(!bg.stopped){bc.jW(this.hI)}};be.GS=cj;be.GT=function(dC,ld){if(bj.eT(dC)){if(!this.hI)this.hI=bc.jw("div");this.hI.innerHTML=dC}else{this.hI=dC}this.iq.insertAdjacentElement(ld||"beforeEnd",this.hI)};be.pu=function(bP,iP,ld){var bg={parent:this.iq};this.bR(bP,bg);if(!bg.stopped){this.GT(bg.value||iP,ld)}};be.GR=cj;be.Be=cj;be.Bc=cj;be.ZM=function(){var eS=/^(?:delete|update)$/;return function(bg){var bi=bn.cL(bg,"d:action");if(!bi)return;var fq=bc.bJ(bi,"action");if(!eS.test(fq))return;var bE=bc.bJ(bi,"id");if(!bE)return;var bw=this.cW.iE(bE);if(!bw)return;bn.eC(bg);this.bR("on"+fq,{data:bw,id:bw[this.eF.pkey],body:bc.bG(this.RJ(bE))})}}();be.Br=cj;be.yp=function(bg){var bh=bg.data||{},bd={data:bh,key:this.gI.key,id:bh[this.eF.pkey]};this.bR("onbeforedelete",bd);this.cW.bhb(bd)};be.Bq=cj;be.yq=function(bg){var bh=bg.data||{},bd={data:bh,key:this.gI.key};this.bR("onbeforeupdate",bd);this.cW.bgI(bd)};be.Se=function(bg){this.xM(bg,"onafterupdate");if(bg.stopped)return;var bE=bg.data[this.eF.pkey];if(!!this.ig){var bw=bc.OG(bE);if(!!bw)bw.iS(bg.data)}else{var bi=bc.bG(bE+""+bc.Kh());if(!bi)return;var bm=this.cW.kr(bg.key),bs=bj.hj(bm,bg.data);if(bs<0)return;this.eF.list=bm;this.eF.beg=bs;this.eF.end=bs;this.eF.act="update";var jq=bc.fe(this.tW,this.eF);bi.insertAdjacentHTML("afterEnd",jq);bc.it(bi)}};be.xM=function(bg,bP){var bw=bg.data;if(!bw||bw[this.eF.pkey]==null){this.bR("onerror",bg);bg.stopped=!0}if(!bg.stopped){this.bR(bP,bg)}};be.GV=cj;be.GW=cj;be.GK=function(bg){if(bg.key!=this.gI.key)return;switch(bg.action){case"add":this.Br(bg);break;case"delete":this.Bq(bg);break;case"update":this.Se(bg);break;case"refresh":this.iS();break;case"unshift":this.GW(bg.offset,bg.limit);break;case"append":this.GV(bg.offset,bg.limit);break}};be.bmD=function(bw){this.yq({data:bw})};be.bmC=function(bw){this.yp({data:bw})};be.sD=function(bw){this.cW.bhn({data:bw,key:this.gI.key})};be.bmB=function(){return this.cW};be.SP=function(bh){this.SB("afterBegin",this.Sy(bh));return this.SA(bh)};be.baV=function(bh){this.SB("beforeEnd",this.Sy(bh));return this.SA(bh)};be.iS=function(){this.yN();this.GO()};be.OZ=function(){if(!!this.Bw)return;this.Bw=!0;this.pu("onbeforepullrefresh","列表刷新中...","afterBegin");this.cW.OZ({key:this.gI.key,data:this.gI.data})};be.oB=function(){return this.cW.oB(this.gI.key)};be.bmA=function(){return this.ie};be.Et=function(){return this.cW.Et(this.gI.key)}})();
(function(){var bf=NEJ.P,cz=NEJ.O,eX=NEJ.R,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bM=bf("nej.ui"),bt=bf("nej.ut"),be,cl;if(!!bt.GX)return;bt.GX=NEJ.C();be=bt.GX.cg(bt.Cn);cl=bt.GX.gO;be.cO=function(bd){this.bbb(bd.more);this.sC=bc.bG(bd.sbody);this.gg([[this.sC,"scroll",this.bbe.bl(this)]]);var di=bd.delta;if(di==null)di=30;this.bbi=Math.max(0,di);var dI=parseInt(bd.count)||0;this.iG=Math.max(0,dI);var dW=parseInt(bd.number)||0;if(dW>1&&dW<=dI){this.qQ=dW}this.cP(bd)};be.du=function(){this.dG();delete this.xK;delete this.sC;delete this.nh;delete this.AL};be.qD=function(cB,dc){var gD=this.oN+(this.iG-1)*this.lu,cV=this.iG*this.lu;return cl.qD.call(this,gD,cB,cV,dc)};be.bbb=function(bbp){this.xK=bc.bG(bbp);this.gg([[this.xK,"click",this.qk.bl(this)]])};be.Tc=function(bu){if(this.nh||!bu)return;if(!bu.scrollHeight)bu=bc.my();var cB=bc.jZ(this.iq),di=cB.y+this.iq.offsetHeight-bu.scrollTop-bu.clientHeight,bbt=bu.scrollHeight<=bu.clientHeight;if(di<=this.bbi||bbt&&!this.nh){this.qk()}};be.bbe=function(bg){if(this.nh)return;this.Tc(bn.cL(bg))};be.qx=function(bg){cl.qx.apply(this,arguments);if(!bg.stopped){this.yN();var cB=0;if(bg.index>1){cB=this.oN+((bg.index-1)*this.iG-1)*this.lu}this.ic=cB;this.qk()}};be.Sp=function(bd){if(!!this.qQ){var di=bd.offset>0?this.lu:this.oN,cV=di+this.lu*(this.qQ-1);this.ic=bd.offset+cV;bd.data.limit=cV;bd.limit=cV;delete this.qQ}return bd};be.GJ=function(bd){delete this.AL;cl.GJ.apply(this,arguments);this.Tg()};be.GK=function(bg){if(bg.key!=this.gI.key)return;switch(bg.action){case"refresh":case"append":delete this.AL;break}cl.GK.apply(this,arguments)};be.GQ=function(){this.pu("onbeforelistload","列表加载中...");bc.cD(this.xK,"display","none")};be.GS=function(bm,cB,cV){var dc=bm.length,Hd=bm.loaded?cB+cV>=dc:cB+cV>dc;this.ic=Math.min(this.ic,dc);bc.cD(this.xK,"display",Hd?"none":"");if(Hd)this.nh=!0;if(this.iG>0){var cU=this.qD(cB,bm.length);if(this.Sw(cU.index,cU.total))return!0;var di=this.oN-this.lu,dW=this.iG*this.lu;this.nh=(cB+cV-di)%dW==0||Hd;bc.cD(this.xK,"display",this.nh?"none":"");this.GN(this.nh&&cU.total>1?"":"none")}};be.GR=function(){this.ic=0;this.nh=!0;this.pu("onemptylist","没有列表数据！")};be.Be=function(jq,ld){this.iq.insertAdjacentHTML(ld||"beforeEnd",jq)};be.Bc=function(mT){this.ig=this.ig||[];if(bj.eD(mT)){eX.push.apply(this.ig,mT)}else{this.ig.push(mT)}};be.Br=function(bg){bc.jW(this.hI);this.xM(bg,"onafteradd");var ho=bg.flag;if(bg.stopped||!ho)return;if(this.iG>0){this.GO();return}this.ic+=1;ho==-1?this.SP(bg.data):this.baV(bg.data)};be.Bq=function(bg){this.xM(bg,"onafterdelete");if(bg.stopped)return;if(this.iG>0){this.GO();return}var bE=bg.data[this.eF.pkey];if(!!this.ig){var bw=bc.OG(bE),bs=bj.hj(this.ig,bw);if(bs>=0){this.ig.splice(bs,1);this.ic-=1}if(!!bw)bw.cG()}else{var bi=bc.bG(this.RJ(bE));if(!!bi)this.ic-=1;bc.it(bi)}if(this.ic<=0)this.qk()};be.GV=function(cB,cV){if(cB!=this.ic)return;if(this.Et()){this.nh=!1;this.Tg()}};be.GW=function(cB,cV){if(cB!=0)return;var vc=this.cW.kr(this.gI.key);for(var i=cV-1;i>=0;i--){this.SP(vc[i])}};be.Tg=function(){var bu=this.sC;if(!bu||this.nh)return;this.Tc(this.sC)};be.iS=function(){delete this.nh;cl.iS.apply(this,arguments)};be.qk=function(){if(!!this.AL)return;this.AL=!0;var cB=this.ic;this.ic+=cB==0?this.oN:this.lu;this.So(cB)}})();
(function(){var bf=NEJ.P,bj=bf("nej.u"),bv=bf("nej.j"),br=bf("nm.w");var SEARCH_HISTORY_KEY="search-history",HISTORY_LIMIT=5;var Search=br.ev.extend({name:"m-search-layer",template:"#searchlayertpl",data:{placeholderTip:"",isInputFocus:false,isInSuggest:false,hotSearchWords:[],history:[],searchValue:"",suggestWords:[],current:0},config:function(){this.getPlaceHolder();this.getHotSearchWords();this.getHistory()},getPlaceHolder:function(){this.qs(location.serach);if(location.href.indexOf("/store/product/search?q=")>-1){var lU=location.href.match(/\?q=(.*)$/);this.data.searchValue=decodeURIComponent(lU[1]||"")}else{this.data.placeholderTip=""}},getHotSearchWords:function(){var bD="/store/api/searchsuggest/get",dH={onload:function(ce){var bo="";if(typeof ce=="string"){bo=JSON.parse(ce)}else bo=ce;this.data.placeholderTip=bo.data.defaultKey;var words=bo.data.configKey||[];words.forEach(function(word,index){for(var i in word){var name=word[i];if(name)this.data.hotSearchWords[index]=name}}.bind(this));this.data.hotLength=this.data.hotSearchWords.length||0;this.$update()}.bind(this),onerror:function(){}};bv.bV(bD,dH)},getHistory:function(){if(bv.mD(SEARCH_HISTORY_KEY))this.data.history=bv.mD(SEARCH_HISTORY_KEY);else bv.kP(SEARCH_HISTORY_KEY,[])},empty:function(){this.$refs.label.style.display="none";this.data.searchValue="";this.focus()},isSearchValueEmpty:function(){return this.data.searchValue?false:true},search:function(q,index,key){this.doStastic(index,key);this.getSearchValueByIndex(this.data.current);var query="",value=this.data.searchValue;query=q||value||"";setTimeout(function(){this.addHistory(query)}.bind(this),0);var url="/store/product/search?q="+encodeURIComponent(query);window.location.replace(url);return false},suggest:function(){var inputStr=this.data.searchValue,decodeStr=decodeURIComponent(this.data.searchValue),bD="/store/api/searchsuggest/search?key="+inputStr,dH={onload:function(ce){var bo="",Ti=[],xA=[],co={};if(typeof ce=="string"){bo=JSON.parse(ce)}else{bo=ce}Ti=bo.data.result||[];xA=Ti.map(function(item){co={};co.txt=item.name;return co});for(var i=0,len=xA.length;i<len;i++){xA[i].html=xA[i].txt.replace(decodeStr,'<em style="color:#0c73c2">'+decodeStr+"</em>")}this.data.suggestWords=xA;this.$update()}.bind(this),onerror:function(){}};bv.bV(bD,dH)},isHistoryShow:function(){return this.isSearchValueEmpty()&&this.data.isInputFocus},isSuggestShow:function(){return!!this.data.suggestWords.length&&this.data.isInputFocus},focus:function(){this.$refs.input.focus();this.data.isInputFocus=true},lostFocus:function(){if(!this.data.isInSuggest){this.data.isInputFocus=false}this.data.current=0},mouseEnter:function(){this.data.isInSuggest=true},mouseLeave:function(){this.data.isInSuggest=false;this.data.current=0},hideProducts:function(){var node=document.getElementById("product-list");Regular.dom.addClass(node,"z-hide")},addHistory:function(item){var sk=this.data.history,bs=bj.hj(sk,item);if(bs>=0)sk.splice(bs,1);sk.unshift(item);sk=sk.slice(0,Math.min(sk.length,HISTORY_LIMIT));bv.kP(SEARCH_HISTORY_KEY,sk)},delHistory:function(index){this.$refs.input.focus();this.data.history.splice(index,1);bv.kP(SEARCH_HISTORY_KEY,this.data.history)},doStastic:function(index,key){if(index===undefined){this.biLog("click",{button:"search",name:"mallhome"})}else{if(key==="hot"){this.biLog("click",{type:"hotkeyword",keyword:this.data.searchValue,position:index,name:"mallhome"})}else{this.biLog("click",{type:"search",keyword:this.data.searchValue,position:index+1,name:"mallhome"})}}},onKeyUp:function($event){var code=$event.which||$event.keyCode;if(code===38){this.changeItem("up")}else if(code===40){this.changeItem("down")}},changeItem:function(type){if(!this.isSuggestShow()){this.data.total=this.data.hotLength+this.data.history.length}else{this.data.total=this.data.suggestWords.length+1}if(type==="up"){if(this.data.current<=1){this.data.current=this.data.total}else{this.data.current=--this.data.current}}else{if(this.data.current>=this.data.total){this.data.current=1}else{this.data.current=++this.data.current}}},getSearchValueByIndex:function(index){var index=index||0,searchValue=this.data.searchValue;if(!this.isSuggestShow()){if(index<this.data.hotLength){this.data.searchValue=this.data.hotSearchWords[index-1]}else{index=this.data.current-this.data.hotLength;this.data.searchValue=this.data.history[index-1]}}else{if(index!==1){this.data.searchValue=(this.data.suggestWords[index-2]||{}).txt}}if(index===0){this.data.searchValue=searchValue||this.data.placeholderTip}},hotEnter:function(index){this.data.current=index+1},hyEnter:function(index){this.data.current=index+this.data.hotLength+1},sugEnter:function(index){if(index==="sp"){this.data.current=1}else{this.data.current=index+2}},allLeave:function(){this.data.current=0}});br.bbD=Search})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),bv=bf("nej.j"),br=bf("nm.w");var Select=br.ev.extend({name:"m-select",template:"#selectTmp",data:{isShow:false,item:[{name:"我的订单",action:"order",className:"order"},{name:"我的优惠券",action:"mycoupon",className:"coupon-icon"},{name:"我的收货地址",action:"address",className:"address"},{name:"网易云音乐首页",action:"mainside",className:"mainside"},{name:"退出",action:"logout",className:"logout"}],loginItem:[{name:"手机号登录",action:"login",className:"phone"},{name:"微信登录",action:"login",className:"wechat"},{name:"QQ登录",action:"login",className:"qq"},{name:"新浪微博登录",action:"login",className:"sina"},{name:"网易邮箱账号登录",action:"login",className:"netease"}]},config:function(){if(this.data.isLogin!=="1"){this.data.item=this.data.loginItem;this.data.isLogin=false}else{this.data.isLogin=true}this.getCoupon()},init:function(){},show:function(){this.data.isShow=true},hide:function(argument){this.data.isShow=false},act:function(e){var bi=bn.cL(e,"d:action");switch(bc.bJ(bi,"action")){case"order":this.biLog("click",{type:"my",name:"home"});location.href="/store/my/order";break;case"mycoupon":location.href="/store/my/coupon";break;case"address":location.href="/store/address";break;case"mainside":location.href="/";break;case"logout":var bD="/api/logout";var lg=bv.bV(bD,{type:"json",method:"post",timeout:3e4,mode:0||1||2||3,onload:function(bh){if(bh&&bh.code==200){location.href="/store/product"}}.bl(this),onerror:function(dY){},onbeforerequest:function(bh){}});break}},getCoupon:function(){bv.bV("/store/api/storecoupon/getUserCouponCount",{method:"GET",type:"json",query:{source:0},onload:function(bh){this.data.item.map(function(item){if(item.action==="mycoupon"&&bh.count>0){item.name+="("+bh.count+"张"+")"}});this.$update()}.bl(this),onerror:function(eZ){console.log(eZ)}})}});br.bbE=Select})();
(function(){var bf=NEJ.P,bj=bf("nej.u"),bv=bf("nej.j"),br=bf("nm.w");var SEARCH_HISTORY_KEY="search-history";var Nav=br.ev.extend({data:{},init:function(){var SearchCb=(new br.bbD({})).$inject("#m-search");Select=(new br.bbE({data:{avatarUrl:this.data.avatarUrl||"",isLogin:this.data.isLogin||"false"}})).$inject("#m-user")}});br.fg=Nav})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bW=bf("nej.ut"),bk=bf("nm.x"),bU=bf("nm.d"),be,cl;bU.le=NEJ.C();be=bU.le.cg(bW.BA);be.ek=function(){var yt=location.protocol+"//"+location.host;var Eo=function(bX,bh){var cm={conf:{},data:{},urls:[]};bj.ch(bX,function(bz,bs,bm){var bZ=bU.bG(bz);if(!bZ)return;var rZ=yw(bZ.url,bh[bz]);cm.urls.push(rZ);cm.conf[rZ]=bZ;cm.data[rZ]=JSON.stringify(bh[bz]==null?"":bh[bz])});return cm};var yw=function(bD,bh){return bD.replace(/\{(.*?)\}/gi,function($1,$2){return bh[$2]||$1})};var yx=function(bZ,bd,bg){bn.bR(window,"requesterror",bg);if(!!bg.stopped)return;var rT=bZ.onerror||bd.onerror;if(bj.eT(rT)){this.bR(rT,bg,bd)}else{(rT||cj).call(this,bg,bd)}var bg={result:bg,option:bd};this.bR("onerror",bg);if(!bg.stopped)(bZ.onmessage||cj).call(this,bg.result.code)};var yA=function(cf,bZ,bd){var bo=cf;if(bj.eH(bZ.format)){bo=bZ.format.call(this,cf,bd)}return bo};var lN=function(cf,bZ,bd,hY){if(cf.code!=null&&cf.code!=200){yx.call(this,bZ,bd,{key:bd.key,code:cf.code,message:cf.message||""});return}var bo=cf;if(!hY){bo=yA.call(this,cf,bZ,bd)}else if(bj.eH(bZ.format)){var rR=[];bj.ch(hY.urls,function(bD){rR.push(yA.call(this,cf[bD],hY.conf[bD],bd))},this);rR.push(bd);bo=bZ.format.apply(this,rR)}var ed=bZ.onload||bd.onload,yD=bZ.finaly||bd.finaly||cj;if(bj.eT(ed)){yD.call(this,this.bR(ed,bo),bd)}else{yD.call(this,(ed||cj).call(this,bo),bd)}};var mj=function(bZ,bd,dY){yx.call(this,bZ,bd,{key:bd.key,code:dY.code||-1,message:dY.message||""})};return function(bZ,bd){if(bj.eT(bZ)){bZ=bU.bG(bZ)}delete bd.value;(bZ.filter||cj).call(this,bd,bZ);var cf=bd.value;if(!!cf){lN.call(this,cf,bZ,bd);return}var bD,bh=bd.data||cz,ir={cookie:!0,type:bZ.rtype||"json",method:bZ.type||"POST",onerror:mj.bl(this,bZ,bd)};if(bj.eD(bZ.url)){var hY=Eo(bZ.url,bh);bD=yt+"/batch";ir.data=bj.dv(hY.data);ir.onload=lN.fH(this,bZ,bd,hY);ir.headers={"batch-method":"POST"};delete hY.data}else{var hB=bZ.url.indexOf(":")<0?yt:"";bD=yw(hB+bZ.url,bh);ir.data=bj.dv(bd.data);ir.onload=lN.fH(this,bZ,bd)}if(ir.method=="GET")ir.query=ir.data;return bv.bV(bD,ir)}}();be.lT=function(){var eS=/^get|list|pull$/i;return function(yG,bd){var bz=bd.key,bZ=bU.bG(bz.split("-")[0]+"-"+yG);if(eS.test(yG)&&!bZ.type)bZ.type="GET";this.ek(bZ,bd)}}();be.bcQ=function(bz,bm){var dK=bm.length;this.Bg({key:bz,offset:0,limit:dK+1},{list:bm,total:dK})};be.ym=function(bd){this.lT("list",bd)};be.Ep=function(bd){this.lT("pull",bd)};be.Er=function(bd){this.lT("add",bd)};be.yp=function(bd){this.lT("del",bd)};be.yq=function(bd){this.lT("update",bd)};bW.jg.bL({element:window,event:"requesterror"})})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bM=bf("nej.ui"),bW=bf("nej.ut"),bj=bf("nej.u"),bk=bf("nm.x"),bU=bf("nm.d"),br=bf("nm.w"),be;br.gh=NEJ.C();be=br.gh.cg(bM.jt);cl=br.gh.gO;be.cO=function(bd){var fk=bd.num||0,To=false,bbJ=bd.isHideCart||false;if(fk>99){fk=99;To=true}this.Tq=bd.isLogin;bc.de("m2top","m-top",{num:fk,isOut:To,isHideCart:bbJ});this.Hf=bc.bN(document.body,"j-totop");this.Tu=!!this.Hf[0]?this.Hf[0].parentNode:this.Hf;bn.bT(document.body,"click",this.cH.bl(this));bn.bT(window,"scroll",function(bg){var fL=document.body.scrollTop||document.documentElement.scrollTop;if(fL>200){this.cw()}else{this.cQ()}}.bl(this))};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"go2license":location.href="/market/m/law";break;case"top":this.bbQ();break;case"shopcar":this.eE("shopcar");break;case"kefu":if(this.Tq=="0"){var cC=location.href;location.href="/login?targetUrl="+encodeURIComponent(cC)}else{window.open("//music.163.com/#/msg/m/private_detail?id=253335632&nickname=%E4%BA%91%E9%9F%B3%E4%B9%90%E5%AE%A2%E6%9C%8D")}break}};be.bbQ=function(bg){var fL=document.body.scrollTop||document.documentElement.scrollTop;if(fL>10){pX=[fL*.4,fL*.3,fL*.2,fL*.1,0];var bM=0;var gJ=setInterval(function(){if(bM<pX.length){window.scrollTo(0,pX[bM]);bM++}else{clearInterval(gJ)}}.bl(this),20)}else if(fL<10&&fL>0){window.scrollTo(0,0)}else{}};be.eE=function(dE){if(!!dE){if(dE==="shopcar"){if(this.Tq!=="0"){bk.cF("click",{type:"shoppingcart",name:"mallhome"});window.open("/store/cart")}else{var cC="/store/cart";location.href="/login?targetUrl="+encodeURIComponent(cC)}}else{}}};be.cw=function(){bc.bQ(this.Tu,"f-hide")};be.cQ=function(){bc.bS(this.Tu,"f-hide")};be.du=function(){this.dG()}})();
(function(){var bf=NEJ.P,br=bf("nm.w");var CouponItemCp=br.ev.extend({name:"m-coupon-item",template:"#couponitemtpl",data:{isShowMore:false,isShowTip:false,isShowDetail:0},config:function(){this.supr();this.setTime();this.setDesc();this.isNeedShowOverTime()},init:function(){this.checkShowTip()},handleClick:function(coupon){coupon.selected=true;this.$emit("selectCoupon",coupon.userCouponId)},goPage:function(){var coupon=this.data.coupon;var url=coupon.useUrl;if(url==""){if(this.isVipCoupon()){url="/store/m/vip"}else{url="/store/product"}}location.href=url},setTime:function(){var coupon=this.data.coupon;var timeMat="";if(coupon.welfareType===1){timeMat=parseInt(coupon.validEndTime)-(new Date).getTime();if(timeMat>0){this.setCountDown(timeMat)}}},setDesc:function(){var coupon=this.data.coupon;var desc="";if(coupon.effectAction.actionType===0){desc="无门槛"}else{desc="满"+coupon.effectAction.minMoney+"使用"}coupon.desc=desc},isNeedShowOverTime:function(){var coupon=this.data.coupon;var second=7*24*60*60*1e3;if(parseInt(coupon.endTime)-(new Date).getTime()<second){this.data.isShowOverTime=true}},setCountDown:function(timeMat){var coupon=this.data.coupon;function fix(str){str=""+(str||0);return str.length<=1?"0"+str:str}var preSecond=parseInt(timeMat/1e3);function countDown(){var second=preSecond%60;var preMinute=Math.floor(preSecond/60);var minute=preMinute%60;var preHour=Math.floor(preMinute/60);var hour=preHour%24;var day=Math.floor(preHour/24);if(fix(day)=="00"){countdown="活动剩余时间:"+fix(hour)+":"+fix(minute)+":"+fix(second)+"  "}else{countdown="活动剩余时间:"+fix(day)+"天 "+fix(hour)+":"+fix(minute)+":"+fix(second)+"  "}coupon.countdown=countdown;this.$update();if(preSecond--){setTimeout(countDown.bind(this),1e3)}}setTimeout(countDown.bind(this),1e3)},toggleShow:function(){this.data.isShowMore=!this.data.isShowMore},checkShowTip:function(){setTimeout(function(){if(this.$refs.coupondes.clientWidth<this.$refs.coupondes.scrollWidth){this.data.isShowTip=true;this.$update()}}.bl(this),100)},showDetail:function(type){this.data.isShowDetail=type;console.log(this.data.isShowDetail);this.$update()},isVipCoupon:function(){var coupon=this.data.coupon;return coupon.source===7},isShowCoupon:function(){var coupon=this.data.coupon;return coupon.source===10},getShowCouponDiscount:function(){var coupon=this.data.coupon;var effectValue=coupon.effectAction&&coupon.effectAction.effectValue||10;var discount=parseInt((10-effectValue)*10);return coupon.effectAction&&coupon.effectAction.effectType==2?discount+"%":""}});br.bmy=CouponItemCp})();
(function(){var bf=NEJ.P,bn=bf("nej.v"),br=bf("nm.w");var WaterPagerComponent=br.ev.extend({name:"m-water-jump",throttleTimer:"",data:{offsetHeight:100,delay:200},init:function(){this.initOnSrollEvent()},initOnSrollEvent:function(){var mr=this.onSrollHander.bind(this);bn.kA(window,"scroll",mr);bn.bT(window,"scroll",mr)},onSrollHander:function(){clearTimeout(this.throttleTimer);this.throttleTimer=setTimeout(function(){if(this.getWindowSrollTop()+this.getWindowHeight()>this.getDocumentHeight()-this.data.offsetHeight){this.$emit("pagerjump")}}.bind(this),this.data.delay)},getWindowSrollTop:function(){return window.pageYOffset||window.scrollY},getWindowHeight:function(){return window.innerHeight},getDocumentHeight:function(){return document.body.scrollHeight}});br.bcd=WaterPagerComponent})();
(function(){var bf=NEJ.P,bM=bf("nej.ui"),bF=bf("nm.l"),be,cl;bF.tF=NEJ.C();be=bF.tF.cg(bM.rB);be.cO=function(bd){bd.nohack=true;this.cP(bd)}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bF=bf("nm.l"),be,cl;bF.fv=NEJ.C();be=bF.fv.cg(bF.tF);cl=bF.fv.gO;be.cO=function(bd){this.cP(bd);this.qc=bd.type||1};be.eB=function(){this.eO();this.bC=bc.pV(this.IO());var bm=bc.fs(this.bC);this.zS=bm[0];this.hI=bm[1]};be.IO=function(){return'<div class="sysmsg"><i class="u-icn u-icn-31"></i><span></span></div>'};be.oT=function(){var bA={},fM=this.bC.style,hf=bc.my(),jl={left:hf.scrollLeft,top:hf.scrollTop},di={left:hf.clientWidth-this.bC.offsetWidth,top:hf.clientHeight-this.bC.offsetHeight};bA.top=Math.max(0,jl.top+di.top/2);bA.left=Math.max(0,jl.left+di.left/2);this.og.nZ(bA)};be.cw=function(bd){cl.cw.call(this);this.oT();this.qc==1?bc.kB(this.zS,"u-icn-32","u-icn-31"):bc.kB(this.zS,"u-icn-31","u-icn-32");this.hI.innerHTML=bd.tip||""};bF.fv.cw=function(){var gJ;return function(bd){clearTimeout(gJ);if(bd.parent===undefined)bd.parent=document.body;if(bd.autoclose===undefined)bd.autoclose=true;bd.clazz="m-sysmsg";!!this.eV&&this.eV.cG();this.eV=this.bL(bd);this.eV.cw(bd);if(bd.autoclose)gJ=setTimeout(this.cQ.bl(this),2e3)}}();bF.fv.cQ=function(){!!this.eV&&this.eV.cQ()}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),fS=bf("nm.ut");fS.pw=function(dQ){var dw={text:"",start:0,end:0};if(dQ.setSelectionRange){dw.start=dQ.selectionStart;dw.end=dQ.selectionEnd;dw.text=dw.start!=dw.end?dQ.value.substring(dw.start,dw.end):""}else if(document.selection){var i,pz=document.selection.createRange(),im=document.body.createTextRange();im.moveToElementText(dQ);dw.text=pz.text;dw.bookmark=pz.getBookmark();for(i=0;im.compareEndPoints("StartToStart",pz)<0&&pz.moveStart("character",-1)!==0;i++){if(dQ.value.charAt(i)=="\n"){i++}}dw.start=i;dw.end=dw.text.length+dw.start}return dw};fS.yh=function(dQ,dw){var im;if(!dw){dw={text:"",start:0,end:0}}dQ.focus();if(dQ.setSelectionRange){dQ.setSelectionRange(dw.start,dw.end)}else if(dQ.createTextRange){im=dQ.createTextRange();if(dQ.value.length===dw.start){im.collapse(false);im.select()}else{im.moveToBookmark(dw.bookmark);im.select()}}};fS.yg=function(dQ,dw,dN){var dw=dw||{text:"",start:0,end:0};var ti,yd,im,mC,xZ,xX,nM;this.yh(dQ,dw);if(dQ.setSelectionRange){ti=dQ.value;yd=ti.substring(0,dw.start)+dN+ti.substring(dw.end);xZ=xX=dw.start+dN.length;nM=dQ.scrollTop;dQ.value=yd;if(dQ.scrollTop!=nM){dQ.scrollTop=nM}dQ.setSelectionRange(xZ,xX)}else if(dQ.createTextRange){mC=document.selection.createRange();mC.text=dN;mC.setEndPoint("StartToEnd",mC);mC.select()}bn.bR(dQ,"keyup")}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bM=bf("nej.ui"),bF=bf("nm.l"),be,cl;bF.xz=NEJ.C();be=bF.xz.cg(bM.uK);be.cO=function(bd){bd.clazz="m-layer z-show "+(bd.clazz||"");bd.nohack=true;bd.draggable=true;this.cP(bd)};be.mU=function(bi,dC){if(!bi)return;bc.cD(bi,"display",!dC?"none":"");bi.lastChild.innerText=dC||""};be.uM=function(hC,ln,Fd,EY){var dZ="js-lock";if(ln===undefined)return bc.dg(hC,dZ);!ln?bc.bQ(hC,dZ):bc.bS(hC,dZ);hC.firstChild.innerText=!ln?Fd:EY};bF.xz.cw=function(bd){bd=bd||{};if(bd.mask===undefined)bd.mask="m-mask";if(bd.parent===undefined)bd.parent=document.body;if(bd.draggable===undefined)bd.draggable=true;!!this.eV&&this.eV.cG();this.eV=this.bL(bd);this.eV.cw(bd);return this.eV};bF.xz.cQ=function(){!!this.eV&&this.eV.cG()}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bW=bf("nej.ut"),bv=bf("nej.j"),bk=bf("nm.x"),bU=bf("nm.d"),fS=bf("nm.ut"),bF=bf("nm.l"),be,cl;bF.Hh=NEJ.C();be=bF.Hh.cg(bF.xz);cl=bF.Hh.gO;be.cZ=function(){this.dh()};be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.nV=bm[0];this.bcl=bm[1];this.hI=bm[2];this.Tz=bm[3];this.pm=bm[4];bn.bT(this.bC,"click",this.Hi.bl(this));bn.bT(this.nV,"input",this.qh.bl(this));bn.bT(this.nV,"keyup",this.EO.bl(this))};be.fw=function(){this.gv="m-sharesingle-layer"};be.cO=function(bd){bd.parent=bd.parent||document.body;bd.title=bd.title||"分享";bd.draggable=!0;bd.mask=!0;bd.clazz="m-layer m-layer-w2";this.cP(bd);this.nV.value=bd.mesg||"";this.dS={id:bd.rid,type:bd.type,picUrl:bd.purl,snsType:bd.snsType,resourceUrl:bd.rurl};if(!this.dS.resourceUrl)delete this.dS.resourceUrl;this.Al();this.mU(null);this.uM(false)};be.Hi=function(bg){var bi=bn.cL(bg,"d:action"),fq=bc.bJ(bi,"action");bn.jP(bg);switch(fq){case"txt":this.nt();break;case"emt":bn.AY(bg);!!this.qd&&this.qd.xp();if(!this.lE){this.lE=bF.Av.bL({parent:this.bcl});this.lE.bT("onselect",this.xk.bl(this))}this.lE.cw();break;case"ok":this.mU(null);if(this.bcq)return;if(this.nV.value.trim().length>140){this.mU("字数超过140个字符");return}this.uM(true);this.dS.msg=this.nV.value;if(!this.dS.resourceUrl){delete this.dS.resourceUrl}bv.bV("/sns/share/resource",{type:"json",method:"post",data:bj.dv(this.dS),onload:this.TH.bl(this),onerror:this.TH.bl(this)});break;case"cc":this.cQ();break}};be.xk=function(bg){var cq="["+bg.text+"]";fS.yg(this.nV,this.mz,cq);this.Al()};be.qh=function(){this.Al();this.nt()};be.EO=function(){this.Al();this.nt()};be.Al=function(){var dc=this.nV.value.trim().length;this.hI.innerText=140-dc;dc>140?bc.kB(this.hI,"s-fc4","s-fc6"):bc.kB(this.hI,"s-fc6","s-fc4")};be.nt=function(){this.mz=fS.pw(this.nV)};be.TH=function(bg){var ik={407:"输入内容包含有关键字",404:"分享的资源不存在",408:"分享太快了，过会再分享吧"};if(bg.code==200){this.bR("onsuccess",bg);if(!bg.stopped){bF.fv.cw({tip:"分享成功！",autoclose:true})}this.cQ()}else{this.mU(ik[bg.code]||"分享失败")}this.uM(false)};be.mU=function(TJ){if(TJ){this.pm.innerHTML='<i class="u-icn u-icn-25"></i>'+TJ;bc.bQ(this.pm,"f-hide")}else{bc.bS(this.pm,"f-hide")}};be.uM=function(TQ){this.bcq=TQ;if(TQ){this.Tz.innerHTML="<i>分享中...</i>"}else{this.Tz.innerHTML="<i>分享</i>"}};be.cw=function(){cl.cw.call(this);var hn=this.nV.value.length;fS.yh(this.nV,{start:hn,end:hn,text:""});this.nt()}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bW=bf("nej.ut"),bv=bf("nej.j"),bk=bf("nm.x"),bU=bf("nm.d"),wc=bf("api"),bF=bf("nm.l"),be,cl;bF.TS=NEJ.C();be=bF.TS.cg(bF.xz);be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");bn.bT(this.bC,"click",this.cH.bl(this))};be.fw=function(){this.gv="m-simple-share-layer"};be.cO=function(bd){bd.clazz="m-layer-w6";if(!bd.shareType)bd.parent=bd.parent||document.body;bd.title=bd.title||"分享";bd.draggable=!0;bd.mask=bd.mask||true;this.cP(bd);this.dS={id:bd.id||0,type:bd.type||"activity",picUrl:bd.picUrl,msg:bd.text,resourceUrl:bd.resourceUrl,summary:bd.summary,resource:bd.resource||"",resourceid:bd.resourceid||""};this.gg([[window,"snsbind",this.bcG.bl(this)],[window,"snsbinderror",this.cQ.bl(this)]]);this.wr={rid:this.dS.id,rurl:this.dS.resourceUrl,purl:this.dS.picUrl,mesg:this.dS.msg,type:this.dS.type,onsuccess:bd.onsuccess};if(bd.shareType){this.Uf(bd.shareType)}};be.cH=function(bg){var bi=bn.cL(bg,"d:type"),bB=bc.bJ(bi,"type");this.Uf(bB)};be.bcN=function(){return this.dS&&this.dS.resource=="concert"};be.bcO=function(bB){var xs="";switch(bB){case"xlwb":xs="sina";break;case"wx":xs="wxtimeline";break;case"yx":xs="yxtimeline";break;case"qzone":xs="qzone";break}bk.cF("click",{target:"share",targertid:xs,resource:"concert",resourceid:this.dS.resourceid})};be.Uf=function(bB){if(this.bcN()){this.bcO(bB)}switch(bB){case"xlwb":case"rr":case"db":var qt={xlwb:2,rr:4,db:3},Hl=qt[bB],bcR=localCache.kX("user.bindings")||[],bs=bj.hj(bcR,function(bw){return bw.type==Hl&&!bw.expired});if(bs>=0){this.Ul(Hl)}else{var ej={snsType:Hl,callbackType:"Binding",clientType:"web2",forcelogin:true,csrf_token:bv.CZ("__csrf")};top.window.open("/api/sns/authorize?"+bj.dv(ej))}break;case"wx":case"yx":var ej={resourceUrl:this.dS.resourceUrl,type:bB};top.open("/share/QRCode?"+bj.dv(ej));this.cQ();break;case"qzone":var gd={url:this.dS.resourceUrl,title:this.dS.msg||"",pics:this.dS.picUrl,summary:this.dS.summary};top.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+bj.dv(gd));this.cQ();break;case"lofter":var gd={from:"cloudmusic",image:this.dS.picUrl,source:"网易云音乐",sourceurl:this.dS.resourceUrl,content:this.dS.msg};top.open("http://www.lofter.com/sharephoto/?"+bj.dv(gd));this.cQ();break}};be.bcG=function(bg){this.Ul(bg.result.type)};be.Ul=function(bB){this.cQ();if(this.zY){this.zY.cG();delete this.zY}this.wr.snsType=bB;this.zY=bF.Hh.bL(this.wr);this.zY.cw()};var dA=null;window.api.simpleShare=function(bd){if(dA)dA.cG();dA=bF.TS.bL(bd).cw()}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bW=bf("nej.ut"),bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bF=bf("nm.l"),bU=bf("nm.d"),be,cl;bU.hy({"product-list":{url:"/store/api/product/all",type:"GET",format:function(cf,bd){var Uo=cf.products||[];if(bd.data.type==0&&bd.data.kc>0){Uo.unshift({id:-99,coverUrl:"/store/web/img/kaola_rect.jpg"})}return{total:cf.count||0,list:Uo}}}});bU.Uq=NEJ.C();be=bU.Uq.cg(bU.le);be.cZ=function(){this.dh()};be.jy=function(){return this.EC("product-list")};bW.jg.bL({element:bU.Uq,event:["listchange","itemchange"]})})();
(function(){var bf=NEJ.P,br=bf("nm.w");var CardComponent=br.ev.extend({name:"m-card",template:"#cardtpl",isVip:function(obj){return obj&&obj.useVipPrice?true:false},isMemeber:function(obj){return obj&&obj.vipLimit?true:false},isAdCard:function(obj){return obj.isAd?true:false},isShowPrice:function(obj){return obj.priceType==1?true:false},isSoldOut:function(obj){return obj.stock==0?true:false},isLottery:function(obj){return obj&&obj.exchangeType==1?true:false},conbineUrl:function(id){var href="",title="",targetUrl="",targetUrl=encodeURIComponent(location.href);title=location.href.indexOf("/credit/index")>-1?"积分商城":this.qs("title");href=title?"/store/product/detail?id="+id+"&title="+title:"/store/product/detail?id="+id;return href}});br.bdd=CardComponent})();
(function(){var bf=NEJ.P,bv=NEJ.P("nej.j"),br=bf("nm.w");var FilterLayerComponent=br.ev.extend({name:"m-filter-layer",template:"#filterlayertpl",config:function(){this.initDefalutData();this.initData();this.title=this.qs("title")},initDefalutData:function(){this.data.isComplete=false;this.data.brandLimit=18;this.data.brandNoLimit=false;this.data.count=this.data.count||0;this.data.list&&this.data.list.forEach(function(item){item.value.forEach(function(cell){cell.selected=false;if(cell.type=="custom"){cell.begin="";cell.end=""}})})},hasSelected:function(title){var bmx=[];if(!(this.data.list&&this.data.list.length)){return false}for(var i=0,len=this.data.list.length;i<len;i++){var item=this.data.list[i];if(item.title==title){bX=item.value.filter(function(cell){return cell.selected});if(bX.length>1){return true}}}return false},onCustomBulr:function(event,list){var min=this.getCPriceObj(list,1);var max=this.getCPriceObj(list,2);if(!!this.timeId){clearTimeout(this.timeId)}this.timeId=setTimeout(function(){if(min.begin&&max.end){if(parseInt(min.begin)>parseInt(max.end)){var bW=min.begin;min.begin=max.end;max.end=bW}this.data.isComplete=true}else{this.data.isComplete=false}this.$update()}.bl(this),600)},onItemClick:function(item){item.selected=!item.selected;this.$udpate()},onItemSelect:function(unit,list,isMutilple){if(!isMutilple){list.forEach(function(item){if(unit.id==item.id){if(unit.type!="custom")unit.selected=!unit.selected;else unit.selected=true}else{item.selected=false}})}else{unit.selected=!unit.selected}if(!unit.noSearch)this.doSearch();if(!!unit.brandName){this.biLog("click",{button:"brand",type:"filter",name:this.title})}else if(!!unit.kindname){this.biLog("click",{button:"class",type:"filter",name:this.title})}else{this.biLog("click",{button:"price",type:"filter",name:this.title})}},doSearch:function(){var je={},bh=this.data;for(var i=0,len=this.data.list.length;i<len;i++){var item=this.data.list[i];if(item.title=="价格"){var bX=item.value.filter(function(unit){return unit.selected});if(bX.length){je.price_from=bX[0].begin;je.price_to=bX[0].end;var Ur=this.getCPriceObj(item.value,1);var Us=this.getCPriceObj(item.value,2);if(Ur.selected||Us.selected){je.price_from=Ur.begin;je.price_to=Us.end}if(typeof je.price_from=="number"){je.price_from=je.price_from.toString()}}}else if(item.title=="品牌"){var Uu=item.value.filter(function(unit){return unit.selected});if(Uu.length)je.brand=Uu.map(function(cell){return cell.brandName}).join(",")}else if(item.title=="分类"){var bmw=[],Hn=[],Ho=[];item.value.forEach(function(unit){if(unit.selected){Hn.push(unit.kindname);Ho.push(unit.kindname)}});if(Hn.length){je.category_2=Hn.join(",")}if(Ho.length){je.cname=Ho.join(",")}}}je.offset=0;this.$emit("dosearch",{querys:je,callback:this.setCount.bind(this)});if(!this.isFirst){this.biLog("click",{type:"filter",name:this.title});this.isFirst=true}},setCount:function(dI){this.data.count=dI;this.$update()},reset:function(title){this.resetTitle(title);this.doSearch()},resetTitle:function(title){this.data.brandLimit=18;this.data.brandNoLimit=false;this.data.count=this.data.count||0;this.data.list&&this.data.list.forEach(function(item){if(item.title===title){item.value.forEach(function(cell){cell.selected=false})}})},complete:function(){this.data.list.forEach(function(item){if(item.title==="价格"){item.value.forEach(function(ite){if(ite.id==="minid"){ite.begin=Math.round(parseFloat(ite.begin))}else if(ite.id==="maxid"){ite.end=Math.round(parseFloat(ite.end))}})}});this.doSearch();this.setLayerShow(false)},isShow:function(){return this.data.isFilterLayerShow},setLayerShow:function(isShow){this.data.isFilterLayerShow=true;this.$update()},initData:function(callback){var bD="/store/api/sortedAndFilter/list";bv.bV(bD,{query:{category1Id:this.data.category1Id},onload:function(ce){var bo="";if(typeof ce=="string"){bo=JSON.parse(ce)}else bo=ce;if(bo&&bo.code==200){this.handleData(bo)}}.bind(this),error:function(ce){console.log(ce)}.bind(this)})},getCPriceObj:function(bm,index){if(index==1){return this.checkValid(bm[bm.length-2])}else{return this.checkValid(bm[bm.length-1])}},checkValid:function(co,bs){if(co.begin===""&&!co.end||co.end===""&&!co.begin){return co}var reg=/^(\d*\.?\d*)\D*$/,res="";if(!!co.begin){res=reg.exec(co.begin)[1]||"";co.begin=res}else{res=reg.exec(co.end)[1]||"";co.end=res}return co},handleData:function(cT){var bX=[];bX[0]=cT.data[1];bX[1]=cT.data[2];bX[2]=cT.data[0];this.data.list=bX;var bW="min1";var bmv=new Date;var beginObj={id:"minid",noSearch:true,type:"custom",begin:""};var toObj={id:"maxid",noSearch:true,type:"custom",end:""};for(var i=0,len=this.data.list.length;i<len;i++){var bw=this.data.list[i];if(bw.title=="价格"){bw.value.push(beginObj);bw.value.push(toObj)}}this.$update()}});br.bds=FilterLayerComponent})();
(function(){var bf=NEJ.P,br=bf("nm.w");var ListFilterComponent=br.ev.extend({name:"m-list-filter",template:"#listftpl",data:{filterType:1,filterList:[]},config:function(){this.initFilterHeaders()},initFilterHeaders:function(){this.data.filterList.push({id:1,name:"综合",iclazz:"",iSelectedClazz:"s-fc6",selected:true,onSelected:this.onComopisiteSeleced.bind(this)});this.data.filterList.push({id:2,name:"价格",iclazz:"i-price",iSelectedClazz:"",onSelected:this.onPrizeSelecedUp.bind(this)});this.data.filterList.push({id:3,name:"价格",iclazz:"i-price",iSelectedClazz:"",onSelected:this.onPrizeSelecedDown.bind(this)});this.data.filterList.push({id:4,name:"筛选",tag:"filter",iclazz:"i-filter",iSelectedClazz:"selected",onSelected:this.onFilterIconSeleced.bind(this)})},onHistoryEvent:function(){window.onpopstate=function(event){if(this.nu&&this.nu.isShow()){this.nu.setLayerShow(false);event.preventDefault();event.stopPropagation()}}.bind(this)},getQueryParams:function(obj,isPager){var je=this.data.filterdQuerys;if(isPager){if(je&&je.offset===0){delete je.offset}}this.extend(obj,je);obj.sort=this.data.sort;delete obj.cname},onHeaderSelected:function(filter){filter.onSelected(filter)},isSelected:function(item){return item&&item.selected?true:false},onBaseFilterSelected:function(flist,filterObj){flist.forEach(function(item,index){if(item.id==filterObj.id){item.selected=true}else item.selected=false})},onComopisiteSeleced:function(filterObj){this.onBaseFilterSelected(this.data.filterList,filterObj);this.setSort(filterObj);this.$emit("filterBarItemSelected",filterObj)},getPriceIcon:function(item){if(this.isSelected(item)){return item.isAscend?1:2}else{return 0}},setFiltedResult:function(filteredResult){this.data.filterdQuerys=filteredResult;this.$update();this.$emit("filterBarItemSelected",filteredResult)},onPrizeSelecedUp:function(filterObj){this.onBaseFilterSelected(this.data.filterList,filterObj);filterObj.isAscend=true;this.setSort(filterObj);this.$emit("filterBarItemSelected",filterObj)},onPrizeSelecedDown:function(filterObj){this.onBaseFilterSelected(this.data.filterList,filterObj);filterObj.isAscend=false;this.setSort(filterObj);this.$emit("filterBarItemSelected",filterObj)},setSort:function(filterObj){if(filterObj.name=="价格"){if(filterObj.isAscend)this.data.sort="price_asc";else this.data.sort="price_desc"}else if(filterObj.name=="综合"){this.data.sort=""}},setCount:function(count){this.data.layerCount=count},getCount:function(){return this.data.layerCount},setLayerCount:function(eX){this.nu&&this.nu.setCount(eX.all)},onFilterIconSeleced:function(filterObj){this.initFilterLayerComponent()},initFilterLayerComponent:function(){if(!this.nu){this.nu=new br.bds({data:{category1Id:this.qs("cid"),count:this.getCount()}});this.nu.$inject("#filter");this.nu.$on("dosearch",this.onDoSearch.bind(this));this.nu.$on("filterLayerAppear",this.onFilterLayerApper.bind(this))}this.showLayer()},onFilterLayerApper:function($event){this.$emit("filterLayerAppear",$event)},onDoSearch:function($event){this.setFiltedResult($event.querys)},showLayer:function(){this.nu&&this.nu.setLayerShow(true)}});br.bdw=ListFilterComponent})();
(function(){var bf=NEJ.P,br=bf("nm.w");var Pager=Regular.extend({name:"pager",template:"#pagerTmp",config:function(data){var count=5;var show=data.show=Math.floor(count/2);data.current=data.current||1;data.total=data.total||1;this.$watch(["current","total"],function(current,total){data.begin=current-show;data.end=current+show;if(data.begin<2)data.begin=2;if(data.end>data.total-1)data.end=data.total-1;if(current-data.begin<=1)data.end=data.end+show+data.begin-current;if(data.end-current<=1)data.begin=data.begin-show-current+data.end})},nav:function(page){var data=this.data;if(page<1)return;if(page>data.total)return;if(page===data.current)return;data.current=page;this.$emit("nav",page);this.resetScrollTop()},resetScrollTop:function(){document.documentElement.scrollTop=0;document.body.scrollTop=0}});br.zM=Pager})();
(function(){var bf=NEJ.P,cz=NEJ.O,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.ut"),br=bf("nm.w"),bk=bf("nm.x"),be,cl;br.Dg=NEJ.C();be=br.Dg.cg(bW.fP);var bdB={factor:1.5,delta:0,setParam:1,paramWidth:0,heightRatio:0,quality:75,clazz:"j-lazy",sbody:window,container:document.body,dynamic:false,blankImage:""};var bdE="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";(function(){var lastTime=0;var vendors=["webkit","moz"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16.7-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(id){clearTimeout(id)}}})();be.cZ=function(bd){this.dh(bd)};be.cO=function(bd){var dO=this,Hp=false;var UH=function(){if(!Hp){Hp=true;window.requestAnimationFrame(UI)}},UI=function(){dO.UJ.call(dO);if(dO.kz.dynamic||dO.eI&&dO.eI.length){Hp=false}else{bn.kA(dO.sC,"scroll",UH)}};this.cP(bd);bd=NEJ.X(NEJ.X({},bdB),bd);this.sC=bd.sbody;this.Dd=bd.container;this.kz=bd;this.eI=bc.bN(this.Dd,bd.clazz);bn.bT(this.sC,"scroll",UH);UI()};be.UO=function(){var eg=window.devicePixelRatio||Math.sqrt(screen.deviceXDPI*screen.deviceYDPI)/96||1;if(isNaN(eg)){eg=1}return function(){return eg}}();be.bdT=function(ef,hW){if(ef.indexOf(".music.126.net")>0){switch(this.kz.setParam){case 0:break;case 1:var hi=this.kz.paramWidth||hW.width;if(!hi||hi<10){hi=window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth}var Hq=Math.ceil(this.UO()*hi);if(!this.kz.heightRatio){ef+="?param="+Hq+"x9999"}else{ef+="?param="+Hq+"y"+Math.ceil(Hq*this.kz.heightRatio)}break;case 2:var hk=this.kz.paramWidth||hW.height;if(!hk){hk=window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth}var Hr=Math.ceil(this.UO()*hk);if(!this.kz.heightRatio){ef+="?param=0x"+Hr}else{ef+="?param="+Math.ceil(Hr*this.kz.heightRatio)+"y"+Hr}break}if(this.kz.setParam>0){var lA=ef.indexOf("?")<0?"?":"&";ef+=lA+"quality="+this.kz.quality}}return ef};be.bei=function(bu){if(bu&&bu.tagName.toUpperCase()=="IMG"){bu.src=this.kz.blankImage||bdE;bu.onload=null;bu.onerror=null}};be.bej=function(bu){bc.bS(bu,"z-loaded");this.bR("onimgload",bu)};be.bmu=function(bep){if(bep){this.eI=bc.bN(this.Dd,this.kz.clazz)}this.UJ()};be.UJ=function(bg){var bu=bn.cL(bg)||{};if(!bu){return}if(!bu.scrollHeight){bu=bc.my()}var cB=bc.jZ(this.Dd),di=this.kz.delta+bu.clientHeight*this.kz.factor+bu.scrollTop-cB.y,Ve=[];for(var i=0;i<this.eI.length;i++){var hW=this.eI[i];if(bc.jZ(hW,this.Dd).y<di){var ef=bc.bJ(hW,"src");if(ef&&hW.src!=ef){hW.onerror=this.bei.bl(this,hW);hW.onload=this.bej.bl(this,hW);if(bc.bJ(hW,"type")=="gif"){hW.src=this.bet(ef)}else{hW.src=this.bdT(ef,hW)}bc.bJ(hW,"src","")}}else{Ve.push(hW)}}this.eI=Ve};be.du=function(){this.dG()};be.bet=function(ef){var bB=this.bew(ef);if(!!bB){return ef.substr(0,ef.length-bB.length)+"gif"}return ef};be.bew=function(jd){return((/\.(\w+)$/.exec(jd)||cz)[1]||"").toLowerCase()};bk.bmt=function(bd){br.Dg.Tj(bd,true)}})();
(function(){var bf=NEJ.P,bv=NEJ.P("nej.j"),br=bf("nm.w");var ListComponent=br.ev.extend({template:"#filterlist",data:{isShowFilter:false,isShowPager:false,filterType:1,list:[],url:"",query:{limit:60,offset:0,more:true,cindex:0},isNeedLazyLoad:false,listType:"waterfall"},config:function(){},init:function(){this.supr();if(this.data.isShowFilter){this.initFilterHeaders()}this.$on("updatelist",this.updatelist.bl(this));if(!!this.$refs.pager){this.$refs.pager.$on("nav",this.jumpPager.bl(this))}if(this.shouldUpdate()){this.$emit("updatelist")}},needEmptyTip:function(){return this.data.needEtip},setEmptyTip:function(cj){this.data.needEtip=cj},setLayerAppear:function($event){this.data.isFilterLayerShow=$event;this.$update()},shouldUpdate:function(){return true},initFilterHeaders:function(){this.lm=new br.bdw({data:{filterType:this.data.filterType}});this.lm.$inject(Regular.dom.element(this),"top");this.lm.$on("dosearch",this.onFreshList.bind(this));this.lm.$on("filterBarItemSelected",this.onFreshList.bind(this));this.lm.$on("filterLayerAppear",this.setLayerAppear.bind(this))},getHeaderParams:function(obj){this.lm&&this.lm.getQueryParams(obj,this.data.isPager);this.data.isPager=false},onFreshList:function($event){var f=this.lm.setLayerCount.bind(this.lm);this.resetList();this.$emit("updatelist",f)},resetList:function(){this.data.list=[]},getParams:function(){var params={};params.limit=this.data.query.limit;params.offset=this.data.query.offset;if(this.lm){this.getHeaderParams(params)}for(var attr in params){if(!params[attr]&&typeof params[attr]!="number")delete params[attr]}return params},jump:function(event){var dn=this.data.query;if(!dn.more){return}else{dn.offset=dn.cindex*dn.limit;this.$emit("updatelist")}},jumpPager:function(bs){var dn=this.data.query;this.data.isPager=true;if(!dn.more){return}else{dn.cindex=bs-1;dn.offset=dn.cindex*dn.limit;this.$emit("updatelist")}},isWaterType:function(){return this.data.listType=="waterfall"?true:false},formatList:function(eX){return eX&&eX.data&&eX.data.products||[]},isMore:function(){return this.data.query.more},setMore:function(cj){this.data.query.more=cj},updatelist:function(callback,ops){var CY={type:"json",method:ops&&ops.method||"GET",noEnc:ops&&ops.noEnc||true,onload:function(ce){var bo="";if(typeof ce=="string"){bo=JSON.parse(ce)}else{bo=ce}this.data.total=bo.size||bo.all||bo.count||0;if(this.data.total>this.data.query.limit){this.data.isShowPager=true}else{this.data.isShowPager=false}if(bo&&bo.code==200){if(this.data.listType=="shot"){this.data.list=this.formatList(bo)}else{this.data.list=this.data.list.concat(this.formatList(bo));this.data.query.cindex++;this.setMore(bo.more||bo.hasMore)}this.$update();if(typeof callback=="function"){callback.call(this,bo)}this.afterUpdate(bo)}}.bind(this),error:function(ce){console.log(ce)}.bind(this)};if(CY.method=="GET"){CY.query=this.getParams()}else CY.data=this.getParams();bv.bV(this.data.url,CY)},afterUpdate:function(cT){this.lm&&this.lm.setCount(this.data.list.length);if(this.data.isNeedLazyLoad){setTimeout(function(){br.Dg.bL({clazz:"j-lazy",paramWidth:"263"})},100)}}});br.pD=ListComponent})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bv=bf("nej.j"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),wc=bf("api"),bk=bf("nm.x"),be,cl;bF.Vi=NEJ.C();be=bF.Vi.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.cH.bl(this))};be.cO=function(bd){var me=this;bd.clazz="m-rechareg";me.cP(bd);me.dL=bd;bc.de(me.bC,"m-recharge-layer",bd);var bm=bc.bN(me.bC,"j-flag");me.Hs=bc.bN(this.bC,"js-hide");me.gj=bm[0];me.gf=bm[1];me.km=bm[2];if(bm[0]){var Vm=bc.fs(bm[0]),dI=bc.bJ(Vm[1],"count");me.Vn=bW.kv.bL({list:Vm,selected:"z-sel",dataset:"count"});setTimeout(function(){me.xm(dI);me.km.innerHTML=parseFloat(Number(dI/100).toFixed(2))},50)}if(bm[3]){me.LM=bW.kv.bL({list:bc.fs(bm[3]),selected:"z-sel",dataset:"method"});me.mF(0)}this.gg([[this.gf,"focus",onFocus],[this.gf,"input",onInput]]);bk.cF("page",{type:"recharge"});function onFocus(){bj.ch(bc.fs(me.gj),function(bw,bs,bmr){if(bc.dg(bw,"z-sel")){bc.bQ(bw,"z-sel")}if(bc.dg(bw,"z-err")){bc.bQ(bw,"z-err")}});if(!this.value){me.xm("");me.km.innerHTML=parseFloat(Number(0).toFixed(2))}else{me.xm(this.value);me.km.innerHTML=parseFloat(Number(this.value/100).toFixed(2))}}function onInput(bg){if(isNaN(this.value)&&!!this.value){this.value=this.value.substring(0,this.value.length-1);return}if(this.value.length>=7){this.value=this.value.substring(0,7)}bc.bS(me.Hs[0],"js-hide");me.xm(this.value);me.km.innerHTML=parseFloat(Number(this.value/100).toFixed(2))}};be.du=function(){this.dG();this.LM.cG();this.Vn.cG();delete this.dL;delete this.km;delete this.bmq};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"ok":if(/AppleWebKit.*Mobile/i.test(navigator.userAgent)||/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent)){this.LO="mobile"}else{this.LO="web"}if(!isNaN(this.iG)&&this.iG.length<=7&&parseInt(this.iG)>0){bv.bV("/store/api/point/recharge",{type:"json",method:"post",sync:true,data:bj.dv({payMethod:this.kt,quantity:parseInt(this.iG),from:this.LO}),onload:this.LP.bl(this),onerror:this.LP.bl(this)})}else{bc.bQ(this.Hs[0],"js-hide");return}break;case"cc":this.cQ();break;case"method":this.mF(bc.bJ(bi,"method"));break;case"count":bc.bS(this.Hs[0],"js-hide");this.xm(bc.bJ(bi,"count"));this.km.innerHTML=parseFloat(Number(bc.bJ(bi,"count")/100).toFixed(2));break}};be.LP=function(bg){var gl=false;if(bg.code==200){this.cQ();bk.ep({title:"积分充值",html:bc.fe("g-recharge-wait"),onaction:function(){this.bfa();if(gl){bk.ci({message:"充值成功",ondestroy:function(){location.href="/store/my/credit"}})}}.bl(this)});window.open(bg.payUrl);window.g_cbPay=function(status){gl=status;if(status){bk.ci({message:"充值成功",ondestroy:function(){var rC=bk.xC(location.search)["live"];if(rC){top.window.opener.api.chargeComplete()}location.href="/store/my/credit"}})}}}else if(bg.code==5001){bk.ep({title:"提示",message:'您的帐号存在异常，为保障帐号安全，已将其临时锁定。</br>请私信联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁',onaction:bk.WF})}else{bk.ci({type:"error",message:bg.message||"失败"})}};be.xm=function(dI){this.iG=dI;this.Vn.ii(dI)};be.mF=function(iU){this.kt=iU;this.LM.ii(iU)};bk.LQ=function(bd){bk.Dm().then(function(){bF.Vi.bL(bd).cw()})};be.bfa=function(){var rC=bk.xC(location.search)["live"];if(rC){top.window.opener.api.chargeComplete()}}})();
(function(){var bf=NEJ.P,cz=NEJ.O,eX=NEJ.R,bj=bf("nej.u"),bc=bf("nej.e"),bt=bf("nej.ut"),be,cl;if(!!bt.uq)return;bt.uq=NEJ.C();be=bt.uq.cg(bt.Cn);cl=bt.uq.gO;be.qD=function(cB,dc){return cl.qD.call(this,this.oN,cB,this.lu,dc)};be.Ht=function(bs){var cB=0;if(bs>1)cB=this.oN+(bs-2)*this.lu;return cB};be.qx=function(bg){cl.qx.apply(this,arguments);if(!bg.stopped){this.So(this.Ht(bg.index))}};be.GQ=function(){this.yN();this.pu("onbeforelistload","列表加载中...")};be.Bf=function(){cl.Bf.apply(this,arguments);this.yN()};be.GS=function(bm,cB,cV){var cU=this.qD(cB,bm.length);if(this.Sw(cU.index,cU.total))return!0;this.GN(cU.total>1?"":"none")};be.GR=function(){this.pu("onemptylist","没有列表数据！")};be.GT=function(dC,ld){if(!ld&&bj.eT(dC)){this.iq.innerHTML=dC;return}cl.GT.apply(this,arguments)};be.Be=function(jq){this.iq.innerHTML=jq};be.Bc=function(mT){this.ig=mT};be.Br=function(bg){this.xM(bg,"onafteradd");if(!bg.stopped)this.iS()};be.Bq=function(bg){this.xM(bg,"onafterdelete");if(!bg.stopped)this.iS()};be.GV=function(cB,cV){var bs=1;if(!!this.ie){bs=this.ie.ts()}var oY=this.Ht(bs),hw=oY+(bs>1?this.lu:this.oN);if(cB>=hw&&!!this.ie){var cU=this.qD(0,this.oB());this.ie.Go(cU.total);this.GN(cU.total>1?"":"none")}else{this.iS()}};be.GW=function(cB,cV){var bs=1;if(!!this.ie){bs=this.ie.ts()}var oY=this.Ht(bs),cU=this.qD(oY,this.oB());this.qx({last:bs,index:cU.index})}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bW=bf("nej.ut"),bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bF=bf("nm.l"),bU=bf("nm.d"),be,cl;bU.hy({"creditIn-list":{url:"/store/api/point/receipt",type:"get",format:function(cf,bd){bj.ch(cf.data,function(bw,bs,gF){bw.req="receipt"});return{total:cf.data.length||0,list:cf.data}}},"creditOut-list":{url:"/store/api/point/expense",type:"get",format:function(cf,bd){bj.ch(cf.data,function(bw,bs,gF){bw.req="expense"});return{total:cf.data.length||0,list:cf.data}}}});bU.AR=NEJ.C();be=bU.AR.cg(bU.le);be.cZ=function(){this.dh()};bW.jg.bL({element:bU.AR,event:["listchange","itemchange"]})})();
(function(){var bf=NEJ.P,bj=bf("nej.u"),bv=bf("nej.j"),bk=bf("nm.x"),br=bf("nm.w");var TextInput=br.ev.extend({name:"m-textinput",template:"#textinputtpl",config:function(){this.supr();this.data.couponCode="";this.data.isCanTap=false},handleChange:function(){this.data.isCanTap=!!this.data.couponCode?true:false;this.$update()},submit:function(e){e.preventDefault();if(!this.data.isCanTap){setTimeout(function(){bk.ci({message:"请输入兑换码"})},100)}else{this.bindCoupon()}},bindCoupon:function(point){this.data.isCanTap=false;var bh={couponCode:this.data.couponCode.trim(),noConfirm:point?1:0};var bD="/store/api/storecoupon/bindCoupon";var dH={method:"POST",data:bj.dv(bh),onload:function(ce){this.data.isCanTap=true;var bo="";if(typeof ce=="string"){bo=JSON.parse(ce)}else{bo=ce}this.showTip(bo)}.bind(this),onerror:function(){this.data.isCanTap=true}};bv.bV(bD,dH)},showTip:function(cT){switch(cT.code){case 200:bk.ci({message:cT.msg||"兑换成功"});if(cT.radioId){location.href="/#/djradio?id="+cT.radioId}else if(cT.vipCode){location.href="/#/member"}else if(cT.albumId){location.href="/store/newalbum/detail?id="+cT.albumId}else{this.$emit("success")}break;case 100:bk.ci({message:"兑换码错误"});break;case 101:bk.ci({message:"已失效的兑换码"});break;case 102:bk.fl({message:"该优惠券需要"+cT.point+"积分，确定要兑换？",title:"提示",ok:"兑换",cc:"取消",onaction:function(bg){if(bg.action=="ok"){this.bindCoupon(cT.point)}}.bind(this)});break;case 103:bk.ci({message:"该优惠仅限老顾客才能领取"});break;case 104:bk.ci({message:"该优惠仅限新顾客才能领取"});break;case 105:bk.ci({message:"已兑换"});break;case 106:bk.ci({message:"超过兑换上限"});break;case 107:bk.fl({title:"兑换失败",message:"当前积分余额不足",ok:"赚积分",cc:"取消",onaction:function(bg){if(bg.action=="ok"){location.href="/store/gain/index"}}.bind(this)});break;case 108:bk.ci({message:"已兑换完"});break;case 109:var time=bj.fX(new Date(cT.startTime),"yyyy.MM.dd HH:mm"),msg="该兑换码到"+time+"才能兑换";bk.ci({message:msg});break;case 301:location.href="/login?targetUrl="+encodeURIComponent(location.href);break;case 405:bk.ci({message:"操作过于频繁请稍后再试"});break;case 1009:bk.ci({message:"您已拥有该电台"});break;default:bk.ci({message:cT.msg||"兑换失败"});break}}});br.bmo=TextInput})();
(function(){var bf=NEJ.P,bk=bf("nm.x"),br=bf("nm.w");var NumCount=br.ev.extend({name:"cp-numcount",template:"#cp-numtpl",data:{max:10,min:0,pace:1,cnum:1},calAdd:function(){var bh=this.data;bh.cnum=parseInt(bh.cnum)+bh.pace;if(bh.cnum>bh.max)bh.cnum=bh.max},add:function(){this.calAdd();this.$emit("addnum",this.data);this.$emit("numchange",this.data)},onblur:function(){if(this.data.cnum==="0"){this.data.cnum=1;this.$emit("numchange",this.data)}else if(!Number.isNaN(parseInt(this.data.cnum))){var LT=parseInt(this.data.cnum);if(LT>this.data.max){this.data.cnum=this.data.max;bk.ci({type:"error",message:"单品已达上限"})}else if(LT==0){this.data.cnum=1}this.$emit("numchange",this.data)}else{this.data.cnum=1;this.$emit("numchange",this.data);this.$update()}},calMinus:function(){var bh=this.data;bh.cnum=bh.cnum-bh.pace;if(bh.cnum<bh.cR)bh.cnum=bh.cR},minus:function(){this.calMinus();this.$emit("minusnum",this.data);this.$emit("numchange",this.data)},inputChange:function(){var reg=/^(\d*).*$/,res="";res=reg.exec(this.data.cnum)[1]||"";this.data.cnum=res;if(this.data.cnum>(this.data.max||50)){bk.ci({type:"error",message:"单品已达上限"})}this.$emit("numchange",this.data)}});br.bmn=NumCount})();
(function(){var bf=NEJ.P,bk=bf("nm.x"),br=bf("nm.w");var Card2Component=br.bdd.extend({name:"m-card2",template:"#card2tpl",data:{cpdata:{},allinfo:{},readonly:false,isCanSelect:true,isModify:false},config:function(){},isCanSelect:function(){return this.data.isCanSelect?true:false},isModify:function(){return this.data.isModify?true:false},getCurrentCanBuyNum:function(obj){var fk=0;if(obj&&obj.limitNum){fk=obj.limitNum-this.data.allinfo.selectNum}else{fk=obj.stockStatus-this.data.allinfo.selectNum}return fk>0?fk:0},isLimit:function(obj){return obj&&obj.limitNum?true:false},isUnavalible:function(obj){return obj&&obj.invalidType?true:false},getUnavalibleInfo:function(obj){var cU;switch(obj.invalidType){case 1101:cU="商品已下架";break;case 1102:cU="商品已售罄";break;case 1103:cU="超过限购数量";break;case 1104:cU="商品不存在";break;case 1105:cU="商品信息过期";break;case 1106:cU="商品价格过期";break}return cU},onCheckbox:function($event,cpdata){cpdata.selected=cpdata.selected=cpdata.selected?0:1;this.$emit("checkedEvent",cpdata.selected)},onNumberChange:function($event){$event.cartId=this.data.cpdata.cartId||"";$event.mainId=this.data.cpdata.mainId||"";if($event.cnum<1)return;this.$emit("cardnumchange",$event)},getAttrsName:function(bm){if(!(bm&&bm.length))return;var arr=bm.map(function(item){return item.attrValue});return arr.join(" ")},multiPrice:function(price,num){var r1,r2,m;try{r1=price.toString().split(".")[1].length}catch(e){r1=0}try{r2=num.toString().split(".")[1].length}catch(e){r2=0}m=Math.pow(10,Math.max(r1,r2));if(m==0){return price*num}else{return Math.round(price*m*num*m)/(m*m)}},onDelete:function(){this.$emit("deleteCard",this.data.cpdata)},getImgSrc:function(url){var param=this.isYongle()?"?param=80y106":"?param=80y80";return url+param},isYongle:function(){return this.data&&this.data.concertData&&this.data.concertData.predataType&&this.data.concertData.predataType==12},getConcertTime:function(bm){if(!(bm&&bm.length))return;for(var bs=0;bs<bm.length;bs++){if(bm[bs].attr=="场次"){return bm[bs].attrValue}}},changeAttachInfo:function(){var cpdata=this.data.cpdata;cpdata.attach=cpdata.attach.trim();var obj={productId:cpdata.productId,skuId:cpdata.goodSkuData.skuId,attach:cpdata.attach};this.$emit("addAttachInfo",obj)},changeAttachLength:function(){setTimeout(function(){var cpdata=this.data.cpdata;if(!cpdata||!cpdata.attach)return;if(cpdata.attach.trim().length>50){bk.ci({type:"error",message:"字数超过限制"});cpdata.attach=cpdata.attach.trim();cpdata.attach=cpdata.attach.slice(0,50);this.$update();return}}.bl(this),100)}});br.CP=Card2Component})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bv=bf("nej.j"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),br=bf("nm.w"),uU=bf("nm.h"),bk=bf("nm.x"),be,cl;bF.ur=NEJ.C();be=bF.ur.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.cH.bl(this))};be.cO=function(bd){this.dL=bd;bd.clazz="m-rechareg";this.cP(bd);this.dy=bd.order;if(!!this.dy){bd.totalMoney=this.dy.tradeAmount;this.lV=bj.eH(bd.orderCallback)?bd.orderCallback:null}console.log(bd);this.sK=bd.isShowResult||bd.mode;if(bd.mode===3){this.sK=0}this.oP=parseInt(bd.goodQuantity)||1;this.fr=bd.address;this.bq=bd.product||{};this.jE=bd.friendId;this.cA=bd.sku||{};this.mH=this.cA.activityType||1;this.nO=bd.toorderpage;this.bfq=bd.productId||"";bc.de(this.bC,"g-order2",{totalMoney:bd.totalMoney},{toPriceText:bk.lI,toRmb:this.jj});var bm=bc.bN(this.bC,"j-flag");this.uH=bm[0];this.km=bm[1];this.oS=bm[2];if(bm[3]){this.fy=bW.kv.bL({list:bc.fs(bm[3]),selected:"z-sel",dataset:"method"})}};be.du=function(){this.dG();if(this.fy){this.fy.cG();delete this.fy}if(this.gj){this.gj.cG();delete this.gj}if(this.kC){this.kC.cG();delete this.kC}delete this.km;delete this.oS;delete this.dy;delete this.hO};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"cc":this.cQ();break;case"method":this.mF(bc.bJ(bi,"method"));if(this.bq.specialType==17){bk.cF("click",{type:"pay",name:"payingconcert",sourceid:this.bq.concertId})}else if(this.dL.isyongle){bk.cF("click",{target:"instantpay",page:"paylayer",source:"goods",sourceid:this.bfq,paymethod:this.kt=="0"?"alipay":"weixin"})}bn.eC(bg);if(this.dL.entry=="confirm"&&this.bfs()){this.bfu();return}var bD={},bh={};bD.rmb="/store/api/cart/order/createAndPay";if(this.dy){bD.rmb="/api/ordering/web/customer/order/repay";bh.orderId=this.dy.id;bh.newAddress=bh.address;delete bh.address}bh.payMethod=this.kt;bv.bV(bD.rmb,{sync:true,type:"json",method:"post",data:bj.dv(this.bfv(bh)),onload:this.nk.bl(this),onerror:this.nk.bl(this)});this.cQ();break}};be.bfu=function(bg){var bD="/api/concert/order/place";var dH={data:JSON.stringify(this.bfw()),noEnc:true,headers:{"Content-Type":"application/json"},method:"POST",onload:function(ce){var bo="";if(typeof ce=="string"){bo=JSON.parse(ce)}else bo=ce;this.nk(bo)}.bind(this),onerror:this.nk.bl(this)};bv.bV(bD,dH)};be.bfw=function(){var param=this.dL.param;param.payMethod=this.kt;param.from="web";return param};be.nk=function(bg){if(bg.code==200){if(this.kt==3){bv.bV("/api/web/qrcode/get",{sync:true,type:"json",method:"get",data:bj.dv({url:bg.payUrl,size:220}),onload:this.xI.fH(this,bg.orderId),onerror:this.xI.bl(this)})}else{bF.Fp.bL({method:this.kt,title:"网上支付提示",orderId:bg.orderId,friendId:this.jE,toorderpage:this.nO,orderCallback:this.lV,activityType:this.mH,isShowResult:this.sK}).cw();window.open(bg.payUrl)}}else{if(bg.code==505){this.bfz(bg.newData)}else if(bg.code==504){var bd={title:"提示",message:"该订单的优惠券已失效，请确认后再结算",onaction:function(){location.reload()}};bk.ep(bd)}else{bk.ci({type:"error",message:bg&&bg.msg||bg&&bg.message||"支付失败"})}if(bg.code==1006){window.setTimeout(function(){location.href="/store/my/orderdetail?id="+bg.duplicateOrderId},1500)}}};be.xI=function(bg,orderId){if(bg.code==200&&bg.qrcodeImageUrl.length>0){bF.Fn.bL({title:"微信支付",QRCodeImgUrl:bg.qrcodeImageUrl,orderId:orderId,friendId:this.jE,toorderpage:this.nO,orderCallback:this.lV,activityType:this.mH,isShowResult:this.sK}).cw()}else{bk.ci({type:"error",message:"获取二维码失败"})}};be.mF=function(iU){this.kt=iU;this.fy.ii(iU)};be.jj=function(bB){return bB==0?"":"¥"};be.bfv=function(obj){if(this.dL.entry=="confirm"){return this.bfB(obj)}else{return this.bfC(obj)}};be.bmm=function(obj){var co={goodId:this.dL.goodId,goodSKUId:this.dL.goodSKUId,goodSnapshootId:this.dL.goodSnapshootId,goodQuantity:this.dL.goodQuantity,from:"web",address:JSON.stringify(this.dL.address),payMethod:obj.payMethod};if(this.dL.concertParam){co.concertParam=JSON.stringify(this.dL.concertParam)}return co};be.bfC=function(obj){var co={orderId:this.dy.id,payMethod:obj.payMethod,from:"web"};return co};be.bfB=function(obj){var us={};var co={fromCart:this.dL.fromCart,cartIds:[],goodIds:[],goodSKUIds:[],goodNums:[],snapshotIds:[],goodMoneys:[],totalMoney:this.dL.totalMoney,payMethod:obj.payMethod,from:"web",discountMoney:this.dL.discountMoney||0,userCouponId:this.dL.userCouponId||0,key:this.dL.key||0};if(this.dL.mode==1){co.extJson=JSON.stringify({productAttachInfos:this.dL.productAttachInfos});if(this.dL.addrsdata){var fK=this.dL.addrsdata;us.idCardNo=fK.idNumber;us.username=fK.name;us.cellphone=fK.cellphone;us.address=(fK.provinceCity?fK.provinceCity:"")+(fK.detailAddress||"");us.addressId=fK.id}co.address=JSON.stringify(us)}else if(this.dL.mode==4){co.extJson=JSON.stringify({showCellPhoneInfo:{cellPhone:this.dL.address[0].cellphone,name:this.dL.address[0].realName}})}else{co.extJson=JSON.stringify({idInfos:this.dL.address})}for(var i=0,len=this.dL.productItemDatas.length;i<len;i++){var bw=this.dL.productItemDatas[i];co.cartIds.push(bw.cartId);co.goodIds.push(bw.productId);co.goodSKUIds.push(bw.goodSkuData.skuId);co.goodNums.push(bw.num);co.snapshotIds.push(bw.goodSkuData.snapShotId);co.goodMoneys.push(bw.itemMoney)}for(var key in co){if(co.hasOwnProperty(key)&&co[key]instanceof Array){co[key]=co[key].join(",")}}co.sync=true;return co};be.bfz=function(newData){if(this.bfK(newData)){bk.ci({message:"你选择的商品价格或库存数量有改变，请确认后再结算。"});this.bR("upconfirm",newData)}else{bk.ci({message:"你选择的商品价格或库存数量有改变，看看其它的选择吧！"});this.bR("onback")}};be.bfK=function(newData){return newData&&newData.productItemDatas&&newData.productItemDatas.length};be.bfs=function(){return this.dL.isyongle||this.dL.isshowstart}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bj=bf("nej.u"),bW=bf("nej.ut"),bt=bf("nej.ut.p"),jY;if(!!bt.rs)return;bt.rs=NEJ.C();jY=bt.rs.cg(bW.fP);jY.cZ=function(){this.dh();this.pU=[]};jY.cO=function(bd){this.cP(bd);this.Cu(bd.parent);this.vu=bd.name||"/";this.dS=bd.data||{}};jY.du=function(){var xc=function(bi,bs,bm){bm.splice(bs,1);bi.cG()};return function(){this.dG();delete this.dS;bj.jT(this.pU,xc);this.Cu(null)}}();jY.Hv=function(bi){return bi instanceof bt.rs};jY.bgd=function(jR){return bj.hj(this.pU,jR)>=0};jY.xj=function(){return this.vu};jY.jy=function(){return this.dS};jY.nw=function(){var cK=this.qH(),bP=this.xj();if(!cK)return bP;var uu=cK.xj();if(uu!="/"&&bP!="/")bP="/"+bP;return cK.nw()+bP};jY.qH=function(){return this.kV};jY.fs=function(){return this.pU};jY.Hx=function(bP){var bs=bj.hj(this.pU,function(bi){return bP==bi.xj()});return this.pU[bs]||null};jY.Cu=function(cK){cK=this.Hv(cK)?cK:null;if(cK==this.kV)return;!!cK?cK.Hy(this):this.kV.bgv(this);this.kV=cK;return this};jY.Hy=function(jR){jR=this.Hv(jR)?jR:null;if(!jR||this.bgd(jR))return;this.pU.push(jR);jR.Cu(this);return this};jY.bgv=function(jR){jR=this.Hv(jR)?jR:null;var bs=bj.hj(this.pU,jR);if(bs>=0){this.pU.splice(bs,1);jR.Cu(null)}return jR}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bj=bf("nej.u"),bW=bf("nej.ut"),bt=bf("nej.ut.p");var xg=function(fV,cv,Hz){var bi=fV,Hz=Hz||cj;if(cv!="/"){bj.ch(cv.split("/"),function(bP){var bo=Hz(bi,bP);if(!bo)return!0;bi=bo})}return bi};bt.tx=function(){var zo=function(cK,bP){var bP=bP||"/",uu=cK.xj();if(uu=="/"&&bP=="/")return cK;return cK.Hx(bP)};return function(fV,cv){return xg(fV,cv,zo)}}();bt.bgK=function(){var bgO=function(cK,bP){var uu=cK.xj();if(!bP&&uu=="/")return cK;var bi=null;if(uu!="/"){bi=cK.Hx("/");if(!bi){bi=bt.rs.bL();cK.Hy(bi)}}if(!!bP){bi=cK.Hx(bP);if(!bi){bi=bt.rs.bL({name:bP});cK.Hy(bi)}}return bi};return function(fV,cv){return xg(fV,cv,bgO)}}();bt.bgQ=function(fV,iz,cC){if(!iz||!cC)return fV;var iz=iz.nw().split("/"),cC=cC.nw().split("/"),bgT=bj.cY(iz,function(bA,bs){if(bA!=cC[bs])return!0})||1,cv=iz.splice(0,bgT).join("/")||"/";return bt.tx(fV,cv)};bt.bgW=function(fV,cS){var bX=[fV],bi=bX.shift(),cS=cS||cj;while(!!bi){bX.push.apply(bX,bi.fs());cS(bi);bi=bX.shift()}return this};bt.wZ=function(bi){return bi instanceof bt.rs};bt.uz=function(eQ){return eQ instanceof bW.ei};bt.HB=function(){var dq=/^\/?\?(?=\/|$)/;return function(cv){return dq.test(cv||"")}}();bt.bhl=function(){var dq=/[\?#]/;return function(bD){var bX=(bD||"").trim().split(dq),bhm=bX[0]=="/"&&(bX[1]||"").indexOf("/")==0;return bX[0]+(bhm?"?"+bX[1]:"")}}()})();
(function(){var bf=NEJ.P,cz=NEJ.O,eo=bf("nej.g"),bc=bf("nej.e"),bv=bf("nej.j"),bj=bf("nej.u"),bW=bf("nej.ut"),bt=bf("nej.ut.p"),jv;if(!!bt.BS)return;bt.BS=NEJ.C();jv=bt.BS.cg(bW.fP);jv.cO=function(bd){this.cP(bd);this.kx=bd.root;this.qY=bd.dispatcher;this.BM={}};jv.du=function(){this.dG();delete this.kx;delete this.BM};jv.HD=function(bi){if(!bt.wZ(bi))return!1;return!!bi.jy().stopped||this.HD(bi.qH())};jv.Dx=function(bi){if(!bt.wZ(bi))return;delete bi.jy().stopped;this.Dx(bi.qH())};jv.Mn=function(eh,jS){this.BL("onhide",eh,jS)};jv.HF=function(eh,jS){this.BL("onshow",eh,jS);this.wV(eh)};jv.Mp=function(bi){this.BL("onrefresh",bi);this.wV(bi)};jv.BL=function(bB,eh,jS){if(eh==jS||!bt.wZ(eh))return;if(bB=="onhide")this.HG(eh,bB);this.BL(bB,eh.qH(),jS);if(bB!="onhide")this.HG(eh,bB)};jv.wV=function(bi){if(!bt.wZ(bi))return!0;var bh=bi.jy(),fq=bh.action,eQ=bh.module;if(!this.wV(bi.qH())||!!fq&&bj.eT(eQ))return!1;if(!!eQ&&!!eQ.bL&&!!fq&&fq!="onhide"){if(this.HD(bi))return;var bd={umi:bi.nw(),composite:bh.composite,dispatcher:this.qY};eQ=eQ.bL(bd);if(bt.uz(eQ)){bh.module=eQ;this.HG(bi,"onshow")}else{delete bh.module}}delete bh.action;return!0};jv.HG=function(){var bhS=function(bi){var eQ;bi=bi.qH();while(!!bi){eQ=bi.jy().module;if(bt.uz(eQ)){return eQ.biG()}bi=bi.qH()}return null};return function(bi,bP){if(!bt.wZ(bi))return;var bh=bi.jy(),eQ=bh.module,HI=bP!="onhide";if(bt.uz(eQ)){if(HI&&this.HD(bi))return;var bg=!this.nW?bh.event:this.nW.jy().event;if(!!bg){bg.umi=bi.nw();bg.data=bhS(bi)}var Mt=bh.xname||"onhide";if(bP=="onshow"&&Mt!="onhide")bP="onrefresh";if(bP=="onrefresh"&&Mt=="onhide")bP="onshow";bh.xname=bP;eQ.bR(bP,bg||{});if(HI&&!!bg&&!!bg.pos&&bg.umi==bg.target){bc.TP(bg.pos)}if(HI&&!!bg){bh.stopped=bg.stopped;delete bg.stopped}}else if(!!eQ){bh.action=bP;if(bP=="onshow"&&bj.eT(eQ)){var bu=bc.bG("umi://"+eQ);if(!!bu){bc.el(bu)}else{var cN=location.config||cz;bv.QF((cN.root||"")+eQ,{version:(cN.ver||cz)[eQ],onloaded:bc.el})}}}}}();jv.uD=function(cv){return!!this.BM[cv]};jv.bhY=function(cv){this.BM[cv]=!0;return this};jv.bml=function(cv){delete this.BM[cv];return this};jv.Mw=function(cv){if(this.uD(cv))this.wV(bt.tx(this.kx,cv));return this};jv.HL=function(cv){if(this.uD(cv)){var bi=bt.tx(this.kx,cv);this.Dx(bi);this.HF(bi)}return this};jv.My=function(cv){if(this.uD(cv)){this.Mn(bt.tx(this.kx,cv))}return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bt=bf("nej.ut.p"),qV;if(!!bt.HN)return;bt.HN=NEJ.C();qV=bt.HN.cg(bt.BS);qV.cO=function(bd){this.cP(bd);this.MB=!!bd.classed};qV.du=function(){this.dG();delete this.sW;delete this.nW};qV.biu=function(bg){if(!this.nW)return!0;var eQ=this.nW.jy().module;if(bt.uz(eQ))eQ.bR("onbeforehide",bg);return!bg.stopped};qV.iS=function(){if(!this.nW)return;window.setTimeout(this.HL.bl(this,this.nW.nw()),0)};qV.HL=function(cv){if(!this.uD(cv))return this;var cC=bt.tx(this.kx,cv),bh=cC.jy();if(!bh.module)return this;var iz=this.nW,bg=bh.event,HO=cz;this.nW=cC;this.Dx(cC);if(!!iz){HO=iz.jy().event;bg.referer=HO.href||""}if(iz==cC){this.Mp(this.nW);return this}this.sW=bt.bgQ(this.kx,iz,cC);if(iz!=null){if(iz!=this.sW){if(this.MB)bc.bQ(document.body,HO.clazz);this.Mn(iz,this.sW)}this.Mp(this.sW)}else{this.HF(this.sW)}if(cC!=this.sW){if(this.MB)bc.bS(document.body,bg.clazz);this.HF(cC,this.sW)}return this};qV.Mw=function(cv){if(this.uD(cv))this.wV(this.nW);return this};qV.My=cj})();
(function(){var bf=NEJ.P,bn=bf("nej.v"),bj=bf("nej.u"),eU=bf("nej.p"),bH=bf("nej.h"),bW=bf("nej.ut"),hV=/^[#?]+/,yX=/#(.*?)$/,oO=window,HP=!history.pushState||eU.AC.android||!history.auto;var Bu=function(bD,HQ){oO.history[!HQ?"pushState":"replaceState"](null,document.title,bD)};var Bn=function(){return location.parse(oO.location.href)};Bu=Bu.dT(function(bg){if(!HP)return;var bO=bg.args;bg.stopped=!0;bD=bO[0].replace(hV,"");!bO[1]?oO.location.hash=bD:oO.location.replace("#"+bD)});Bn=Bn.dT(function(bg){if(!HP)return;bg.stopped=!0;var fU=yX.test(oO.location.href)?RegExp.$1:"";bg.value=location.parse(fU.replace(hV,""))});location.redirect=function(bD,HQ){Bu(bD,HQ);return this};location.active=function(){var gJ,bD,gU,ln,zd;var HR=function(cn){if(!!ln){ln=!1;return}var bg={oldValue:gU,newValue:Bn()};if(!!location.ignored){location.ignored=!1}else{bn.bR(location,"beforeurlchange",bg);if(bg.stopped){if(!!gU){ln=!0;Bu(gU.href,!0)}return}}bD=oO.location.href;gU=bg.newValue;bn.bR(location,"urlchange",gU);bH.KM(gU.href)};var MI=function(){if(bD!=oO.location.href)HR();gJ=requestAnimationFrame(MI)};return function(fR){if(!!zd)return this;zd=!0;oO=fR||window;if(HP&&"onhashchange"in window&&eU.iT.trident2){bn.bT(oO,"hashchange",HR);HR()}else if(!gJ){gJ=requestAnimationFrame(MI)}return this}}();location.parse=function(){var eS=/^https?:\/\/.*?\//i,hV=/[?#]/;return function(bD){var bo={href:bD};bD=(bD||"").replace(eS,"/").split(hV);var dI=1;if(bD[0]=="/"&&(bD[1]||"").indexOf("/")==0)dI=2;bo.path=bD.splice(0,dI).join("?");bo.query=bj.iF(bD.join("&"));return bo}}();location.same=function(bD){return Bn().href==bD};bW.jg.bL({element:location,event:["beforeurlchange","urlchange"]})})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bt=bf("nej.ut"),li=bf("nej.ut.p"),be;if(!!bt.HT)return;bt.HT=NEJ.C();be=bt.HT.cg(bt.fP);be.cZ=function(){this.dh();var ey=+(new Date);this.uF="pb-"+ey;this.HU="pv-"+ey};be.cO=function(bd){this.HV={};this.HW=!!bd.rest;this.kx=li.rs.bL();this.hz={m:{},mg:{},r:[],rr:{},al:{},am:{}};this.nJ={};this.MR(this.uF);this.nJ[this.HU]=li.BS.bL({root:this.kx,dispatcher:this});this.gg([[location,"urlchange",this.HY.bl(this)]]);this.cP(bd);this.MT(bd.rules);this.Bo(bd.modules)};be.du=function(){var xc=function(iN,bz,cm){delete cm[bz];iN.cG()};return function(){delete this.hz;this.kx=this.kx.cG();bj.cY(this.nJ,xc);this.dG()}}();be.HZ=function(cv,bz,bA){var sB=this.hz.m[cv];if(!sB){sB={};this.hz.m[cv]=sB}sB[bz]=bA};be.MX=function(cv,bz){var sB=this.hz.m[cv];return!sB?"":sB[bz]};be.MR=function(hc){if(!hc)return;var iN=this.nJ[hc];if(!iN){iN=li.HN.bL({root:this.kx,dispatcher:this,classed:hc==this.uF});this.nJ[hc]=iN}return iN};be.bjw=function(cv,hc){var iN=this.MR(hc);if(!iN){hc=li.HB(cv)?this.HU:this.uF;iN=this.nJ[hc]}iN.bhY(cv);this.hz.mg[cv]=hc};be.MZ=function(){var dq=/\$\d/;return function(cv,cn){var bo;bj.cY(this.hz.r,function(cN){bj.cY(cN,function(bA,bz){if(!!bA.test&&(bA.test(cv)||bA.test(cn))){bo=dq.test(bz)?cv.replace(bA,bz):bz;return!0}if(bA===cv||bA===cn){bo=bz;return!0}});return!!bo});return bo||cv}}();be.HY=function(){var uL=/(?:^\/+)|(?:\/+$)/gi,eS=/#(\$.*?)$/;var bjC=function(cv,bi){var tI=bi.nw(),cv=cv.replace(tI,"").replace(uL,"");return cv.split("/")};var Nc=function(cv,cm){var bA,bX=cv.split("/");while(bX.length>0){if(!bX[bX.length-1]){bX.pop()}else{bX[bX.length-1]=""}bA=cm[bX.join("/")];if(!!bA)return bA}return""};return function(gU){if(gU.path.indexOf("$")==0)return;var gH=this.HV[gU.path];delete this.HV[gU.path];this.bR("onbeforechange",gU);var cv=this.MZ(gU.path,gU.href),hc=this.hz.mg[cv];if(!hc&&this.HW)hc=Nc(cv,this.hz.mg);if(!hc&&!li.HB(cv)){cv=this.hz.rr["404"];hc=this.hz.mg[cv]}if(!hc&&this.HW)hc=Nc(cv,this.hz.mg);if(!hc)return;var bi=li.tx(this.kx,cv),Nd=null;if(this.HW)Nd=bjC(cv,bi);var iz=cv;cv=bi.nw();bi.jy().event={target:cv,source:iz,href:gU.href,param:gU.query,input:gH,prest:Nd,clazz:this.MX(cv,"clazz"),pos:eS.test(gU.href)?RegExp.$1:""};var gE=this.MX(iz,"title");if(!!gE)document.title=gE;this.nJ[hc].HL(cv)}}();be.Hi=function(){var Ne=function(bD,cn){if(!bD)return;var cU=location.parse(bD);this.bR("onbeforechange",cU);var cv=this.MZ(cU.path,cn||cU.href);return this.nJ[this.uF].uD(cv)};var xg=function(bi){var cv=bc.bJ(bi,"href");if(!!cv)return cv;var cn=bc.gV(bi,"href");if(!!cn&&!bc.bJ(bi,"notUmi")){var bX=cn.split("#");bX.shift();var cv=bX.join("#");if(Ne.call(this,cv,cn)){return cv}if(Ne.call(this,cn)){var cU=location.parse(cn);return cU.path+"?"+bj.dv(cU.query)}}};var bjL=function(bi){return!!xg.call(this,bi)};return function(bg){var bu=bn.cL(bg,bjL.bl(this));if(!!bu){bn.jP(bg);this.vv(xg.call(this,bu))}}}();be.bjM=function(bg){var wO=this.hz.am,bZ=wO[bg.type];if(!bZ)return;var bu=bn.cL(bg,"d:resAction");if(!bu)return;var fq=bc.bJ(bu,"resAction"),cS=bZ[fq];if(!cS)return;var bd={action:fq,target:bu,id:bc.bJ(bu,"resId"),type:bc.bJ(bu,"resType"),extra:bc.bJ(bu,"resExtra")};this.bR("onbeforeaction",{event:bg,target:bu,result:bd});cS.call(this,bd)};be.MT=function(){var bjO=["404"];var bjP=function(cN,bz){this.MT(bz,cN)};var bjT=function(gE,cv){this.HZ(cv,"title",gE)};var bjW=function(cv,bjX){this.hz.al[bjX]=cv};var Nf=function(cN){if(!cN)return;this.hz.r.push(cN);bj.ch(bjO,function(bz){if(!cN[bz])return;this.hz.rr[bz]=cN[bz];delete cN[bz]},this)};var bjZ=function(fq,bP){var wO=this.hz.am;var bg="click",cS=fq,bP=(bP||"").toLowerCase();if(bj.ip(fq)){bg=fq.event||bg;cS=fq.value}if(bj.eT(cS)){cS=function(cv,bd){this.vv(cv,{force:!0,input:bd})}.bl(this,cS)}else if(bj.eH(cS)){cS=cS.dT(null,function(bg){var bo=bg.value;if(bj.eT(bo)){this.vv(bo,{force:!0,input:bg.args[0]})}}.bl(this))}if(bj.eH(cS)){if(!wO[bg]){this.gg([[document,bg,this.bjM.bl(this)]]);wO[bg]={}}wO[bg][bP]=cS}};var pN={title:function(cN){bj.cY(cN,bjT,this)},rewrite:function(cN){if(!bj.eD(cN)){Nf.call(this,cN)}else{bj.ch(cN,Nf,this)}},alias:function(cN){bj.cY(cN,bjW,this)},action:function(cN){bj.cY(cN,bjZ,this)}};return function(bz,cN){if(bj.eD(bz)){cN=bz;bz="rewrite"}else if(!bj.eT(bz)){bj.cY(bz,bjP,this);return this}(pN[bz]||cj).call(this,cN);return this}}();be.Bo=function(){var bka=function(cN,cv){this.Bo(cv,cN)};var Ng=function(eQ){return!!eQ&&!!eQ.cg};return function(cv,cN){if(!bj.eT(cv)){bj.cY(cv,bka,this);return this}var bh=li.bgK(this.kx,cv).jy(),eQ=bh.module;if(li.uz(eQ)||Ng(eQ))return this;var hc=this.hz.mg[cv],eQ;if(bj.eT(cN)||Ng(cN)){eQ=cN}else{cN=cN||cz;hc=cN.gid;eQ=cN.module;if(!!cN.title)this.HZ(cv,"title",cN.title);if(!!cN.clazz)this.HZ(cv,"clazz",cN.clazz);if(!!cN.composite)bh.composite=cN.composite}this.bjw(cv,hc);bh.module=eQ;return this}}();be.bjA=function(){var Ic=function(bi,dC){var eQ=bi.jy().module;if(li.uz(eQ))eQ.bR("onmessage",dC)};var pN=[Ic,function(cC,dC){var eh=dC.from;while(!!cC){if(cC.nw()!=eh)Ic(cC,dC);cC=cC.qH()}},function(cC,dC){var eh=dC.from;li.bgW(cC,function(bi){if(bi.nw()!=eh)Ic(bi,dC)})}];return function(dC){var bg=NEJ.X({},dC),cC=li.tx(this.kx,bg.to);bg.path=cC.nw();(pN[bg.mode]||pN[0]).call(this,cC,bg)}}();be.bjp=function(bB,dC){var dC=NEJ.X({},dC);dC.type=bB||"";this.bR((dC.from||"")+":"+dC.type,dC)};be.biU=function(cv,bB,dJ){cv=this.hz.al[cv]||cv;this.beX((cv||"")+":"+(bB||""),dJ)};be.bmk=function(cv,bB,dJ){cv=this.hz.al[cv]||cv;this.kA((cv||"")+":"+(bB||""),dJ)};be.bmj=function(bD){return this.vv(bD)};be.cQ=function(cv){var hc=this.hz.mg[cv];if(hc==this.HU){this.nJ[hc].My(cv)}return this};be.vv=function(bD,bd){bd=bd||cz;var cv=li.bhl(bD),gU=location.parse(bD);this.HV[gU.path]=bd.input;if(li.HB(cv)){this.HY(gU)}else{var iN=this.nJ[this.uF],bg={target:gU,umi:cv};if(!!iN.biu(bg)){if(location.same(bD)&&!!bd.force){this.HY(gU)}else{location.ignored=!!bd.ignored;location.redirect(bD,!!bd.replace)}}}return this};be.iS=function(bD){if(!!bD){this.vv(bD,{replace:!0,force:!0})}else{this.nJ[this.uF].iS()}};be.bmi=function(){this.gg([[document,"click",this.Hi.bl(this)]]);return this};be.bkh=function(){location.active();return this};be.ND=function(cv,eQ){cv=this.hz.al[cv]||cv;if(!bj.eD(cv)){this.Bo(cv,eQ);this.nJ[this.hz.mg[cv]].Mw(cv)}else{bj.ch(cv,function(bz){this.ND(bz,eQ)},this)}return this};bc.bki=function(bd){window.dispatcher=bt.HT.ux(bd);bc.el((bd||cz).tid||"template-box",location.config);bn.bT(document,"templateready",function(){window.setTimeout(dispatcher.bkh.bl(dispatcher),0)});return window.dispatcher}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bv=bf("nej.j"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),br=bf("nm.w"),be,cl;bF.AI=NEJ.C();be=bF.AI.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.cH.bl(this))};be.fw=function(){this.gv="g-address2"};be.cO=function(bd){bd.clazz="m-address2";this.om=bd.orderId;this.cP(bd);this.bkk=bc.bG("g-addrbox");bv.bV("/store/api/point/listaddress",{type:"json",method:"GET",onload:function(bh){if(bh&&bh.code==200){this.gX=bh.data.reverse();if(!this.gX.length){}else{bc.de(this.bkk,"g-addresslist",{address:this.gX,chosed:-1})}}}.bl(this)})};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"setdefault":this.qC=bn.cL(bg,"d:id").getAttribute("data-id");this.fA=bn.cL(bg,"d:id").getAttribute("data-index");var Ig=bc.bN(this.bC,"z-sel");if(!!Ig&&Ig.length>0){bc.bQ(Ig[0],"z-sel")}bc.bS(bi,"z-sel");break;case"ok":this.Hc();break;case"cc":this.cQ();break}};be.Hc=function(){if(!!this.om){this.bkq()}else{if(!!this.fA||!!this.qC){this.bR("onok",this.gX[this.fA])}this.cQ()}};be.bkq=function(){var ed=function(jz){if(jz.code==200){this.bR("onok",this.gX[this.fA]);this.cQ()}else if(jz.code==501){bk.ep({message:"抱歉，该商品已出货，不能修改地址，如有需要请联系@云音乐客服。"})}else{bk.ep({message:"修改地址失败!"})}};var fC=this.gX[this.fA]||{},co={addressId:bj.hd(fC.id),idCardNo:bj.hd(fC.idCardNo),username:bj.hd(fC.name),cellphone:bj.hd(fC.cellphone),address:bj.hd(fC.provinceCity)+bj.hd(fC.detailAddress)};bv.bV("/store/api/cart/order/chanaddr",{type:"json",method:"POST",data:bj.dv({orderId:this.om,address:JSON.stringify(co)}),onload:ed.bl(this),onerror:function(eZ){}})}})();
(function(){var bf=NEJ.P,bv=NEJ.P("nej.j"),br=bf("nm.w");var RecommendListCp=br.pD.extend({name:"m-recommend-list",config:function(){this.data.url="/store/api/hotproduct_v2/gets";this.data.isShowFilter=false},formatList:function(result){if(result&&result.data&&result.data.hotProduct){var bX=result.data.hotProduct.map(function(item){return item.products});if(this.data.num){return bX.splice(0,this.data.num)}else{return bX}}},getParams:function(){return{}}});br.Nn=RecommendListCp})();
(function(){var bf=NEJ.P,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bH=bf("nej.h"),bt=bf("nej.p");var Vq={opacity:1,"z-index":1,background:1,"font-weight":1,filter:1};bH.No=function(fC){return Vq[fC]===undefined&&fC.indexOf("color")<0};bH.Ae=function(bi,iJ,kS){kS=kS.slice(0,-1);bc.cD(bi,"transition",kS);bc.iL(bi,iJ);return this};bH.Ij=function(bi,lZ,rf){bc.iL(bi,lZ);bc.cD(bi,"transition","none");rf.call(null,lZ);return this}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bH=bf("nej.h"),bt=bf("nej.p");if(bt.iT.trident1)return;bH.rM=function(){return!0}})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bt=bf("nej.ut"),be;if(!!bt.Ik)return;bt.Ik=NEJ.C();be=bt.Ik.cg(bt.fP);be.cO=function(bd){this.cP(bd);this.CX=bd.to||cz;this.wB=bd.from||{};this.VC=Math.max(0,parseInt(bd.delay)||0)};be.du=function(){this.dG();this.eC();if(!!this.wz){window.clearTimeout(this.wz);delete this.wz}delete this.CX;delete this.wB};be.Nu=function(cu){if(!this.wB)return;if((""+cu).indexOf(".")>=0)cu=+(new Date);if(this.Nv(cu)){this.eC();return}this.fu=requestAnimationFrame(this.Nu.bl(this))};be.Nv=cj;be.VG=function(){var VH=function(){this.wz=window.clearTimeout(this.wz);this.wB.time=+(new Date);this.fu=requestAnimationFrame(this.Nu.bl(this))};return function(){this.wz=window.setTimeout(VH.bl(this),this.VC);return this}}();be.eC=function(){this.fu=cancelRequestAnimationFrame(this.fu);this.bR("onstop");return this}})();
(function(){var bf=NEJ.P,cz=NEJ.O,bj=bf("nej.u"),bt=bf("nej.ut"),be,cl;if(!!bt.rF)return;bt.rF=NEJ.C();be=bt.rF.cg(bt.Ik);cl=bt.rF.gO;be.cO=function(bd){this.cP(bd);this.Im=bd.duration||200;this.VK=1/(200*this.Im);this.VL(bd.timing);this.VM()};be.du=function(){this.dG();delete this.uQ;delete this.Io};be.VL=function(){var eS=/^cubic\-bezier\((.*?)\)$/i,hV=/\s*,\s*/i,Nz={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var VQ=function(bA,bs,bm){bm[bs]=parseFloat(bA)};return function(CH){CH=(CH||"").toLowerCase();this.uQ=Nz[CH];if(eS.test(CH)){this.uQ=RegExp.$1.split(hV);bj.ch(this.uQ,VQ)}if(!!this.uQ)return;this.uQ=Nz.ease}}();be.VM=function(){var uR=this.uQ,Ip=3*uR[0],NC=3*(uR[2]-uR[0])-Ip,VV=1-Ip-NC,Iq=3*uR[1],NE=3*(uR[3]-uR[1])-Iq,VY=1-Iq-NE;this.Io={ax:VV,ay:VY,bx:NC,by:NE,cx:Ip,cy:Iq}};be.VZ=function(){var NF=function(cu,ki){return((ki.ax*cu+ki.bx)*cu+ki.cx)*cu};var Wd=function(cu,ki){return((ki.ay*cu+ki.by)*cu+ki.cy)*cu};var We=function(cu,ki){return(3*ki.ax*cu+2*ki.bx)*cu+ki.cx};var Wf=function(cu,NG,ki){var t0,t1,t2,x2,d2,i;for(t2=cu,i=0;i<8;i++){x2=NF(t2,ki)-cu;if(Math.abs(x2)<NG)return t2;d2=We(t2,ki);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=cu;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=NF(t2,ki);if(Math.abs(x2-cu)<NG)return t2;if(cu>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(di){return Wd(Wf(di/this.Im,this.VK,this.Io),this.Io)}}();be.Nv=function(cu){var di=cu-this.wB.time,NH=this.VZ(di),cB=bj.zc(this.wB.offset*(1-NH)+this.CX.offset*NH,2),rf=!1;if(di>=this.Im){cB=this.CX.offset;rf=!0}this.bR("onupdate",{offset:cB});return rf};be.eC=function(){this.bR("onupdate",{offset:this.CX.offset});cl.eC.apply(this,arguments);return this}})();
(function(){var bt=NEJ.P("nej.ut"),NI;if(!!bt.Ir)return;bt.Ir=NEJ.C();NI=bt.Ir.cg(bt.rF);NI.cO=function(bd){bd=NEJ.X({},bd);bd.timing="linear";this.cP(bd)}})();
(function(){var bf=NEJ.P,bt=bf("nej.ut"),be;if(!!bt.Is)return;bt.Is=NEJ.C();be=bt.Is.cg(bt.rF);be.cO=function(bd){bd=NEJ.X({},bd);bd.timing="easein";this.cP(bd)}})();
(function(){var bf=NEJ.P,bt=bf("nej.ut"),be;if(!!bt.It)return;bt.It=NEJ.C();be=bt.It.cg(bt.rF);be.cO=function(bd){bd=NEJ.X({},bd);bd.timing="easeout";this.cP(bd)}})();
(function(){var bf=NEJ.P,bt=bf("nej.ut"),be;if(!!bt.Iu)return;bt.Iu=NEJ.C();be=bt.Iu.cg(bt.rF);be.cO=function(bd){bd=NEJ.X({},bd);bd.timing="easeinout";this.cP(bd)}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bH=bf("nej.h"),bt=bf("nej.p"),dm=bf("nej.x"),jL=bf("nej.ut");if(bt.iT.trident)return;var NN={linear:jL.Ir,"ease-in":jL.Is,"ease-out":jL.It,"ease-in-out":jL.Iu};bH.Ae=function(){var Wo=function(iJ,kS){var dE="";bj.cY(iJ,function(bA,bP){dE+=kS.replace("all",bP)});return dE};var Wp=function(bA,fC){if(fC==="filter"){bA=bj.zc(bA,0);bA="alpha(opacity="+bA+")"}if(fC==="z-index")bA=bj.zc(bA,0);return bA};var Wq=function(bA){return NN[bA.split(" ")[2]]};var Wr=function(bi,bA,iJ,rf,bs){var bA=bA.split(" "),fC=bA[0],eh=parseFloat(bc.fo(bi,fC))||0,jS=parseFloat(iJ[fC])||0,Ws=NN[bA[2]],Iv=bA[1].slice(0,-1)*1e3+bA[3].slice(0,1)*1e3;if(Iv>=bi.sumTime){bi.sumTime=Iv;bi.isLastOne=bs}var wx=nej.p.gQ.engine==="trident"&&nej.p.gQ.release-5<0;if(fC==="opacity"&&wx){fC="filter";var fJ=bc.fo(bi,fC);eh=parseFloat(fJ.split("=")[1])||0;jS=jS*100}var bd={from:{offset:eh},to:{offset:jS},duration:Iv,onupdate:function(cB){var bA=cB.offset;if(!bH.No(fC)){bA=Wp(bA,fC);bc.cD(bi,fC,bA)}else{bc.cD(bi,fC,bA+"px")}},onstop:function(fC){var uT=bi.effects[bs];if(!uT)return;uT=Ws.cG(uT);if(bi.isLastOne===bs)rf.apply(this)}.bl(this,bs)};return bd};return bH.Ae.dT(function(bg){bg.stopped=!0;var bm=bg.args;var bi=bm[0],iJ=bm[1],kS=bm[2],rf=bm[3];bi.sumTime=0,bi.isLastOne=0;var NQ=[];if(kS.indexOf("all")>-1)kS=Wo(iJ,kS);var Iw=kS.slice(0,-1);Iw=Iw.split(",");bi.effects=[];bj.ch(Iw,function(bA,bs){var bd=Wr(bi,bA,iJ,rf,bs);NQ.push({o:bd,c:Wq(bA)})});bj.ch(NQ,function(bw,bs){var uT=bw.c.bL(bw.o);bi.effects[bs]=uT;uT.VG()});return this})}();bH.Ij=bH.Ij.dT(function(bg){bg.stopped=!0;var bm=bg.args;var bi=bm[0];bj.ch(bi.effects,function(cz){cz.eC()});bi.effects=[];return this})})();
(function(){var bf=NEJ.P,cj=NEJ.F,bH=bf("nej.h"),bc=bf("nej.e"),bt=bf("nej.p");if(bt.iT.gecko)return;bH.Ae=function(bi,iJ,kS){kS=kS.slice(0,-1);bc.cD(bi,"transition",kS);setTimeout(function(){bc.iL(bi,iJ)},33);return this}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bH=bf("nej.h"),bt=bf("nej.p");if(bt.iT.webkit)return})();
(function(){var bf=NEJ.P,cj=NEJ.F,bH=bf("nej.h"),bt=bf("nej.p");if(bt.iT.presto)return})();
(function(){var bf=NEJ.P,cz=NEJ.O,cj=NEJ.F,bj=bf("nej.u"),bH=bf("nej.h"),bc=bf("nej.e"),bn=bf("nej.v"),bt=bf("nej.ut"),mO;if(!!bt.lP)return;bt.lP=NEJ.C();mO=bt.lP.cg(bt.fP);mO.cO=function(bd){this.cP(bd);this.mM=bc.bG(bd.node);this.NV=bd.styles||[];this.NW=bd.onstop||cj;this.Iz=bd.transition||[];this.ww={};this.NY=this.WG();if(!!bH.rM&&bH.rM()){setTimeout(this.rM.bl(this),this.IA*1e3)}else{this.gg([[this.mM,"transitionend",this.rM.bl(this)]])}};mO.du=function(){if(!!this.uV){this.uV=window.clearInterval(this.uV)}delete this.mM;delete this.NV;delete this.NY;delete this.ww;delete this.IB;delete this.Iz;delete this.uV;this.dG()};mO.rM=function(bg){if(!!bH.rM&&bH.rM()){this.IC=!1;this.eC();return}if(!!this.IC&&this.WL(bg)){this.IC=!1;this.eC()}};mO.WL=function(bg){var bP=bg.propertyName;if(bP===this.IB||bP.indexOf(this.IB)>-1)return!0;else return!1};mO.WG=function(){var WM=function(fM){var bm=fM.split(":"),fC=bm[0],bA=bm[1],bi=this.mM;if(bA.indexOf("=")>-1){var mJ=parseInt(bc.fo(bi,fC))||0;var eU=parseInt(bA.split("=")[1]);if(bA.indexOf("+")>-1)bA=mJ+eU;else bA=mJ-eU}if(bH.No(fC)){if(bA.toString().indexOf("px")<0)bA+="px"}this.ww[fC]=bA};var WO=function(bs){if(!this.Iz[bs])return"";var ly=this.Iz[bs],bW=ly.duration+ly.delay;if(bW>=this.IA){this.IA=bW;this.IB=ly.property}return ly.property+" "+ly.duration+"s "+ly.timing+" "+ly.delay+"s,"};return function(){var Of="";this.IA=0;bj.ch(this.NV,function(fM,bs){WM.call(this,fM);Of+=WO.call(this,bs)}.bl(this));return Of}}();mO.WQ=function(){this.Og={};bj.cY(this.ww,function(bA,fC){this.Og[fC]=bc.fo(this.mM,fC)}.bl(this));this.bR("onplaystate",this.Og)};mO.Ce=function(){this.IC=!0;bH.Ae(this.mM,this.ww,this.NY,this.NW);this.uV=window.setInterval(this.WQ.bl(this),49);return this};mO.eC=function(){bH.Ij(this.mM,this.ww,this.NW);this.uV=window.clearInterval(this.uV);return this};mO.bmh=function(){};mO.bmg=function(){}})();
(function(){var bf=NEJ.P,cj=NEJ.F,bj=bf("nej.u"),bc=bf("nej.e"),bj=bf("nej.u"),bt=bf("nej.ut");bc.BY=function(bd){bd=bd||{};bd.onstop=bd.onstop||cj;bd.onplaystate=bd.onplaystate||cj;return bd};bc.Ol=function(){var WX=function(bi,BU,wx){var dW,ho=true;if(!!wx){bj.cY(BU,function(bA,bP){if(bP==="opacity"){bP="filter";var fJ=bc.fo(bi,bP);if(fJ===""){bc.cD(bi,"filter","alpha(opacity=100)");dW=100}else{dW=parseFloat(fJ.split("=")[1])||0}bA=bA*100}else{dW=bc.fo(bi,bP)}if(parseInt(dW)===bA)ho=false}.bl(this))}else{bj.cY(BU,function(bA,bP){dW=bc.fo(bi,bP);if(parseInt(dW)===bA)ho=false}.bl(this))}return ho};return function(bi,BU){var wx=nej.p.gQ.engine==="trident"&&nej.p.gQ.release-5<0;if(!WX(bi,BU,wx))return!1;return!0}}();bc.On=function(){var Xb=function(bi){var Bl=bc.fo(bi,"display");if(Bl==="none")return!1;return!0};return function(bi,bd,iP){var Oo=bd.opacity||iP;bi=bc.bG(bi);if(!Xb.call(bi))return!1;if(!!bi.effect)return!1;if(!bc.Ol(bi,{opacity:Oo}))return!1;bd=bc.BY(bd);bi.effect=bt.lP.bL({node:bi,transition:[{property:"opacity",timing:bd.timing||"ease-in",delay:bd.delay||0,duration:bd.duration||1}],styles:["opacity:"+Oo],onstop:function(lZ){bi.effect=bt.lP.cG(bi.effect);bd.onstop.call(null,lZ)},onplaystate:bd.onplaystate.bl(bi.effect)});bi.effect.Ce();return this}}.bl(this)();bc.bmf=function(bi,bd){return bc.On(bi,bd,1)};bc.bme=function(bi,bd){return bc.On(bi,bd,0)};bc.bmd=function(bi){bc.Xg(bi);return this};bc.Xg=function(bi){bi=bc.bG(bi);if(bi.effect&&bi.effect.eC()){if(!!bi.effect)bi.effect=bt.lP.cG(bi.effect)}return this};bc.bmc=function(bi,ge,bd){bi=bc.bG(bi);if(!!bi.effect)return!1;if(!bc.Ol(bi,ge))return!1;bd=bc.BY(bd);bd.duration=bd.duration||[];var pQ=ge.top||0,jF=ge.left||0;bi.effect=bt.lP.bL({node:bi,transition:[{property:"top",timing:bd.timing||"ease-in",delay:bd.delay||0,duration:bd.duration[0]||1},{property:"left",timing:bd.timing||"ease-in",delay:bd.delay||0,duration:bd.duration[1]||1}],styles:["top:"+pQ,"left:"+jF],onstop:function(lZ){bd.onstop.call(null,lZ);bi.effect=bt.lP.cG(bi.effect)},onplaystate:bd.onplaystate.bl(bi.effect)});bi.effect.Ce();return this};bc.bmb=function(){return function(bi,ge,bd){bi=bc.bG(bi);if(!!bi.effect)return!1;bd=bc.BY(bd);var bm=ge.split(":"),Xj=bm[0],Os=[];Os.push(ge);bi.effect=bt.lP.bL({node:bi,transition:[{property:Xj,timing:bd.timing||"ease-in",delay:bd.delay||0,duration:bd.duration||1}],styles:Os,onstop:function(lZ){bd.onstop.call(null,lZ);bi.effect=bt.lP.cG(bi.effect)},onplaystate:bd.onplaystate.bl(bi.effect)});bi.effect.Ce();return this}}();bc.blZ=function(){var Xm=function(bi,bB){return bB=="height"?bi.clientHeight:bi.clientWidth};return function(bi,bB,bd){bi=bc.bG(bi);if(!!bi.effect)return!1;bd=bc.BY(bd);var bA=bd.value||false;if(!bA){bc.cD(bi,"display","block");var bi=bc.bG(bi);bA=Xm(bi,bB)}var ho=bc.fo(bi,"visibility");if(ho==="hidden"){bi.style.height=0;bc.cD(bi,"visibility","inherit");bi.effect=bt.lP.bL({node:bi,transition:[{property:bB,timing:bd.timing||"ease-in",delay:bd.delay||0,duration:bd.duration||1}],styles:[bB+":"+bA],onstop:function(lZ){bd.onstop.call(null,lZ);bi.effect=bt.lP.cG(bi.effect);BN=window.clearTimeout(BN)},onplaystate:bd.onplaystate.bl(bi.effect)})}else{bi.style.height=bA;bi.effect=bt.lP.bL({node:bi,transition:[{property:bB,timing:bd.timing||"ease-in",delay:bd.delay||0,duration:bd.duration||1}],styles:[bB+":"+0],onstop:function(lZ){bc.cD(bi,"visibility","hidden");bc.cD(bi,bB,"auto");bd.onstop.call(null,lZ);bi.effect=bt.lP.cG(bi.effect);BN=window.clearTimeout(BN)},onplaystate:bd.onplaystate.bl(bi.effect)})}var BN=window.setTimeout(function(){bi.effect.Ce()}.bl(this),0);return this}}()})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bn=bf("nej.v"),bv=bf("nej.j"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),br=bf("nm.w"),be;bF.II=NEJ.C();be=bF.II.cg(bF.hl);be.eB=function(){this.eO();var bm=bc.bN(this.bC,"j-flag");this.Xp=bm[0];this.fd={cellphone:bm[1]};bn.bT(this.bC,"click",this.cH.bl(this))};be.fw=function(){this.gv="g-phone-info"};be.cO=function(bd){bd.title=bd.title||"提 示";bd.clazz="m-layer-phone";this.cP(bd);this.eN=bW.rg.bL({form:this.bC});this.Xp.innerText=bd.head||""};be.du=function(){this.dG();if(this.eN){this.eN.cG();delete this.eN}this.bC.cellphone.value="";this.dz("cellphone")};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"ok":var bh=this.eN.uo();if(!bh.cellphone){this.dz("cellphone","请输入手机号")}else if(!/^1\d{10}$/.test(bh.cellphone)){this.dz("cellphone","手机号应该为11位数字")}else{this.dz("cellphone")}if(this.vx()){return}this.bR("onok",bh);this.cG();break}};be.dz=function(bz,cX){var lr=this.fd[bz],qn=this.bC[bz];if(cX){lr.innerHTML=bk.hy('<i class="f-ib"></i>{0}',cX);bc.bQ(lr,"f-hide");bc.bS(qn,"u-txt-err")}else{bc.bS(lr,"f-hide");bc.bQ(qn,"u-txt-err")}};be.vx=function(){return!bc.dg(this.fd.cellphone,"f-hide")}})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bn=bf("nej.v"),bj=bf("nej.u"),bW=bf("nej.ut"),jG=bf("nej.ui"),br=bf("nm.w"),bk=bf("nm.x"),bF=bf("nm.l"),eo=bf("nej.g"),be,cl;br.oU=NEJ.C();be=br.oU.cg(jG.jt);be.cO=function(bd){this.cP(bd);this.mA=bd.parent;this.lH=bd.bigImgBox;this.vV=this.lH.getElementsByTagName("img")[0];this.Xu=bd.bigImgSrc.split("?")[0];this.vV.src=this.Xu;this.fQ=bd.smallMask;bn.bT(this.mA,"mouseover",this.Xw.bl(this));bn.bT(this.mA,"mousemove",this.Xx.bl(this));bn.bT(this.mA,"mouseout",this.Xy.bl(this))};be.Xw=function(bg){this.lH.style.display="block";this.fQ.style.display="block"};be.Xx=function(bg){var Xz=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;var XA=this.XE(this.mA),XB=this.XF(this.mA),XC=bg.clientX,XD=bg.clientY;this.fQ.style.left=XC-XA-this.fQ.offsetWidth/2+"px";this.fQ.style.top=Xz+XD-XB-this.fQ.offsetHeight/2+"px";if(this.fQ.offsetLeft<=0){this.fQ.style.left="0px"}if(this.fQ.offsetTop<=0){this.fQ.style.top="0px"}if(this.fQ.offsetLeft>=this.mA.offsetWidth-this.fQ.offsetWidth){this.fQ.style.left=this.mA.offsetWidth-this.fQ.offsetWidth+"px"}if(this.fQ.offsetTop>=this.mA.offsetHeight-this.fQ.offsetHeight){this.fQ.style.top=this.mA.offsetHeight-this.fQ.offsetHeight+"px"}this.vV.style.left="-"+this.fQ.offsetLeft/(this.mA.offsetWidth/this.vV.offsetWidth)+"px";this.vV.style.top="-"+this.fQ.offsetTop/(this.mA.offsetHeight/this.vV.offsetHeight)+"px"};be.Xy=function(bg){this.lH.style.display="none";this.fQ.style.display="none"};be.XE=function(obj){var jF=obj.offsetLeft;while(obj.offsetParent!=null){obj=obj.offsetParent;jF+=obj.offsetLeft}return jF};be.XF=function(obj){var pQ=obj.offsetTop;while(obj.offsetParent!=null){obj=obj.offsetParent;pQ+=obj.offsetTop}return pQ};be.du=function(){this.dG()}})();
var funParabola=function(element,target,options){var defaults={speed:166.67,curvature:.001,progress:function(){},complete:function(){}};var params={};options=options||{};for(var key in defaults){params[key]=options[key]||defaults[key]}var exports={mark:function(){return this},position:function(){return this},move:function(){return this},init:function(){return this}};var moveStyle="margin",testDiv=document.createElement("div");if("oninput"in testDiv){["","ms","webkit"].forEach(function(prefix){var transform=prefix+(prefix?"T":"t")+"ransform";if(transform in testDiv.style){moveStyle=transform}})}var a=params.curvature,b=0,c=0;var flagMove=true;if(element&&target&&element.nodeType==1&&target.nodeType==1){var rectElement={},rectTarget={};var centerElement={},centerTarget={};var coordElement={},coordTarget={};exports.mark=function(){if(flagMove==false)return this;if(typeof coordElement.x=="undefined")this.position();element.setAttribute("data-center",[coordElement.x,coordElement.y].join());target.setAttribute("data-center",[coordTarget.x,coordTarget.y].join());return this};exports.position=function(){if(flagMove==false)return this;var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft,scrollTop=document.documentElement.scrollTop||document.body.scrollTop;if(moveStyle=="margin"){element.style.marginLeft=element.style.marginTop="0px"}else{element.style[moveStyle]="translate(0, 0)"}rectElement=element.getBoundingClientRect();rectTarget=target.getBoundingClientRect();centerElement={x:rectElement.left+(rectElement.right-rectElement.left)/2+scrollLeft,y:rectElement.top+(rectElement.bottom-rectElement.top)/2+scrollTop};centerTarget={x:rectTarget.left+(rectTarget.right-rectTarget.left)/2+scrollLeft,y:rectTarget.top+(rectTarget.bottom-rectTarget.top)/2+scrollTop};coordElement={x:0,y:0};coordTarget={x:-1*(centerElement.x-centerTarget.x),y:-1*(centerElement.y-centerTarget.y)};b=(coordTarget.y-a*coordTarget.x*coordTarget.x)/coordTarget.x;return this};exports.move=function(){if(flagMove==false)return this;var startx=0,rate=coordTarget.x>0?1:-1;var step=function(){var tangent=2*a*startx+b;startx=startx+rate*Math.sqrt(params.speed/(tangent*tangent+1));if(rate==1&&startx>coordTarget.x||rate==-1&&startx<coordTarget.x){startx=coordTarget.x}var x=startx,y=a*x*x+b*x;element.setAttribute("data-center",[Math.round(x),Math.round(y)].join());if(moveStyle=="margin"){element.style.marginLeft=x+"px";element.style.marginTop=y+"px"}else{element.style[moveStyle]="translate("+[x+"px",y+"px"].join()+")"}if(startx!==coordTarget.x){params.progress(x,y);window.requestAnimationFrame(step)}else{params.complete();flagMove=true}};window.requestAnimationFrame(step);flagMove=false;return this};exports.init=function(){this.position().mark().move()}}return exports};(function(){var lastTime=0;var vendors=["webkit","moz"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16.7-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(id){clearTimeout(id)}}})();
(function(){var bf=NEJ.P,br=bf("nm.w");var Recmd=br.pD.extend({config:function(){this.data.url="/store/api/hotproduct_v2/gets";this.data.isShowFilter=false;this.data.isNeedLazyLoad=false},formatList:function(result){if(result.code===200){if(result.data.hotProduct.length===0){document.getElementById("m-block-hot").style.display="none"}var Ox=result.data.hotProduct||[],hn=Ox.length,bM,bX=[];for(bM=0;bM<hn;bM++){bX[bM]=Ox[bM].products||[]}return bX}}});br.Oy=Recmd})();
(function(){var bf=NEJ.P,br=bf("nm.w");var RecommendBoxCp=br.ev.extend({template:"#recommendtpl",name:"m-recommend-box"});br.XI=RecommendBoxCp})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bM=bf("nej.ui"),bv=bf("nej.j"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),br=bf("nm.w"),uU=bf("nm.h"),bk=bf("nm.x"),be,cl;bF.Bi=NEJ.C();be=bF.Bi.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.cH.bl(this))};be.cO=function(bd){bd.clazz="m-rechareg";this.cP(bd);this.oP=parseInt(bd.goodQuantity)||1;this.fr=bd.address;this.cA=bd.sku;this.bq=bd.product;this.dy=bd.order;this.hO=bd.extJson;this.jE=bd.friendId;this.mH=bd.sku.activityType;this.lV=bj.eH(bd.orderCallback)?bd.orderCallback:null;this.nO=bd.toorderpage;bc.de(this.bC,"g-order",{multSkyu:(this.bq.skus||[]).length>1,sku:this.cA,product:this.bq,goodQuantity:this.oP,options:bd||{}},{toPriceText:bk.lI,toRmb:this.jj,toJifen:this.kf});var bm=bc.bN(this.bC,"j-flag");this.uH=bm[0];this.km=bm[1];this.oS=bm[2];if(bm[3]){this.fy=bW.kv.bL({list:bc.fs(bm[3]),selected:"z-sel",dataset:"method"});if(bd.payMethod<2&&bd.payMethod>=0||bd.payMethod==3){this.mF(bd.payMethod)}else{this.mF(0)}}if(this.bq.specialType==14){this.wW()}else{if(this.bq.type==2){bv.bV("/store/api/point/listaddress",{method:"get",type:"json",onload:function(gM){if(gM.code==200){this.pf=gM.data;this.kC=br.Fe.bL({parent:this.uH,list:this.pf.reverse(),onchange:this.FO.bl(this)})}}.bl(this),onerror:function(){}})}}if(this.bq.priceType==0&&bd.cards&&bd.cards.length){bc.bQ(this.oS,"f-hide");bd.cards.unshift({id:0,name:"不使用积分券",price:0});this.gj=br.jO.bL({parent:this.oS,list:bd.cards,onchange:this.FP.bl(this),filter:function(bw){return bw.name+(bw.price>0?"(抵扣"+bw.price+"积分)":"")}})}if(this.bq.specialType==6){this.FQ=bc.bN(this.bC,"j-viptip")[0];this.pp=bc.bN(this.bC,"j-vipcheckbox")[0];bc.bQ(this.FQ,"f-hide")}this.lY=bc.bG("confirmbtn");this.dL=bd;if(bd.product.vipLimit==true&&bd.product.exchangeType==1&&bd.product.type==1){this.OA()}};be.du=function(){this.dG();if(this.fy){this.fy.cG();delete this.fy}if(this.gj){this.gj.cG();delete this.gj}if(this.kC){this.kC.cG();delete this.kC}delete this.km;delete this.oS;delete this.dy;delete this.hO};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"ok":this.OA(bg);this.cQ();break;case"cc":this.cQ();break;case"method":this.mF(bc.bJ(bi,"method"));break;case"changeAddress":if(this.bq.specialType==14){bF.vq.bL({info:this.hO,onok:function(kw){this.hO=kw;this.wW()}.bl(this)}).cw()}else{bF.jB.bL({needId:this.bq.specialType==13,title:"修改收货地址",address:this.fr,onok:this.WJ.bl(this)}).cw()}break;case"vipcheckbox":if(!this.pp||!this.lY)return;if(bc.dg(this.pp,"z-checked")){bc.bQ(this.pp,"z-checked");bc.bS(this.lY,"z-dis")}else{bc.bS(this.pp,"z-checked");bc.bQ(this.lY,"z-dis")}break}};be.sd=function(bh,bg){if(bg.code==200){this.FV({newAddress:bh.address||bh.newAddress,newPointCardId:bh.pointCardId,orderId:bg.orderId})}else{if(bg.code==2001){bk.ci({type:"error",message:"抽奖失败"})}else{bk.ci({type:"error",message:bg.message||"订单创建失败"});if(bg.code==1006){window.setTimeout(function(){location.href="/store/my/orderdetail?id="+bg.duplicateOrderId},1500)}}this.cQ()}};be.FV=function(bh){if(!bh.newAddress)delete bh.newAddress;if(!bh.newPointCardId)delete bh.newPointCardId;bv.bV("/store/api/order/pay/point",{type:"json",method:"post",data:bj.dv(bh),onload:this.xN.fH(this,bh),onerror:this.xN.bl(this)})};be.xN=function(bg,bh){if(bg.code==200){var mes="抽奖成功";bk.ci({message:mes,ondestroy:function(){location.href="/store/my/orderdetail?id="+bh.orderId}})}else{bk.ci({type:"error",message:"抽奖失败"})}this.cQ()};be.mF=function(iU){this.kt=iU;this.fy.ii(iU)};be.FO=function(eY){if(eY!="-1"){this.fr=eY}else{bF.jB.bL({needId:this.bq.specialType==13,onok:function(eY){this.fr=eY;if(eY.setdefault){bj.ch(this.pf,function(bw,bs){bw.prop=0});eY.prop=1}this.pf.unshift(eY);this.kC.hN(this.pf);this.kC.nC(eY)}.bl(this),title:"填写收货地址"}).cw()}};be.wW=function(){if(this.hO){bc.de(this.uH,"g-order-addr-msc",{name:this.hO.realName,cellphone:this.hO.cellphone,idNum:this.hO.idNumber})}};be.Xe=function(qj){var bX=qj.split(" ");bj.ch(bX,function(bw,bs,bm){bm[bs]="<em>"+bw+"</em>"});return bX.join("")};be.FP=function(bA){this.km.innerText=Math.max(this.cA.price*this.oP-bA.price,0)};be.jj=function(bB){return bB==0?"":"¥"};be.kf=function(bB){return bB==0?"积分":""};var vj=function(bg){try{window.open("//music.163.com/#/msg/m/private_detail?id=253335632&nickname=%E4%BA%91%E9%9F%B3%E4%B9%90%E5%AE%A2%E6%9C%8D")}catch(e){}};be.OA=function(bg){if(this.lY&&bc.dg(this.lY,"z-dis")){return}if(this.bq.specialType==17){bk.cF("click",{type:"pay",name:"payingconcert",sourceid:this.bq.concertId})}if(bg){bn.eC(bg)}var bD={rmb:this.bq.specialType==17?"/store/api/order/new/create_and_pay/rmb":"/store/api/order/create_and_pay/rmb",jf:"/store/api/order/create/point"},bh={goodId:this.bq.id,goodSKUId:this.cA.id,goodSnapshootId:this.cA.snapshotId,goodQuantity:this.oP};if(this.bq.specialType==9){bh.songId=this.bq.extInfo.songId}if(this.bq.specialType==6&&this.bq.skus&&this.bq.skus.length>1){bk.cF("click",{type:"topay",name:"vipgood"})}if(this.fr){bh.address=JSON.stringify({idCardNo:this.fr.idCardNo||"",username:this.fr.name,cellphone:this.fr.cellphone,addressId:this.fr.id||"",address:this.fr.provinceCity+this.fr.detailAddress})}if(this.hO){bh.extJson=JSON.stringify(this.hO)}if(this.jE>0){bh.extJson=JSON.stringify({doneeId:parseInt(this.jE)})}if(this.dy){bD.rmb="/api/ordering/web/customer/order/repay";bh.orderId=this.dy.id;bh.newAddress=bh.address;delete bh.address}if(this.bq.priceType==0){if(this.gj){bh[!this.dy?"pointCardId":"newPointCardId"]=this.gj.gP().id}if(this.dy){this.sd(bh,{code:200,orderId:this.dy.id})}else{bv.bV(bD.jf,{type:"json",method:"post",data:bj.dv(bh),onload:this.sd.bl(this,bh),onerror:this.sd.bl(this,bh)})}}};bk.OB=function(bd){if(bd.product.levelLimit>0){bk.bG("/store/api/point/userRating",null,{cache:true}).then(function(bo){if(bo.data.level>=bd.product.levelLimit){doPay(bd)}else{bk.ci({type:"error",message:"您的等级不够，暂时不能兑换"})}})}else{doPay(bd)}function doPay(bd){bk.iy("/store/api/point/canBuy",{skuId:bd.sku.id}).then(function(bg){bd.address=bg.address;bd.cards=bg.pointCardList;bd.sku.price=bg.price;bd.payMethod=bg.payMethod;var dR=bd.product;if(dR.vipLimit==true&&dR.exchangeType==1&&dR.type==1){bF.Bi.bL(bd)}else{bF.Bi.bL(bd).cw()}},function(bg){console.log(bg);if(bg.code==-5||bg.code==-6){bd.address=bg.address;bd.cards=bg.pointCardList;bd.sku.price=bg.price;bd.payMethod=bg.payMethod;bF.jB.bL({isOneAddrs:true,needId:bd.product.specialType==13,address:bg.address,onok:function(eY){bd.address=eY;bF.Bi.bL(bd).cw()},title:"填写收货地址"}).cw()}else if(bg.code==-3){bk.ep({title:"提示",message:'您的帐号存在异常，为保障帐号安全，已将其临时锁定。</br>请私信联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁',onaction:vj})}else if(bg.code==-2){bk.Dm().then(function(){doPay(bd)})}else{var eZ=uU.Md(bg.code,bg.message);bk.ci({type:"error",message:eZ})}})}}})();
(function(){var bf=NEJ.P,br=bf("nm.w");var PromotionCardCp=br.CP.extend({name:"m-promotion-card",template:"#promotioncard",config:function(){this.supr()},getImageSrc:function(co){var bt="360y360";var ef=co.picUrl+"?param="+bt;return ef},onCheckbox:function($event,cpdata){cpdata.selected=1;this.$emit("checkedEvent",cpdata.selected)},goToDetail:function(productId){window.open("/store/product/detail?id="+productId)},getClazz:function(index,type){if(index===0&&type!=0){return"first z-invalid"}else if(index!=0&&type!=0){return"z-invalid"}else if(index===0){return"first"}else{return""}}});br.blY=PromotionCardCp})();
(function(){var bf=NEJ.P,bv=bf("nej.j"),bj=bf("nej.u"),bF=bf("nm.l"),br=bf("nm.w");var HeavyPromotionCardCp=br.CP.extend({name:"m-heavy-card",template:"#heavycard",config:function(){this.supr()},init:function(){this.getDetail(this.data.cpdata.productId)},getImageSrc:function(co){var bt="360y360";var ef=co.picUrl+"?param="+bt;return ef},onCheckbox:function($event,cpdata){cpdata.selected=1;this.$emit("checkedEvent",cpdata.selected)},getDetail:function(productId){var obj=this.data.obj;if(!productId)return;var url="/store/api/product/detail?id="+productId;var op={method:"GET",onload:function(response){var result;if(typeof response=="string"){result=JSON.parse(response)}if(result&&result.code==200){this.data.originPro=result;this.reGenerateSKU(result.product)}}.bind(this),onerror:function(){}};bv.bV(url,op)},reGenerateSKU:function(product){this.bq=product;if(!this.bq)return;var bo={},fW={},nx={};if(this.bq&&this.bq.skus&&this.bq.skus.length>0){stockMax=0;bj.ch(this.bq.skus,function(bY,bs){bY.picUrl=bY.picUrl?bY.picUrl:"";if(!bY.picUrl){if(bj.eD(this.bq.picUrls)&&this.bq.picUrls.length>0){bj.ch(this.bq.picUrls,function(hU,kU){bY.picUrl+=hU+","}.bl(this));bY.picUrl=bY.picUrl.substring(0,bY.picUrl.length-1)}else{if(this.bq.coverUrl){bY.picUrl=this.bq.coverUrl}}}else{var vR=bY.picUrl.split(",");bY.picUrl="";bj.ch(vR,function(bn,bM){if(bn.indexOf("http://")<0){bn="http://"+bn}bY.picUrl+=bn+","}.bl(this));bY.picUrl=bY.picUrl.substring(0,bY.picUrl.length-1)}if(bY.stock)stockMax+=bY.stock;if(bj.eD(bY.attrs)&&bY.attrs.length>0){var fY=[];bj.ch(bY.attrs,function(eG,vO){fY.push(eG.attrValueId);if(!nx[eG.attrValueId]){nx[eG.attrValueId]=eG.attrId}if(!bo[eG.attrId]){var ju={};ju[eG.attrValueId]={name:eG.attrValue,isSelect:false,canSelect:true};bo[eG.attrId]={name:eG.attr,values:ju}}else{var ju=bo[eG.attrId].values;if(!ju[eG.attrValueId]){ju[eG.attrValueId]={name:eG.attrValue,isSelect:false,canSelect:true}}}}.bl(this));var kR=[];for(var bM=1;bM<bY.attrs.length;bM++){var vE=this.permutation(bY.attrs.length,bM);kR=kR.concat(vE)}for(var bM=0;bM<kR.length;bM++){var cE=kR[bM];var eL=[];if(cE.length>0){bj.ch(cE,function(vC,vO){eL.push(bY.attrs[vC].attrValueId)}.bl(this));eL.sort(function(v1,v2){return parseInt(v1)-parseInt(v2)});var cE="";bj.ch(eL,function(mK){cE+=mK+";"});eL=cE;eL=eL.substring(0,eL.length-1);if(!fW[eL]){var gB=bY.price;if(this.bq.discount&&bY.spePrice){gB=bY.spePrice}fW[eL]={price:[gB],originalprice:bY.price?[bY.price]:[],vipprice:bY.vipSpePrice?[bY.vipSpePrice]:[],stock:bY.stock}}else{var gB=bY.price;if(this.bq.discount&&bY.spePrice){gB=bY.spePrice}fW[eL].price.push(gB);fW[eL].originalprice.push(bY.price);if(bY.vipSpePrice){fW[eL].vipprice.push(bY.vipSpePrice)}fW[eL].stock+=bY.stock}}}fY.sort(function(v1,v2){return parseInt(v1)-parseInt(v2)});var cE="";bj.ch(fY,function(mK){cE+=mK+";"});fY=cE;fY=fY.substring(0,fY.length-1);if(!fW[fY]){var gB=bY.price;if(this.bq.discount&&bY.spePrice){gB=bY.spePrice}fW[fY]={price:[gB],stock:bY.stock,vipprice:bY.vipSpePrice?[bY.vipSpePrice]:[],originalprice:bY.price?[bY.price]:[],sku:bY,picUrl:bY.picUrl?bY.picUrl:""}}}}.bl(this))}this.dx={skumap:fW,attrmap:nx,renderSkus:bo,selectSKU:{}};if(this.getObjectKey(this.dx.renderSkus).length>1){this.data.isMultiSku=true}this.data.renderSkus=bo;this.setSkuMsg();this.$update()},permutation:function(n,m){var bM=0;var mode=0;var index_arr=[];var bo=[];while(bM>=0){if(mode==0){if(bM==0){index_arr[0]=0}else{index_arr[bM]=index_arr[bM-1]+1}if(bM==m-1){bo.push(index_arr.concat([]));mode=1}else bM++}else{index_arr[bM]++;if(index_arr[bM]>n-m+bM)bM--;else{if(bM==m-1)bo.push(index_arr.concat([]));else{bM++;mode=0}}}}return bo},onSelectSku:function(attrvalueid,attrid){var values=this.data.renderSkus[attrid].values;var sp="";for(var key in this.data.renderSkus[attrid].values){if(values[key].isSelect){sp=key}values[key].isSelect=false}bj.cY(this.dx.renderSkus[attrid].values,function(bY,kU){if(kU!=attrvalueid){if(this.dx.selectSKU[kU]){delete this.dx.selectSKU[kU]}}}.bl(this));if(sp==attrvalueid){delete this.dx.selectSKU[attrvalueid];values[attrvalueid].isSelect=false;if(this.dx.selectSKU[attrvalueid]){delete this.dx.selectSKU[attrvalueid]}}else{values[attrvalueid].isSelect=true;if(!this.dx.selectSKU[attrvalueid]){this.dx.selectSKU[attrvalueid]=attrid}}this.data.cpdata.selected=this.getObjectKey(this.dx.selectSKU).length>0?1:0;this.getSkuId(attrvalueid,attrid,values[attrvalueid].isSelect)},getSkuId:function(attrvalueid,attrid,isSelect){if(bj.ip(this.dx.selectSKU)&&this.getObjectKey(this.dx.selectSKU).length>0){var mE={};bj.cY(this.dx.selectSKU,function(bn,kM){mE[bn]=kM});bj.cY(this.data.renderSkus,function(bY,bz){var nB={};NEJ.X(nB,this.dx.selectSKU);var mk=false;bj.cY(mE,function(bn,bM){if(bM==bz){mk=true;return}}.bl(this));bj.cY(bY.values,function(hU,nl){if(this.dx.selectSKU[nl]){return}if(mk){delete nB[mE[bz]]}var hQ=this.getObjectKey(nB);hQ.push(nl*1);if(hQ.length>1){hQ.sort(function(v1,v2){return parseInt(v1)-parseInt(v2)})}var cE="";bj.ch(hQ,function(bn,kM){cE+=bn+";"});cE=cE.substring(0,cE.length-1);if(this.dx.skumap[cE]){hU.canSelect=true}else{hU.canSelect=false}}.bl(this))}.bl(this))}else{bj.cY(this.data.renderSkus,function(bY,bz){bj.cY(bY.values,function(hU,nl){hU.canSelect=true}.bl(this))}.bl(this))}var objKey=this.getObjectKey(this.dx.selectSKU);this.data.cpdata.selected=1;if(!isSelect){this.data.cpdata.invalidType=0;this.$update()}var objKey2=[];if(objKey.length>1){objKey2=[objKey[1],objKey[0]]}slted=this.dx.skumap[objKey.join(";")]||this.dx.skumap[objKey2.join(";")];var obj={};var cpdata=this.data.cpdata;obj.productId=cpdata.productId;obj.num=cpdata.num||1;if(slted&&slted.sku&&slted.sku.id){obj.skuId=slted.sku.id}this.$emit("changeProductSku",obj);this.$update()},getObjectKey:function(co,kJ){var kJ=kJ?kJ:true;if(co!=Object(co))throw Error("传入的不是object对象");var keys=[];for(var key in co){if(Object.prototype.hasOwnProperty.call(co,key))keys[keys.length]=kJ?key*1:key}return keys},calcStock:function(ez){var cR=Number.MAX_VALUE,cs=0;bj.ch(ez,function(cJ){var fT=cJ.stock;if(fT>cs){cs=fT}if(fT<cR){cR=fT}});if(cR<cs){return cR+"-"+cs}else{return cs}},setSkuMsg:function(){var gZ=false;if(this.bq.status==-1){gZ=true}if(this.calcStock(this.bq.skus)==0){gZ=true}if(!this.bq.allowDupBuy&&this.data.originPro.bought){gZ=true}this.data.isDisabled=gZ},isInvalid:function(){return this.data.cpdata.invalidType},getUnavalibleInfo:function(obj){var cU;switch(obj.invalidType){case 1101:cU="该商品已下架";break;case 1102:cU="该商品已售罄";break;case 1103:cU="超过限购数量";break;case 1104:cU="该商品不存在";break;case 1105:cU="该商品信息过期";break;case 1106:cU="该商品价格过期";break}return cU},getMax:function(){var cpdata=this.data.cpdata;if(cpdata.limitStatus){return cpdata.limitNum||50}else{return 50}}});br.blW=HeavyPromotionCardCp})();
(function(){var bf=NEJ.P,bv=bf("nej.j"),bj=bf("nej.u"),bk=bf("nm.x"),bF=bf("nm.l"),br=bf("nm.w");var PromotionSltCp=br.ev.extend({name:"m-promotion-slt",template:"#promotionslt",data:{cevent:{selectedAll:"selectedAll",unSelectedAll:"unSelectedAll"},obj:{},priceInfo:{}},config:function(){this.supr();this.formatDataFromDetail();this.$on(this.data.cevent.selectedAll,this.onSelectedAll.bind(this));this.$on(this.data.cevent.unSelectedAll,this.onUnSelectedAll.bind(this));this.$on(this.data.changeProductSku,this.changeProductSku.bind(this))},formatDataFromDetail:function(){var obj=this.data.obj;this.getProductDetail(obj);this.data.priceInfo=obj.matchPromotionPriceInfo;this.data.configId=obj.configId;this.data.mainProductId=obj.mainProductId;this.rankItemDatas();this.getCartDataAgain();this.checkSelectAllMenu()},rankItemDatas:function(){var itemDatas=this.data.obj.itemDatas;var illegalItem=[],unSelectedItem=[],selectedItem=[];itemDatas.forEach(function(item){if(item.invalidType!=0){illegalItem.push(item)}else if(item.selected){selectedItem.push(item)}else{unSelectedItem.push(item)}});this.data.obj.itemDatas=selectedItem.concat(unSelectedItem).concat(illegalItem)},getCartDataAgain:function(){var index=0;this.data.obj.itemDatas.forEach(function(item){if(item.selected){index+=1}});if(index===1){this.getCartData()}},getProductDetail:function(data){data.itemDatas.forEach(function(item,index){item.isBack=false}.bl(this))},getDetail:function(data,index,productId){var obj=this.data.obj;if(!productId)return;var url="/store/api/product/detail?id="+productId;var op={method:"GET",onload:function(response){var result;if(typeof response=="string"){result=JSON.parse(response)}if(result&&result.code==200){obj.itemDatas[index].product=result.product;this.formatSku(result.product);obj.itemDatas[index].isBack=true;if(obj.itemDatas.every(function(item){return item.isBack})){this.$update()}}}.bind(this),onerror:function(){}};bv.bV(url,op)},getCartData:function(type){var configId=this.data.configId;var query="";if(type==="init"){query={configId:configId,userSelectInfo:""}}else{var tmp=this.getSelectedQuerys();query={configId:configId,userSelectInfo:JSON.stringify(tmp.userSelectInfo)}}query.productId=this.qs("id");if(!configId)return;var bD="/store/api/promotion/match/page";var dH={query:bj.dv(query),onload:function(ce){var bo="";if(typeof ce=="string"){bo=JSON.parse(ce)}else{bo=ce}if(bo&&bo.code!=200){return}if(bo.data.matchInfo&&bo.data.matchInfo.configId){this.refreshData(bo.data,type,this.data.obj)}else{location.reload()}this.$update()}.bind(this),onerror:function(){}};bv.bV(bD,dH)},refreshData:function(data,type,oldData){if(!data.matchInfo)return;var matchInfo=this.formatData(data,type).matchInfo;this.data.obj=matchInfo;this.data.qty=matchInfo.itemDatas.length;this.data.configId=matchInfo.configId;this.data.priceInfo=matchInfo.matchPromotionPriceInfo;this.setMainProduct();if(type!="init"){var oldItems=oldData.itemDatas;this.recomputeNum(oldItems)}this.checkSelectAllMenu();this.$update()},formatData:function(data,type){if(data&&data.matchInfo&&data.matchInfo.matchProductItemList){data.matchInfo.matchProductItemList.forEach(function(item){item.num=1;if(type=="init"){if(item.productSKUAttrDataList&&item.productSKUAttrDataList.length>0){item.productSKUAttrDataList=null}item.selected=1}});data.matchInfo.itemDatas=data.matchInfo.matchProductItemList}return data},recomputeNum:function(oldItems){oldItems.forEach(function(item){this.data.obj.itemDatas.forEach(function(cell){if(cell.productId===item.productId){if(cell.skuId===item.skuId){cell.num=item.num;cell.selected=item.selected;cell.productSKUAttrDataList=item.productSKUAttrDataList}}})}.bl(this))},setMainProduct:function(){var itemDatas=this.data.obj.itemDatas;var mainMatch={};var index=0;var isMatch=false;for(var i=0;i<itemDatas.length;i++){if(itemDatas[i].productId==this.data.mainProductId){index===i;mainMatch=itemDatas[i];isMatch=true;break}}if(isMatch){itemDatas.splice(i,1);itemDatas.unshift(mainMatch)}},onCheckedEvent:function(){this.onCardNumberChange();this.checkSelectAllMenu()},onCardNumberChange:function(e){if(e&&e.mainId){this.changeNum(e)}this.getCartData()},changeNum:function(data){this.data.obj.itemDatas.forEach(function(cell){if(cell.mainId===data.mainId){cell.num=data.cnum}})},checkSelectAllMenu:function(){if(this.data.obj.itemDatas){this.data.sall=this.data.obj.itemDatas.every(function(cell){return cell.selected})}},getSelectedQuerys:function(){var userSelectInfo=[];this.data.obj.itemDatas.forEach(function(cell){var obj={};obj.matchMainId=cell.mainId;obj.skuId=cell.skuId;obj.num=cell.num;obj.displayPrice=cell.price;if((cell.selected||cell.productId==this.data.mainProductId)&&cell.invalidType==0){obj.selected=1}else{obj.selected=0}userSelectInfo.push(obj)}.bl(this));return{configId:this.data.configId,userSelectInfo:userSelectInfo}},getSelectedNum:function(){var bW=0;var bX=this.data.obj&&this.data.obj.itemDatas||[];bX.forEach(function(cell){if((cell.selected||cell.productId==this.data.mainProductId)&&cell.invalidType==0){if(cell.num&&!isNaN(cell.num))bW+=parseInt(cell.num)}}.bl(this));if(bW>99)return"99+";else return bW},getSelectedNumExceptMain:function(){var bW=0;var bX=this.data.obj&&this.data.obj.itemDatas||[];bX.forEach(function(cell){if(cell.selected&&cell.productId!=this.data.mainProductId&&cell.invalidType==0){if(cell.num&&!isNaN(cell.num))bW+=parseInt(cell.num)}}.bl(this));if(bW>99)return"99+";else return bW},isAllSelectedExceptMain:function(){var bX=this.data.obj&&this.data.obj.itemDatas||[];bX.every(function(cell){if(cell.productId!=this.data.mainProductId&&cell.invalidType==0){return cell.selected}}.bl(this))},goToWindow:function(){bF.IQ.bL({title:"搭配套餐",destroyable:true,onok:this.onPromotionChoose.bind(this)}).cw()},onSelectAllClick:function(){var selectedNum=this.getSelectedNum();if(selectedNum<=1)this.$emit(this.data.cevent.selectedAll);else this.$emit(this.data.cevent.unSelectedAll);this.onCardNumberChange()},onSelectedAll:function(){var co=this.data.obj;co&&co.itemDatas&&co.itemDatas.forEach(function(cell){cell.selected=1})},onUnSelectedAll:function(){var co=this.data.obj;co&&co.itemDatas&&co.itemDatas.forEach(function(cell){cell.selected=0})},changeProductSku:function(slted){var co=this.data.obj;co&&co.itemDatas&&co.itemDatas.forEach(function(cell){if(slted.productId===cell.productId){cell.num=slted.num;if(slted.skuId){cell.skuId=slted.skuId;cell.productSKUAttrDataList=[]}else{cell.skuId=cell.skuId;cell.productSKUAttrDataList=null}}});if(!slted.skuId)return;this.getCartData()},gotoJiesan:function(){if(detailJson.isLogin==0){location.href="/login?targetUrl="+encodeURIComponent(location.href);return}if(!this.isCanPay())return;var co=this.getSelectedQuerys();if(co.userSelectInfo.length){var bD="/store/api/promotion/match/settle";var dH={method:"POST",data:bj.dv({configId:co.configId,userSelectInfo:JSON.stringify(co.userSelectInfo)}),onload:function(ce){var bo=this.handlerResponse(ce);if(bo.code==200){location.href="/store/order/confirm?key="+bo.data.key+"&isCart=1&promotionName="+encodeURIComponent(this.data.obj.configName)}else if(bo.code==401){location.href="/store/security?source="+encodeURIComponent(location.href)}else if(bo.code==1001){bk.ci({message:bo.msg})}else{bk.ci({message:"你选择的商品价格或库存数量有改变，请确认后再结算。"});this.getCartData()}}.bind(this),onerror:function(){}};bv.bV(bD,dH)}},isCanPay:function(){var isAllSlted=true;var itemDatas=this.data.obj.itemDatas;for(var i=0,len=itemDatas.length;i<len;i++){if(itemDatas[i].invalidType===0&&itemDatas[i].selected&&!itemDatas[i].productSKUAttrDataList){itemDatas[i].hasNoneSelect=true;isAllSlted=false;setTimeout(function(){bk.ci({message:"请选择规格属性和数量"})},200);break}}return this.data.obj.itemDatas[0].invalidType===0&&isAllSlted},handlerResponse:function(ce){var bo;if(typeof ce=="string"){bo=JSON.parse(ce)}else bo=ce;return bo}});br.Yq=PromotionSltCp})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bv=bf("nej.j"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),br=bf("nm.w"),be,cl;bF.IQ=NEJ.C();be=bF.IQ.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.cH.bl(this))};be.fw=function(){this.gv="g-promotions"};be.cO=function(bd){bd.clazz="m-show-promotion";this.cP(bd);this.Yr(bd)};be.Yr=function(bd){if(this.qP){this.qP.destroy();this.qP=null}var obj=this.Yt({},bd.obj);this.qP=new br.Yq({data:{obj:obj}});this.qP.$inject("#select-promotion");this.qP.$on("upconfirm",this.IS.bind(this));this.qP.$on("goback",this.IT.bind(this))};be.Yt=function(destination,source,isCover){if(isCover==null)isCover=true;for(var property in source){if(!destination[property]||isCover){destination[property]=source[property]}}return destination};be.IS=function(newData){this.qO=newData};be.IT=function(){this.IU=true};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"close-modal":this.cQ();this.qP.destroy();this.qP=null;break}};be.blV=function(){this.bR("onok",this.qO,this.IU)}})();
(function(){var bf=NEJ.P,bv=bf("nej.j"),bj=bf("nej.u"),bF=bf("nm.l"),br=bf("nm.w");var PromotionInDetailCp=br.ev.extend({name:"m-promotion-in",template:"#promotionin",data:{cevent:{selectedAll:"selectedAll",unSelectedAll:"unSelectedAll"},obj:{},priceInfo:{},currentIndex:0,more:"更多",isShowMore:false,hasLess:false,hasMore:true,limitItemDataIndex:1},config:function(){this.supr();this.getCartData("init")},getIndex:function(index,num){if(num===1)return"";var indexMap={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八",19:"十九",20:"二十",21:"二十一"};return indexMap[index+1]},handleClick:function(configId,index){this.data.configId=configId;this.data.currentIndex=index;this.getCartData("init")},toggleMore:function(type){this.data.isShowMore=type},changeIndex:function(configId,index){this.handleClick(configId,index);this.data.more="套餐"+this.getIndex(index)},getCartData:function(type){var configId=this.data.configId;var query="";if(type==="init"){query={configId:configId,userSelectInfo:""}}else{var tmp=this.getSelectedQuerys();query={configId:configId,userSelectInfo:JSON.stringify(tmp.userSelectInfo)}}query.productId=this.qs("id");if(!configId)return;var bD="/store/api/promotion/match/page";var dH={query:bj.dv(query),onload:function(ce){var bo="";if(typeof ce=="string"){bo=JSON.parse(ce)}else{bo=ce}if(bo&&bo.code!=200){return}if(bo.data.matchInfo&&bo.data.matchInfo.configId){this.refreshData(bo.data,type,this.data.obj)}else{location.reload()}this.$update()}.bind(this),onerror:function(){}};bv.bV(bD,dH)},refreshData:function(data,type,oldData){if(!data.matchInfo)return;var matchInfo=this.formatData(data,"init").matchInfo;this.data.obj=matchInfo;this.data.qty=matchInfo.itemDatas.length;this.data.configId=matchInfo.configId;this.data.priceInfo=matchInfo.matchPromotionPriceInfo;this.setMainProduct();if(type!="init"){var oldItems=oldData.itemDatas;this.recomputeNum(oldItems)}this.setItemLimitDatas(1);this.$emit("dataloaded");this.$update()},formatData:function(data,type){var validItems=[],invalidItems=[];if(data&&data.matchInfo&&data.matchInfo.matchProductItemList){data.matchInfo.matchProductItemList.forEach(function(item){item.num=1;if(type=="init"){if(item.productSKUAttrDataList&&item.productSKUAttrDataList.length>0){item.productSKUAttrDataList=null}item.selected=1}if(item.invalidType===0){validItems.push(item)}else{invalidItems.push(item)}})}data.matchInfo.itemDatas=validItems.concat(invalidItems);return data},setItemLimitDatas:function(){var index=this.data.limitItemDataIndex;var itemDatas=this.data.obj.itemDatas;var mainItemDatas=this.data.obj.itemDatas&&this.data.obj.itemDatas[0];if(itemDatas.length<5){this.data.obj.itemLimitDatas=itemDatas}else{this.data.obj.itemLimitDatas=itemDatas.slice((index-1)*3+1,index*3+1);this.data.obj.itemLimitDatas.unshift(mainItemDatas)}},changeItemLimitDatas:function(type){var data=this.data;if(type==="plus"){if(!this.data.hasMore)return;data.limitItemDataIndex+=1}else{if(!this.data.hasLess)return;data.limitItemDataIndex-=1}var len=data.obj.itemDatas.length;var maxIndex=Math.ceil((len-1)/3);var minIndex=1;if(data.limitItemDataIndex==minIndex){this.data.hasLess=false;this.data.hasMore=true}else if(data.limitItemDataIndex>minIndex&&data.limitItemDataIndex<maxIndex){this.data.hasLess=true;this.data.hasMore=true}else{this.data.hasMore=false;this.data.hasLess=true}if(maxIndex===minIndex){this.data.hasLess=false;this.data.hasMore=false}this.setItemLimitDatas()},recomputeNum:function(oldItems){oldItems.forEach(function(item){this.data.obj.itemDatas.forEach(function(cell){if(cell.productId===item.productId){if(cell.skuId===item.skuId){cell.num=item.num;cell.selected=item.selected}}})}.bl(this))},setMainProduct:function(){this.mainProductId=this.qs("id");var itemDatas=this.data.obj.itemDatas;var mainMatch={};var index=0;var isMatch=false;for(var i=0;i<itemDatas.length;i++){if(itemDatas[i].productId==this.mainProductId){index===i;mainMatch=itemDatas[i];mainMatch.selected=1;isMatch=true;break}}if(isMatch){itemDatas.splice(i,1);itemDatas.unshift(mainMatch)}},onCheckedEvent:function(){this.onNumberChange();this.checkSelectAllMenu()},onNumberChange:function(){this.getCartData()},checkSelectAllMenu:function(){if(this.data.obj.itemDatas){this.data.sall=this.data.obj.itemDatas.every(function(cell){return cell.selected})}},getSelectedQuerys:function(){var userSelectInfo=[];this.data.obj.itemDatas.forEach(function(cell){var obj={};obj.matchMainId=cell.mainId;obj.skuId=cell.skuId;obj.num=cell.num;obj.displayPrice=cell.price;if((cell.selected||cell.productId==this.mainProductId)&&cell.invalidType==0){obj.selected=1}else{obj.selected=0}userSelectInfo.push(obj)}.bl(this));return{configId:this.data.configId,userSelectInfo:userSelectInfo}},getSelectedNum:function(){var bW=0;var bX=this.data.obj&&this.data.obj.itemDatas||[];bX.forEach(function(cell){if((cell.selected||cell.productId==this.mainProductId)&&cell.invalidType==0){if(cell.num&&!isNaN(cell.num))bW+=parseInt(cell.num)}}.bl(this));if(bW>99)return"99+";else return bW},goToWindow:function(){this.data.obj.mainProductId=this.mainProductId;this.originData=this.extend(this.data.obj);var layer=bF.IQ.bL({title:"搭配套餐",obj:this.data.obj,destroyable:true,onok:this.onPromotionChoose.bind(this),onclose:function(){}.bl(this)});layer.cw()},resetData:function(){this.data.obj=this.originData},onPromotionChoose:function(){}});br.OW=PromotionInDetailCp})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bk=bf("nm.x"),br=bf("nm.w");var Video=br.ev.extend({name:"videocp",template:"#videocp",data:{videoUrl:{},videoInfo:{}},config:function(){this.getVideoUrl();this.getVideoInfo()},getVideoUrl:function(){var id=this.data.videoId;var params={id:id};bk.bG("/api/cloudvideo/v1/video/detail",params).then(function(bg){if(bg.code==200){this.data.videoInfo=bg.data;this.$update()}}.bl(this))},getVideoInfo:function(){var id=this.data.videoId;var params={ids:JSON.stringify([id]),resolution:480};bk.bG("/api/cloudvideo/playurl",params).then(function(bg){if(bg.code==200){this.data.videoUrl=bg.urls[0];this.$update()}}.bl(this))},play:function(){var videoNode=this.$refs.video;var videoCoverNode=this.$refs.videoCover;videoNode.play();bc.bS(videoCoverNode,"f-hide");bc.bQ(videoNode,"f-hide");var end=function(){bc.bQ(videoCoverNode,"f-hide");bc.bS(videoNode,"f-hide")}.bl(this);videoNode.addEventListener("error",function(){end()},false);videoNode.addEventListener("ended",function(){end()},false)}});br.OX=Video})();
(function(){var bf=NEJ.P,bc=bf("nej.e"),bj=bf("nej.u"),bv=bf("nej.j"),bM=bf("nej.ui"),bn=bf("nej.v"),bW=bf("nej.ut"),bF=bf("nm.l"),bk=bf("nm.x"),br=bf("nm.w"),be,cl;bF.IW=NEJ.C();be=bF.IW.cg(bF.hl);be.eB=function(){this.eO();bn.bT(this.bC,"click",this.cH.bl(this))};be.cO=function(bd){bd.clazz="m-show-service";this.cP(bd);bc.de(this.bC,"g-service",{usedService:bd.usedService})};be.cH=function(bg){var bi=bn.cL(bg,"d:action");switch(bc.bJ(bi,"action")){case"ok":this.cQ();break}}})()